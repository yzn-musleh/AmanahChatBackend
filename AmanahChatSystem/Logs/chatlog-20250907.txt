2025-09-07 17:51:04.422 +03:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-07 17:51:04.641 +03:00 [INF] Now listening on: https://localhost:7003
2025-09-07 17:51:04.641 +03:00 [INF] Now listening on: http://localhost:5277
2025-09-07 17:51:04.643 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-07 17:51:04.643 +03:00 [INF] Hosting environment: Development
2025-09-07 17:51:04.643 +03:00 [INF] Content root path: C:\Users\hp\Downloads\AmanahChatSystem_Updated\AmanahChatSystem
2025-09-07 17:51:05.726 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/swagger - null null
2025-09-07 17:51:05.977 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/swagger - 301 0 null 256.635ms
2025-09-07 17:51:05.985 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/swagger/index.html - null null
2025-09-07 17:51:06.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/swagger/index.html - 200 null text/html;charset=utf-8 87.5763ms
2025-09-07 17:51:06.098 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/swagger/swagger-ui.css - null null
2025-09-07 17:51:06.112 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/swagger/swagger-ui-bundle.js - null null
2025-09-07 17:51:06.112 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/_framework/aspnetcore-browser-refresh.js - null null
2025-09-07 17:51:06.114 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/swagger/swagger-ui-standalone-preset.js - null null
2025-09-07 17:51:06.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.2351ms
2025-09-07 17:51:06.136 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-09-07 17:51:06.137 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 23.9683ms
2025-09-07 17:51:06.142 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-09-07 17:51:06.143 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/swagger/swagger-ui.css - 200 143943 text/css 45.5076ms
2025-09-07 17:51:06.169 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/_vs/browserLink - null null
2025-09-07 17:51:06.199 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-09-07 17:51:06.200 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 88.2595ms
2025-09-07 17:51:06.335 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 165.6127ms
2025-09-07 17:51:06.763 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/swagger/v1/swagger.json - null null
2025-09-07 17:51:06.822 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/swagger/favicon-32x32.png - null null
2025-09-07 17:51:06.823 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-09-07 17:51:06.823 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/swagger/favicon-32x32.png - 200 628 image/png 0.8784ms
2025-09-07 17:51:06.970 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 206.1604ms
2025-09-07 17:52:09.253 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - null null
2025-09-07 17:52:09.258 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:52:09.259 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - 204 null null 6.5873ms
2025-09-07 17:52:09.263 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Login - application/json 35
2025-09-07 17:52:09.271 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:52:09.335 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-09-07 17:52:09.367 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Commands.Users.LoginUser.LoginUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-09-07 17:52:10.636 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__request_UserName_0='?' (Size = 4000), @__request_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__request_UserName_0 AND [u].[Password] = @__request_Password_1
2025-09-07 17:52:10.743 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[Application.Commands.Users.LoginUser.GetLoggedUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-07 17:52:10.764 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI) in 1392.5501ms
2025-09-07 17:52:10.765 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-09-07 17:52:10.767 +03:00 [INF] HTTP POST /api/Users/Login responded 200 in 1491.9875 ms
2025-09-07 17:52:10.775 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Login - 200 null application/json; charset=utf-8 1512.0298ms
2025-09-07 17:52:10.810 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-09-07 17:52:10.810 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:52:10.810 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.5481ms
2025-09-07 17:52:10.824 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-09-07 17:52:10.825 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:52:10.825 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.4457ms
2025-09-07 17:52:10.827 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - null null
2025-09-07 17:52:10.828 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:52:10.828 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - 204 null null 0.5085ms
2025-09-07 17:52:10.857 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-09-07 17:52:10.857 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:52:10.860 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - application/json null
2025-09-07 17:52:10.860 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-09-07 17:52:10.861 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:52:10.864 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:52:10.935 +03:00 [INF] HTTP GET /api/Users responded 404 in 73.4147 ms
2025-09-07 17:52:10.936 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 75.2497ms
2025-09-07 17:52:10.937 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-09-07 17:52:10.947 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-09-07 17:52:10.948 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-09-07 17:52:10.961 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-09-07 17:52:10.961 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-09-07 17:52:11.053 +03:00 [ERR] An error occurred using the connection to database 'AmanahChatDB' on server 'YZN\SQLEXPRESS'.
2025-09-07 17:52:11.054 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-09-07 17:52:11.058 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-07 17:52:11.064 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 103.5551ms
2025-09-07 17:52:11.065 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-09-07 17:52:11.065 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 400 in 200.1618 ms
2025-09-07 17:52:11.065 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - 499 null application/json; charset=utf-8 204.3253ms
2025-09-07 17:52:11.084 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-07 17:52:11.091 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 129.4709ms
2025-09-07 17:52:11.091 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-09-07 17:52:11.091 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 233.2626 ms
2025-09-07 17:52:11.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 499 null application/json; charset=utf-8 234.0976ms
2025-09-07 17:54:47.509 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - null null
2025-09-07 17:54:47.509 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:54:47.510 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - 204 null null 1.1626ms
2025-09-07 17:54:47.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - application/json null
2025-09-07 17:54:47.518 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:54:47.522 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-07 17:54:47.530 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-07 17:54:47.531 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 401 in 12.5680 ms
2025-09-07 17:54:47.531 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - 401 0 null 13.431ms
2025-09-07 17:59:43.782 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - null null
2025-09-07 17:59:43.783 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:59:43.783 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - 204 null null 1.3028ms
2025-09-07 17:59:43.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - application/json null
2025-09-07 17:59:43.788 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:59:43.790 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-07 17:59:43.790 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-07 17:59:43.790 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 401 in 1.7279 ms
2025-09-07 17:59:43.791 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - 401 0 null 2.5078ms
2025-09-07 17:59:50.173 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - null null
2025-09-07 17:59:50.173 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:59:50.174 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - 204 null null 0.4418ms
2025-09-07 17:59:50.178 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - application/json null
2025-09-07 17:59:50.178 +03:00 [INF] CORS policy execution successful.
2025-09-07 17:59:50.179 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-07 17:59:50.179 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-07 17:59:50.179 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 401 in 0.5149 ms
2025-09-07 17:59:50.179 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser - 401 0 null 1.4392ms
