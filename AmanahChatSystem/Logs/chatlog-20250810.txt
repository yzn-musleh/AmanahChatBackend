2025-08-10 09:50:43.346 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - null null
2025-08-10 09:50:43.522 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:50:43.526 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - 204 null null 184.6137ms
2025-08-10 09:50:43.533 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Login - application/json 45
2025-08-10 09:50:43.543 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:50:43.561 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 09:50:43.649 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Commands.Users.LoginUser.LoginUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:50:43.886 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__request_UserName_0='?' (Size = 4000), @__request_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__request_UserName_0 AND [u].[Password] = @__request_Password_1
2025-08-10 09:50:43.895 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Domain.Common.ApiResult`1[[Application.Commands.Users.LoginUser.GetLoggedUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 09:50:43.905 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI) in 255.234ms
2025-08-10 09:50:43.905 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 09:50:43.905 +03:00 [INF] HTTP POST /api/Users/Login responded 400 in 357.5820 ms
2025-08-10 09:50:43.906 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Login - 400 null application/json; charset=utf-8 373.2233ms
2025-08-10 09:50:48.904 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - null null
2025-08-10 09:50:48.904 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:50:48.904 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - 204 null null 0.3242ms
2025-08-10 09:50:48.909 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Login - application/json 35
2025-08-10 09:50:48.910 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:50:48.910 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 09:50:48.910 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Commands.Users.LoginUser.LoginUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:50:48.918 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_UserName_0='?' (Size = 4000), @__request_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__request_UserName_0 AND [u].[Password] = @__request_Password_1
2025-08-10 09:50:48.934 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[Application.Commands.Users.LoginUser.GetLoggedUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 09:50:48.937 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI) in 26.4803ms
2025-08-10 09:50:48.937 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 09:50:48.937 +03:00 [INF] HTTP POST /api/Users/Login responded 200 in 26.9947 ms
2025-08-10 09:50:48.937 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Login - 200 null application/json; charset=utf-8 27.7439ms
2025-08-10 09:50:49.023 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 09:50:49.023 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:50:49.024 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.2512ms
2025-08-10 09:50:49.031 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-08-10 09:50:49.031 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:50:49.031 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.2811ms
2025-08-10 09:50:49.039 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:50:49.039 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:50:49.039 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.5088ms
2025-08-10 09:50:49.048 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 09:50:49.049 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:50:49.051 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 09:50:49.052 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 09:50:49.054 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-08-10 09:50:49.054 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:50:49.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:50:49.065 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:50:49.065 +03:00 [INF] HTTP GET /api/Users responded 404 in 4.4376 ms
2025-08-10 09:50:49.065 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 10.9658ms
2025-08-10 09:50:49.066 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:50:49.067 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:50:49.069 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 09:50:49.071 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:50:49.072 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-08-10 09:50:49.072 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 20.6953ms
2025-08-10 09:50:49.073 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 09:50:49.073 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 23.8608 ms
2025-08-10 09:50:49.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 24.4872ms
2025-08-10 09:50:49.082 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:50:49.112 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:50:49.113 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:50:49.121 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 53.7779ms
2025-08-10 09:50:49.121 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:50:49.121 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 56.0315 ms
2025-08-10 09:50:49.121 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 499 null application/json; charset=utf-8 56.7143ms
2025-08-10 09:53:04.534 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 09:53:04.534 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-08-10 09:53:04.534 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:04.534 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:04.534 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.2044ms
2025-08-10 09:53:04.534 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.2634ms
2025-08-10 09:53:04.534 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:53:04.534 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:04.534 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.3393ms
2025-08-10 09:53:04.539 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:53:04.540 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-08-10 09:53:04.540 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 09:53:04.540 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:04.540 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:04.540 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:04.540 +03:00 [INF] HTTP GET /api/Users responded 404 in 0.2657 ms
2025-08-10 09:53:04.540 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 0.6034ms
2025-08-10 09:53:04.540 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-08-10 09:53:04.541 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:53:04.541 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:53:04.543 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 09:53:04.543 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 09:53:04.552 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:53:04.558 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 09:53:04.558 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:53:04.559 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 15.6232ms
2025-08-10 09:53:04.559 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 09:53:04.559 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 19.0027 ms
2025-08-10 09:53:04.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 19.2953ms
2025-08-10 09:53:04.571 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:53:04.572 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:53:04.572 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 30.7992ms
2025-08-10 09:53:04.572 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:53:04.572 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 32.4586 ms
2025-08-10 09:53:04.572 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 499 null application/json; charset=utf-8 33.0675ms
2025-08-10 09:53:06.850 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:53:06.850 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:06.852 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:53:06.852 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:06.852 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1845ms
2025-08-10 09:53:06.852 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:53:06.852 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:53:06.865 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:53:06.867 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:06.868 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:53:06.868 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:53:06.871 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:53:06.890 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:53:06.900 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:53:06.900 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:53:06.900 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:53:06.900 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 47.9951ms
2025-08-10 09:53:06.900 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:53:06.900 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 50.2938 ms
2025-08-10 09:53:06.901 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 50.6252ms
2025-08-10 09:53:06.902 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:53:06.903 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 34.6044ms
2025-08-10 09:53:06.903 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:53:06.903 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 36.6107 ms
2025-08-10 09:53:06.904 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 38.0759ms
2025-08-10 09:53:11.878 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:53:11.878 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:11.878 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.3328ms
2025-08-10 09:53:11.885 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:53:11.885 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:11.885 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1986ms
2025-08-10 09:53:11.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:53:11.888 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:11.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:53:11.888 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:11.889 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:53:11.889 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:53:11.889 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:53:11.889 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:53:11.898 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:53:11.900 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:53:11.905 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:53:11.907 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:53:11.908 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 17.9395ms
2025-08-10 09:53:11.908 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:53:11.908 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 19.2978 ms
2025-08-10 09:53:11.908 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 19.6435ms
2025-08-10 09:53:11.918 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:53:11.919 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:53:11.919 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 29.3691ms
2025-08-10 09:53:11.919 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:53:11.919 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 30.7385 ms
2025-08-10 09:53:11.919 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 31.0711ms
2025-08-10 09:53:15.718 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:53:15.718 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:53:15.718 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:15.718 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:15.719 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:53:15.719 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:53:15.719 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:53:15.719 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:53:15.724 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:53:15.724 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:53:15.726 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:53:15.727 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:53:15.727 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:53:15.727 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:53:15.727 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 8.2133ms
2025-08-10 09:53:15.727 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 8.3023ms
2025-08-10 09:53:15.727 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:53:15.728 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:53:15.728 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 9.2071 ms
2025-08-10 09:53:15.728 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 9.6655ms
2025-08-10 09:53:15.728 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 9.1350 ms
2025-08-10 09:53:15.728 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 9.9654ms
2025-08-10 09:53:52.070 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:53:52.070 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:52.070 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.213ms
2025-08-10 09:53:52.070 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:53:52.070 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:52.071 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1455ms
2025-08-10 09:53:52.083 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:53:52.083 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:52.084 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:53:52.084 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:53:52.091 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:53:52.091 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:53:52.092 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:53:52.092 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:53:52.093 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:53:52.098 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:53:52.105 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:53:52.106 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:53:52.106 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 14.5196ms
2025-08-10 09:53:52.106 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:53:52.107 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 15.4497 ms
2025-08-10 09:53:52.107 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 16.0203ms
2025-08-10 09:53:52.112 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:53:52.112 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:53:52.112 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 28.0563ms
2025-08-10 09:53:52.112 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:53:52.112 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 28.7502 ms
2025-08-10 09:53:52.112 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 29.2137ms
2025-08-10 09:54:20.223 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:54:20.223 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:20.223 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2072ms
2025-08-10 09:54:20.232 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:54:20.232 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:20.232 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2028ms
2025-08-10 09:54:20.245 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:54:20.245 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:20.246 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:54:20.246 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:20.247 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:54:20.247 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:54:20.247 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:54:20.247 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:54:20.259 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:54:20.258 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:54:20.264 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:54:20.264 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:54:20.264 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 17.3519ms
2025-08-10 09:54:20.264 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:54:20.264 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 17.9771 ms
2025-08-10 09:54:20.264 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 18.4039ms
2025-08-10 09:54:20.278 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:54:20.278 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:54:20.279 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 31.513ms
2025-08-10 09:54:20.279 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:54:20.279 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 32.0344 ms
2025-08-10 09:54:20.279 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 34.1076ms
2025-08-10 09:54:26.444 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:54:26.444 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:26.444 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.5858ms
2025-08-10 09:54:26.445 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:54:26.445 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:26.445 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1895ms
2025-08-10 09:54:26.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:54:26.456 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:26.458 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:54:26.458 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:54:26.458 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:54:26.459 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:26.459 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:54:26.459 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:54:26.465 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:54:26.466 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:54:26.477 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:54:26.478 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:54:26.478 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 18.9087ms
2025-08-10 09:54:26.478 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:54:26.478 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 19.4132 ms
2025-08-10 09:54:26.478 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 19.8107ms
2025-08-10 09:54:26.489 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:54:26.490 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:54:26.490 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 31.3269ms
2025-08-10 09:54:26.490 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:54:26.490 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 33.3141 ms
2025-08-10 09:54:26.490 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 33.7098ms
2025-08-10 09:54:29.790 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:54:29.790 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.790 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:54:29.791 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:54:29.800 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:54:29.802 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 09:54:29.804 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.804 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 2.0343ms
2025-08-10 09:54:29.820 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:54:29.820 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:54:29.821 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 29.8149ms
2025-08-10 09:54:29.821 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:54:29.821 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 30.6980 ms
2025-08-10 09:54:29.821 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 31.1203ms
2025-08-10 09:54:29.834 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 09:54:29.834 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.834 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 09:54:29.841 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 09:54:29.842 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 7.4645 ms
2025-08-10 09:54:29.842 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 7.8706ms
2025-08-10 09:54:29.852 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=i-NyXg7tc9T7u21Q9GGBcQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MTIyNDgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.mnuSJx3GTBJjQYLUbatHK_XcKzD_SDMBN_jrJX8ks8U - null null
2025-08-10 09:54:29.853 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.855 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 09:54:29.857 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 09:54:29.857 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 3.5377 ms
2025-08-10 09:54:29.857 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=i-NyXg7tc9T7u21Q9GGBcQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MTIyNDgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.mnuSJx3GTBJjQYLUbatHK_XcKzD_SDMBN_jrJX8ks8U - 401 0 null 4.3058ms
2025-08-10 09:54:29.858 +03:00 [INF] Connection id "0HNEN4JCDLMRT", Request id "0HNEN4JCDLMRT:00000003": the application completed without reading the entire request body.
2025-08-10 09:54:29.865 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 09:54:29.865 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.865 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2733ms
2025-08-10 09:54:29.867 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 09:54:29.867 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.868 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 09:54:29.868 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 09:54:29.868 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4389 ms
2025-08-10 09:54:29.868 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6908ms
2025-08-10 09:54:29.874 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=X9i7hIBvZMzIxzSmbcbrSw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MTIyNDgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.mnuSJx3GTBJjQYLUbatHK_XcKzD_SDMBN_jrJX8ks8U - null null
2025-08-10 09:54:29.874 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.874 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 09:54:29.874 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 09:54:29.874 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1926 ms
2025-08-10 09:54:29.874 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=X9i7hIBvZMzIxzSmbcbrSw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MTIyNDgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.mnuSJx3GTBJjQYLUbatHK_XcKzD_SDMBN_jrJX8ks8U - 401 0 null 0.4641ms
2025-08-10 09:54:29.878 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 09:54:29.878 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.878 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2071ms
2025-08-10 09:54:29.880 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 09:54:29.880 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.880 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 09:54:29.881 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 09:54:29.881 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.7252 ms
2025-08-10 09:54:29.881 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.0527ms
2025-08-10 09:54:29.887 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w&_=1754808869884 - null null
2025-08-10 09:54:29.887 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.887 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w&_=1754808869884 - 204 null null 0.1955ms
2025-08-10 09:54:29.889 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w&_=1754808869884 - null null
2025-08-10 09:54:29.889 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.890 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 09:54:29.897 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 09:54:29.898 +03:00 [INF] HTTP GET /chathub responded 200 in 8.2190 ms
2025-08-10 09:54:29.898 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w&_=1754808869884 - 200 0 application/octet-stream 8.5388ms
2025-08-10 09:54:29.904 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w&_=1754808869902 - null null
2025-08-10 09:54:29.905 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.905 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w&_=1754808869902 - 204 null null 0.2388ms
2025-08-10 09:54:29.906 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w - null null
2025-08-10 09:54:29.906 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.906 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w - 204 null null 0.3318ms
2025-08-10 09:54:29.910 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w&_=1754808869902 - null null
2025-08-10 09:54:29.910 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.911 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 09:54:29.912 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w - text/plain;charset=UTF-8 32
2025-08-10 09:54:29.912 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.913 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 09:54:29.914 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 09:54:29.914 +03:00 [INF] HTTP POST /chathub responded 200 in 1.9838 ms
2025-08-10 09:54:29.914 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w - 200 0 text/plain 2.2945ms
2025-08-10 09:54:29.919 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 09:54:29.919 +03:00 [INF] HTTP GET /chathub responded 200 in 8.9702 ms
2025-08-10 09:54:29.919 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w&_=1754808869902 - 200 3 application/octet-stream 9.327ms
2025-08-10 09:54:29.924 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w&_=1754808869922 - null null
2025-08-10 09:54:29.924 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.924 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w&_=1754808869922 - 204 null null 0.1628ms
2025-08-10 09:54:29.925 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w&_=1754808869922 - null null
2025-08-10 09:54:29.926 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:29.926 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 09:54:30.832 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:54:30.832 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:30.834 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:54:30.834 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:54:30.843 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:54:30.843 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:30.844 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:54:30.844 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:54:30.844 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:54:30.861 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:54:30.861 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:54:30.862 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:54:30.862 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 27.962ms
2025-08-10 09:54:30.862 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:54:30.862 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 30.0174 ms
2025-08-10 09:54:30.862 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 30.3533ms
2025-08-10 09:54:30.879 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:54:30.881 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:54:30.881 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 36.995ms
2025-08-10 09:54:30.881 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:54:30.881 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 37.6544 ms
2025-08-10 09:54:30.881 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 38.0542ms
2025-08-10 09:54:35.271 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 09:54:35.271 +03:00 [INF] HTTP GET /chathub responded 200 in 5345.3285 ms
2025-08-10 09:54:35.271 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=Ten6uNYwY-abo-r62vN81w&_=1754808869922 - 499 null null 5345.6476ms
2025-08-10 09:54:35.478 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:54:35.478 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:54:35.478 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:35.478 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:35.478 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2613ms
2025-08-10 09:54:35.478 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2881ms
2025-08-10 09:54:35.485 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:54:35.485 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:54:35.485 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:35.485 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:54:35.486 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:54:35.486 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:54:35.486 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:54:35.486 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:54:35.496 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:54:35.496 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:54:35.501 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:54:35.501 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:54:35.501 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 15.1024ms
2025-08-10 09:54:35.502 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:54:35.502 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 15.5652 ms
2025-08-10 09:54:35.502 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 16.4383ms
2025-08-10 09:54:35.512 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:54:35.512 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:54:35.513 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 26.601ms
2025-08-10 09:54:35.513 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:54:35.513 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 27.2617 ms
2025-08-10 09:54:35.513 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 27.5873ms
2025-08-10 09:55:17.973 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:55:17.973 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:55:17.973 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2185ms
2025-08-10 09:55:17.977 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:55:17.977 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:55:17.977 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1901ms
2025-08-10 09:55:17.984 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:55:17.984 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:55:17.985 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:55:17.985 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:55:17.987 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:55:17.987 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:55:17.987 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:55:17.987 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:55:17.993 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:55:17.993 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:55:17.998 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:55:17.998 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:55:17.999 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 11.3436ms
2025-08-10 09:55:17.999 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:55:17.999 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 11.7970 ms
2025-08-10 09:55:17.999 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 12.267ms
2025-08-10 09:55:18.016 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:55:18.016 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:55:18.017 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 31.5848ms
2025-08-10 09:55:18.017 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:55:18.017 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 32.4566 ms
2025-08-10 09:55:18.017 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 33.2098ms
2025-08-10 09:56:19.398 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:56:19.398 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:56:19.398 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.3377ms
2025-08-10 09:56:19.408 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:56:19.408 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:56:19.408 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2417ms
2025-08-10 09:56:19.413 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:56:19.413 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:56:19.413 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:56:19.413 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:56:19.413 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:56:19.413 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:56:19.413 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:56:19.413 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:56:19.421 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:56:19.421 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:56:19.425 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:56:19.426 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:56:19.426 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 12.749ms
2025-08-10 09:56:19.426 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:56:19.426 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 13.3304 ms
2025-08-10 09:56:19.426 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 13.6604ms
2025-08-10 09:56:19.437 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:56:19.437 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:56:19.438 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 24.3018ms
2025-08-10 09:56:19.438 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:56:19.438 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 24.6984 ms
2025-08-10 09:56:19.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 24.9977ms
2025-08-10 09:56:21.648 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:56:21.648 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:56:21.648 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:56:21.649 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:56:21.649 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:56:21.649 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:56:21.650 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:56:21.650 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:56:21.660 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:56:21.660 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:56:21.664 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:56:21.665 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:56:21.665 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 15.5163ms
2025-08-10 09:56:21.665 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:56:21.665 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 15.9202 ms
2025-08-10 09:56:21.665 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 16.407ms
2025-08-10 09:56:21.680 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:56:21.681 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:56:21.681 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 32.206ms
2025-08-10 09:56:21.681 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:56:21.681 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 32.7066 ms
2025-08-10 09:56:21.681 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 33.0385ms
2025-08-10 09:57:02.108 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:57:02.109 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:57:02.109 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2463ms
2025-08-10 09:57:02.116 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:57:02.117 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:57:02.117 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2619ms
2025-08-10 09:57:02.126 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:57:02.126 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:57:02.126 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:57:02.126 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:57:02.128 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:57:02.128 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:57:02.129 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:57:02.129 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:57:02.137 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:57:02.138 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:57:02.147 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:57:02.148 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:57:02.149 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 19.8991ms
2025-08-10 09:57:02.149 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:57:02.149 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 20.4248 ms
2025-08-10 09:57:02.149 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 20.8046ms
2025-08-10 09:57:02.170 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:57:02.170 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:57:02.170 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 43.936ms
2025-08-10 09:57:02.170 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:57:02.170 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 44.5712 ms
2025-08-10 09:57:02.171 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 44.9754ms
2025-08-10 09:57:10.570 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - null null
2025-08-10 09:57:10.570 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:57:10.570 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - 204 null null 0.2231ms
2025-08-10 09:57:10.573 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Login - application/json 36
2025-08-10 09:57:10.573 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:57:10.573 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 09:57:10.573 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Commands.Users.LoginUser.LoginUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:57:10.588 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_UserName_0='?' (Size = 4000), @__request_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__request_UserName_0 AND [u].[Password] = @__request_Password_1
2025-08-10 09:57:10.588 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Domain.Common.ApiResult`1[[Application.Commands.Users.LoginUser.GetLoggedUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 09:57:10.588 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI) in 14.7688ms
2025-08-10 09:57:10.588 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 09:57:10.588 +03:00 [INF] HTTP POST /api/Users/Login responded 400 in 15.1151 ms
2025-08-10 09:57:10.589 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Login - 400 null application/json; charset=utf-8 15.4904ms
2025-08-10 09:57:41.468 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:57:41.468 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:57:41.468 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2083ms
2025-08-10 09:57:41.482 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:57:41.482 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:57:41.482 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.6588ms
2025-08-10 09:57:41.483 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:57:41.484 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:57:41.484 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:57:41.484 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:57:41.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:57:41.487 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:57:41.487 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:57:41.487 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:57:41.493 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:57:41.493 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:57:41.497 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:57:41.498 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:57:41.498 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 10.3715ms
2025-08-10 09:57:41.498 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:57:41.498 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 10.8239 ms
2025-08-10 09:57:41.498 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 11.202ms
2025-08-10 09:57:41.507 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:57:41.507 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:57:41.507 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 22.7744ms
2025-08-10 09:57:41.507 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:57:41.507 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 23.3233 ms
2025-08-10 09:57:41.507 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 23.8536ms
2025-08-10 09:57:43.816 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - null null
2025-08-10 09:57:43.816 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:57:43.816 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - 204 null null 0.3234ms
2025-08-10 09:57:43.820 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Login - application/json 36
2025-08-10 09:57:43.820 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:57:43.820 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 09:57:43.821 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Commands.Users.LoginUser.LoginUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:57:43.834 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_UserName_0='?' (Size = 4000), @__request_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__request_UserName_0 AND [u].[Password] = @__request_Password_1
2025-08-10 09:57:43.835 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Domain.Common.ApiResult`1[[Application.Commands.Users.LoginUser.GetLoggedUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 09:57:43.835 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI) in 14.3247ms
2025-08-10 09:57:43.835 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 09:57:43.835 +03:00 [INF] HTTP POST /api/Users/Login responded 400 in 14.7353 ms
2025-08-10 09:57:43.835 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Login - 400 null application/json; charset=utf-8 15.1447ms
2025-08-10 09:59:44.042 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:59:44.042 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:59:44.042 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2911ms
2025-08-10 09:59:44.042 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 09:59:44.042 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:59:44.043 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1584ms
2025-08-10 09:59:44.047 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:59:44.047 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 09:59:44.048 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:59:44.048 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:59:44.048 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:59:44.048 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:59:44.048 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 09:59:44.048 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:59:44.053 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:59:44.054 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 09:59:44.057 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 09:59:44.057 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:59:44.058 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 9.4207ms
2025-08-10 09:59:44.058 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 09:59:44.058 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 9.9162 ms
2025-08-10 09:59:44.058 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 10.2863ms
2025-08-10 09:59:44.070 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 09:59:44.071 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 09:59:44.071 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 22.9009ms
2025-08-10 09:59:44.071 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 09:59:44.071 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 23.4477 ms
2025-08-10 09:59:44.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 23.8862ms
2025-08-10 09:59:46.739 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - null null
2025-08-10 09:59:46.739 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:59:46.739 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - 204 null null 0.5468ms
2025-08-10 09:59:46.744 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Login - application/json 36
2025-08-10 09:59:46.744 +03:00 [INF] CORS policy execution successful.
2025-08-10 09:59:46.744 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 09:59:46.744 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Commands.Users.LoginUser.LoginUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 09:59:46.750 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserName_0='?' (Size = 4000), @__request_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__request_UserName_0 AND [u].[Password] = @__request_Password_1
2025-08-10 09:59:46.751 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Domain.Common.ApiResult`1[[Application.Commands.Users.LoginUser.GetLoggedUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 09:59:46.751 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI) in 6.432ms
2025-08-10 09:59:46.751 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 09:59:46.751 +03:00 [INF] HTTP POST /api/Users/Login responded 400 in 6.9548 ms
2025-08-10 09:59:46.751 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Login - 400 null application/json; charset=utf-8 7.4667ms
2025-08-10 12:40:15.767 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - null null
2025-08-10 12:40:15.779 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:15.782 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - 204 null null 16.6992ms
2025-08-10 12:40:15.785 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Login - application/json 35
2025-08-10 12:40:15.791 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:15.802 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 12:40:15.808 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Commands.Users.LoginUser.LoginUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:40:15.894 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__request_UserName_0='?' (Size = 4000), @__request_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__request_UserName_0 AND [u].[Password] = @__request_Password_1
2025-08-10 12:40:15.931 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[Application.Commands.Users.LoginUser.GetLoggedUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 12:40:15.934 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI) in 125.2016ms
2025-08-10 12:40:15.934 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 12:40:15.934 +03:00 [INF] HTTP POST /api/Users/Login responded 200 in 140.9552 ms
2025-08-10 12:40:15.934 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Login - 200 null application/json; charset=utf-8 149.3376ms
2025-08-10 12:40:16.010 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 12:40:16.010 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:16.011 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.3102ms
2025-08-10 12:40:16.020 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-08-10 12:40:16.020 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:16.020 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.2557ms
2025-08-10 12:40:16.029 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 12:40:16.030 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:16.030 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.3191ms
2025-08-10 12:40:16.046 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 12:40:16.046 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:16.048 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:40:16.048 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 12:40:16.049 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-08-10 12:40:16.049 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:16.053 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:40:16.053 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:16.055 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:40:16.055 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 12:40:16.056 +03:00 [INF] HTTP GET /api/Users responded 404 in 0.6085 ms
2025-08-10 12:40:16.056 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 6.9373ms
2025-08-10 12:40:16.060 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-08-10 12:40:16.066 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 12:40:16.067 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:40:16.068 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:40:16.074 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 26.6709ms
2025-08-10 12:40:16.075 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:40:16.075 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 28.2643 ms
2025-08-10 12:40:16.075 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 499 null application/json; charset=utf-8 28.937ms
2025-08-10 12:40:16.102 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 12:40:16.102 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:40:16.103 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 47.781ms
2025-08-10 12:40:16.103 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:40:16.103 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 50.1740 ms
2025-08-10 12:40:16.104 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 499 null application/json; charset=utf-8 50.7653ms
2025-08-10 12:40:17.288 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:40:17.288 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.289 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:40:17.289 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 12:40:17.294 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:40:17.298 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 12:40:17.298 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:40:17.299 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 9.4304ms
2025-08-10 12:40:17.299 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:40:17.299 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 10.8038 ms
2025-08-10 12:40:17.299 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 11.3208ms
2025-08-10 12:40:17.306 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 12:40:17.307 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.308 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 2.1602ms
2025-08-10 12:40:17.336 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 12:40:17.336 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.336 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 12:40:17.343 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 12:40:17.343 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 6.7886 ms
2025-08-10 12:40:17.343 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 7.2765ms
2025-08-10 12:40:17.361 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=cDi1yNRImIqp5q_FCnzFNA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 12:40:17.362 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.366 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 12:40:17.367 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 12:40:17.367 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 4.9793 ms
2025-08-10 12:40:17.367 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=cDi1yNRImIqp5q_FCnzFNA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 5.4161ms
2025-08-10 12:40:17.367 +03:00 [INF] Connection id "0HNEN4JCDLMS0", Request id "0HNEN4JCDLMS0:00000003": the application completed without reading the entire request body.
2025-08-10 12:40:17.375 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 12:40:17.376 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.376 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2271ms
2025-08-10 12:40:17.377 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 12:40:17.377 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.378 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 12:40:17.378 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 12:40:17.378 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2944 ms
2025-08-10 12:40:17.378 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.445ms
2025-08-10 12:40:17.383 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=vmjjNRVyIXYp9g8j7ybSZw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 12:40:17.383 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.385 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 12:40:17.385 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 12:40:17.385 +03:00 [INF] HTTP GET /chathub responded 401 in 2.2031 ms
2025-08-10 12:40:17.386 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=vmjjNRVyIXYp9g8j7ybSZw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 2.5679ms
2025-08-10 12:40:17.389 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 12:40:17.389 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.389 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.256ms
2025-08-10 12:40:17.390 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 12:40:17.391 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.391 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 12:40:17.392 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 12:40:17.392 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 1.0785 ms
2025-08-10 12:40:17.392 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.2844ms
2025-08-10 12:40:17.396 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818817394 - null null
2025-08-10 12:40:17.396 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.396 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818817394 - 204 null null 0.262ms
2025-08-10 12:40:17.397 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818817394 - null null
2025-08-10 12:40:17.398 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.398 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:40:17.401 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:40:17.401 +03:00 [INF] HTTP GET /chathub responded 200 in 3.4797 ms
2025-08-10 12:40:17.401 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818817394 - 200 0 application/octet-stream 3.7878ms
2025-08-10 12:40:17.405 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818817404 - null null
2025-08-10 12:40:17.406 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.406 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818817404 - 204 null null 0.3445ms
2025-08-10 12:40:17.406 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - null null
2025-08-10 12:40:17.406 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.406 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 204 null null 0.1273ms
2025-08-10 12:40:17.408 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - text/plain;charset=UTF-8 32
2025-08-10 12:40:17.408 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818817404 - null null
2025-08-10 12:40:17.408 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.408 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.408 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:40:17.408 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:40:17.408 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:40:17.408 +03:00 [INF] HTTP POST /chathub responded 200 in 0.6200 ms
2025-08-10 12:40:17.409 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 200 0 text/plain 0.8725ms
2025-08-10 12:40:17.411 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:40:17.411 +03:00 [INF] HTTP GET /chathub responded 200 in 3.2350 ms
2025-08-10 12:40:17.411 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818817404 - 200 3 application/octet-stream 3.5263ms
2025-08-10 12:40:17.420 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818817416 - null null
2025-08-10 12:40:17.420 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.420 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818817416 - 204 null null 0.2395ms
2025-08-10 12:40:17.422 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818817416 - null null
2025-08-10 12:40:17.422 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:17.422 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:40:23.742 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - null null
2025-08-10 12:40:23.742 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - null null
2025-08-10 12:40:23.742 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:23.742 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 204 null null 0.1634ms
2025-08-10 12:40:23.742 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:23.742 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 204 null null 0.3809ms
2025-08-10 12:40:23.747 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - text/plain;charset=UTF-8 103
2025-08-10 12:40:23.747 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:23.748 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:40:23.749 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:40:23.749 +03:00 [INF] HTTP POST /chathub responded 200 in 1.4634 ms
2025-08-10 12:40:23.749 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 200 0 text/plain 1.8896ms
2025-08-10 12:40:23.750 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - application/json null
2025-08-10 12:40:23.752 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:23.753 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 12:40:23.753 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 12:40:23.755 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 12:40:23.755 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:23.755 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.4046ms
2025-08-10 12:40:23.760 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:40:23.760 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:23.761 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:40:23.761 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:40:23.784 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:40:23.786 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:40:23.786 +03:00 [INF] HTTP GET /chathub responded 200 in 6364.0622 ms
2025-08-10 12:40:23.787 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818817416 - 200 44 application/octet-stream 6364.3281ms
2025-08-10 12:40:23.787 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:40:23.795 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818823791 - null null
2025-08-10 12:40:23.795 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:23.795 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818823791 - 204 null null 0.3029ms
2025-08-10 12:40:23.798 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 12:40:23.799 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:40:23.800 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818823791 - null null
2025-08-10 12:40:23.800 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 39.2543ms
2025-08-10 12:40:23.800 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:40:23.800 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:23.800 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 40.0836 ms
2025-08-10 12:40:23.801 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 40.9148ms
2025-08-10 12:40:23.801 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:40:23.903 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 12:40:23.904 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:40:23.904 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 150.6069ms
2025-08-10 12:40:23.904 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 12:40:23.904 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed responded 200 in 151.7055 ms
2025-08-10 12:40:23.904 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 200 null application/json; charset=utf-8 153.5308ms
2025-08-10 12:40:50.120 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - null null
2025-08-10 12:40:50.120 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:50.120 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - 204 null null 0.3584ms
2025-08-10 12:40:50.124 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Login - application/json 34
2025-08-10 12:40:50.124 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:50.125 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 12:40:50.125 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Commands.Users.LoginUser.LoginUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:40:50.133 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserName_0='?' (Size = 4000), @__request_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__request_UserName_0 AND [u].[Password] = @__request_Password_1
2025-08-10 12:40:50.134 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[Application.Commands.Users.LoginUser.GetLoggedUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 12:40:50.134 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI) in 8.9191ms
2025-08-10 12:40:50.134 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 12:40:50.134 +03:00 [INF] HTTP POST /api/Users/Login responded 200 in 9.3127 ms
2025-08-10 12:40:50.134 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Login - 200 null application/json; charset=utf-8 9.8418ms
2025-08-10 12:40:50.173 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-08-10 12:40:50.173 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 12:40:50.173 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=621607bb-265c-f011-92b0-10683856fb96 - null null
2025-08-10 12:40:50.174 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:50.174 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:50.174 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=621607bb-265c-f011-92b0-10683856fb96 - 204 null null 0.1965ms
2025-08-10 12:40:50.174 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:50.174 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.2076ms
2025-08-10 12:40:50.174 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.334ms
2025-08-10 12:40:50.179 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-08-10 12:40:50.179 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=621607bb-265c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:40:50.179 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 12:40:50.180 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:50.180 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:50.180 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:50.180 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:40:50.180 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:40:50.180 +03:00 [INF] HTTP GET /api/Users responded 404 in 0.2445 ms
2025-08-10 12:40:50.180 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 12:40:50.180 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 12:40:50.180 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 0.9918ms
2025-08-10 12:40:50.181 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-08-10 12:40:50.186 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:40:50.186 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 12:40:50.187 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:40:50.187 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 6.4519ms
2025-08-10 12:40:50.187 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:40:50.187 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 7.0646 ms
2025-08-10 12:40:50.187 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 7.6775ms
2025-08-10 12:40:50.206 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 12:40:50.206 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:40:50.207 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 26.2303ms
2025-08-10 12:40:50.207 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:40:50.207 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 26.8462 ms
2025-08-10 12:40:50.207 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=621607bb-265c-f011-92b0-10683856fb96 - 499 null application/json; charset=utf-8 27.4916ms
2025-08-10 12:40:54.098 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=621607bb-265c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:40:54.098 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.099 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:40:54.099 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 12:40:54.099 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 12:40:54.099 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.099 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.4348ms
2025-08-10 12:40:54.102 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:40:54.106 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 12:40:54.106 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:40:54.107 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 7.5012ms
2025-08-10 12:40:54.107 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:40:54.107 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 8.2660 ms
2025-08-10 12:40:54.107 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=621607bb-265c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 8.6715ms
2025-08-10 12:40:54.113 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 12:40:54.114 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.115 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 12:40:54.115 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 12:40:54.116 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 1.5541 ms
2025-08-10 12:40:54.116 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 2.622ms
2025-08-10 12:40:54.147 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=EIXLDkugc2SBwsKZ-Wwi4g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2MjE2MDdiYi0yNjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibW0iLCJXb3Jrc3BhY2VJZCI6Ijk4OGNkOTIwLTIyNWMtZjAxMS05MmIwLTEwNjgzODU2ZmI5NiIsImV4cCI6MTc1NDgyMjQ1MCwiaXNzIjoiQW1hbmFoQ2hhdCIsImF1ZCI6IkFtYW5haENoYXRBbmd1bGFyIn0.uCBedR2DtYj-PXHUbGiUSjChaPBBrk4WxPtcCtzEsGg - null null
2025-08-10 12:40:54.147 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.148 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 12:40:54.148 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 12:40:54.148 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.2172 ms
2025-08-10 12:40:54.148 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=EIXLDkugc2SBwsKZ-Wwi4g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2MjE2MDdiYi0yNjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibW0iLCJXb3Jrc3BhY2VJZCI6Ijk4OGNkOTIwLTIyNWMtZjAxMS05MmIwLTEwNjgzODU2ZmI5NiIsImV4cCI6MTc1NDgyMjQ1MCwiaXNzIjoiQW1hbmFoQ2hhdCIsImF1ZCI6IkFtYW5haENoYXRBbmd1bGFyIn0.uCBedR2DtYj-PXHUbGiUSjChaPBBrk4WxPtcCtzEsGg - 401 0 null 0.6127ms
2025-08-10 12:40:54.148 +03:00 [INF] Connection id "0HNEN4JCDLMS2", Request id "0HNEN4JCDLMS2:00000003": the application completed without reading the entire request body.
2025-08-10 12:40:54.153 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 12:40:54.153 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.153 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.163ms
2025-08-10 12:40:54.156 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 12:40:54.156 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.156 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 12:40:54.156 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 12:40:54.156 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4247 ms
2025-08-10 12:40:54.156 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6648ms
2025-08-10 12:40:54.163 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=5m3deohkIAEHBGbqIVL39Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2MjE2MDdiYi0yNjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibW0iLCJXb3Jrc3BhY2VJZCI6Ijk4OGNkOTIwLTIyNWMtZjAxMS05MmIwLTEwNjgzODU2ZmI5NiIsImV4cCI6MTc1NDgyMjQ1MCwiaXNzIjoiQW1hbmFoQ2hhdCIsImF1ZCI6IkFtYW5haENoYXRBbmd1bGFyIn0.uCBedR2DtYj-PXHUbGiUSjChaPBBrk4WxPtcCtzEsGg - null null
2025-08-10 12:40:54.164 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.164 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 12:40:54.164 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 12:40:54.164 +03:00 [INF] HTTP GET /chathub responded 401 in 0.4006 ms
2025-08-10 12:40:54.164 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=5m3deohkIAEHBGbqIVL39Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2MjE2MDdiYi0yNjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibW0iLCJXb3Jrc3BhY2VJZCI6Ijk4OGNkOTIwLTIyNWMtZjAxMS05MmIwLTEwNjgzODU2ZmI5NiIsImV4cCI6MTc1NDgyMjQ1MCwiaXNzIjoiQW1hbmFoQ2hhdCIsImF1ZCI6IkFtYW5haENoYXRBbmd1bGFyIn0.uCBedR2DtYj-PXHUbGiUSjChaPBBrk4WxPtcCtzEsGg - 401 0 null 0.8793ms
2025-08-10 12:40:54.169 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 12:40:54.169 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.169 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.136ms
2025-08-10 12:40:54.171 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 12:40:54.171 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.172 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 12:40:54.172 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 12:40:54.172 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.7282 ms
2025-08-10 12:40:54.172 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.0067ms
2025-08-10 12:40:54.177 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818854175 - null null
2025-08-10 12:40:54.177 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.177 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818854175 - 204 null null 0.1716ms
2025-08-10 12:40:54.179 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818854175 - null null
2025-08-10 12:40:54.179 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.179 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:40:54.179 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:40:54.179 +03:00 [INF] HTTP GET /chathub responded 200 in 0.5217 ms
2025-08-10 12:40:54.180 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818854175 - 200 0 application/octet-stream 0.6714ms
2025-08-10 12:40:54.186 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818854184 - null null
2025-08-10 12:40:54.186 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.186 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - null null
2025-08-10 12:40:54.186 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.186 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818854184 - 204 null null 0.1386ms
2025-08-10 12:40:54.186 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 204 null null 0.1498ms
2025-08-10 12:40:54.188 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818854184 - null null
2025-08-10 12:40:54.188 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - text/plain;charset=UTF-8 32
2025-08-10 12:40:54.188 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.188 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.188 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:40:54.188 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:40:54.188 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:40:54.188 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3047 ms
2025-08-10 12:40:54.188 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 200 0 text/plain 0.4827ms
2025-08-10 12:40:54.188 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:40:54.188 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4388 ms
2025-08-10 12:40:54.188 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818854184 - 200 3 application/octet-stream 0.609ms
2025-08-10 12:40:54.194 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818854192 - null null
2025-08-10 12:40:54.194 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.194 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818854192 - 204 null null 0.2252ms
2025-08-10 12:40:54.196 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818854192 - null null
2025-08-10 12:40:54.196 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:54.196 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:40:55.438 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - null null
2025-08-10 12:40:55.438 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:55.438 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 204 null null 0.2243ms
2025-08-10 12:40:55.438 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - null null
2025-08-10 12:40:55.439 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:55.439 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 204 null null 0.2653ms
2025-08-10 12:40:55.442 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - application/json null
2025-08-10 12:40:55.442 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - text/plain;charset=UTF-8 103
2025-08-10 12:40:55.442 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:55.442 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:55.442 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 12:40:55.442 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:40:55.442 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 12:40:55.443 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:40:55.443 +03:00 [INF] HTTP POST /chathub responded 200 in 1.0823 ms
2025-08-10 12:40:55.443 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 200 0 text/plain 1.5ms
2025-08-10 12:40:55.451 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 12:40:55.451 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:55.451 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3837ms
2025-08-10 12:40:55.455 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:40:55.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:40:55.456 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:55.457 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:40:55.457 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:40:55.470 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:40:55.478 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 12:40:55.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:40:55.479 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 21.5762ms
2025-08-10 12:40:55.479 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:40:55.479 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 22.3183 ms
2025-08-10 12:40:55.479 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 23.2325ms
2025-08-10 12:40:55.495 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:40:55.495 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:40:55.495 +03:00 [INF] HTTP GET /chathub responded 200 in 31694.2130 ms
2025-08-10 12:40:55.495 +03:00 [INF] HTTP GET /chathub responded 200 in 1298.4423 ms
2025-08-10 12:40:55.495 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818854192 - 200 44 application/octet-stream 1298.9049ms
2025-08-10 12:40:55.495 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818823791 - 200 97 application/octet-stream 31694.9759ms
2025-08-10 12:40:55.509 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818855502 - null null
2025-08-10 12:40:55.509 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818855504 - null null
2025-08-10 12:40:55.509 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:55.509 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818855504 - 204 null null 0.2813ms
2025-08-10 12:40:55.509 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:55.510 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818855502 - 204 null null 0.8144ms
2025-08-10 12:40:55.512 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818855504 - null null
2025-08-10 12:40:55.512 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:55.512 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818855502 - null null
2025-08-10 12:40:55.512 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:40:55.513 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:40:55.513 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:40:55.550 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 12:40:55.551 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:40:55.551 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 108.3384ms
2025-08-10 12:40:55.551 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 12:40:55.551 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed responded 200 in 108.8005 ms
2025-08-10 12:40:55.551 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 200 null application/json; charset=utf-8 109.2439ms
2025-08-10 12:41:00.543 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - null null
2025-08-10 12:41:00.543 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:00.543 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 204 null null 0.1982ms
2025-08-10 12:41:00.545 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - text/plain;charset=UTF-8 125
2025-08-10 12:41:00.545 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:00.546 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:00.546 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:00.546 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3194 ms
2025-08-10 12:41:00.546 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 200 0 text/plain 0.6342ms
2025-08-10 12:41:00.555 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:00.555 +03:00 [INF] HTTP GET /chathub responded 200 in 5042.9926 ms
2025-08-10 12:41:00.555 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818855504 - 200 91 application/octet-stream 5043.2872ms
2025-08-10 12:41:00.557 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:00.557 +03:00 [INF] HTTP GET /chathub responded 200 in 5044.0054 ms
2025-08-10 12:41:00.557 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818855502 - 200 44 application/octet-stream 5044.3181ms
2025-08-10 12:41:00.560 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818860558 - null null
2025-08-10 12:41:00.560 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:00.561 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818860558 - 204 null null 0.608ms
2025-08-10 12:41:00.562 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818860560 - null null
2025-08-10 12:41:00.562 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:00.563 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818860560 - 204 null null 0.1512ms
2025-08-10 12:41:00.563 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818860558 - null null
2025-08-10 12:41:00.563 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:00.563 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:00.564 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818860560 - null null
2025-08-10 12:41:00.564 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:00.565 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:04.769 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - null null
2025-08-10 12:41:04.769 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:04.769 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - 204 null null 0.3049ms
2025-08-10 12:41:04.772 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Messages/Send - application/json 123
2025-08-10 12:41:04.773 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:04.775 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:04.804 +03:00 [INF] Route matched with {action = "SendMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMessageAsync(Application.Commands.Messages.SendMessage.SendMessageRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 12:41:04.892 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_RoomMemberId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Id] = @__request_RoomMemberId_0
2025-08-10 12:41:04.943 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 12:41:05.174 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p16='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Guid), @p18='?' (DbType = Guid), @p17='?' (DbType = DateTimeOffset), @p20='?' (DbType = Guid), @p19='?' (DbType = DateTimeOffset), @p22='?' (DbType = Guid), @p21='?' (DbType = DateTimeOffset), @p24='?' (DbType = Guid), @p23='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ChatMessages] ([Id], [ActionBy], [FilePath], [IsDeleted], [IsRead], [LastActionDate], [Message], [Metadata], [RoomMemberId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [ChatRooms] SET [ActionBy] = @p9, [Description] = @p10, [IsDeleted] = @p11, [LastActionDate] = @p12, [Metadata] = @p13, [Title] = @p14, [WorkspaceId] = @p15
OUTPUT 1
WHERE [Id] = @p16;
UPDATE [RoomMembers] SET [LastActionDate] = @p17
OUTPUT 1
WHERE [Id] = @p18;
UPDATE [RoomMembers] SET [LastActionDate] = @p19
OUTPUT 1
WHERE [Id] = @p20;
UPDATE [RoomMembers] SET [LastActionDate] = @p21
OUTPUT 1
WHERE [Id] = @p22;
UPDATE [Users] SET [LastActionDate] = @p23
OUTPUT 1
WHERE [Id] = @p24;
2025-08-10 12:41:05.210 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:05.210 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:05.210 +03:00 [INF] HTTP GET /chathub responded 200 in 4645.5222 ms
2025-08-10 12:41:05.210 +03:00 [INF] HTTP GET /chathub responded 200 in 4647.2326 ms
2025-08-10 12:41:05.210 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818860560 - 200 318 application/octet-stream 4645.8826ms
2025-08-10 12:41:05.210 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818860558 - 200 318 application/octet-stream 4647.5427ms
2025-08-10 12:41:05.211 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:41:05.214 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI) in 409.9028ms
2025-08-10 12:41:05.215 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:05.215 +03:00 [INF] HTTP POST /api/Messages/Send responded 200 in 441.7986 ms
2025-08-10 12:41:05.215 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Messages/Send - 200 null application/json; charset=utf-8 442.6781ms
2025-08-10 12:41:05.220 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818865216 - null null
2025-08-10 12:41:05.220 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:05.220 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818865217 - null null
2025-08-10 12:41:05.220 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818865216 - 204 null null 0.653ms
2025-08-10 12:41:05.220 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:05.221 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818865217 - 204 null null 0.6522ms
2025-08-10 12:41:05.226 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818865217 - null null
2025-08-10 12:41:05.226 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:05.226 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818865216 - null null
2025-08-10 12:41:05.227 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:05.227 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:05.227 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:05.528 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - null null
2025-08-10 12:41:05.528 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:05.528 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 204 null null 0.1515ms
2025-08-10 12:41:05.530 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - text/plain;charset=UTF-8 126
2025-08-10 12:41:05.530 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:05.530 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:05.530 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:05.530 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2446 ms
2025-08-10 12:41:05.530 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 200 0 text/plain 0.444ms
2025-08-10 12:41:05.531 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:05.531 +03:00 [INF] HTTP GET /chathub responded 200 in 304.3196 ms
2025-08-10 12:41:05.531 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818865216 - 200 92 application/octet-stream 304.7321ms
2025-08-10 12:41:05.531 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:05.531 +03:00 [INF] HTTP GET /chathub responded 200 in 305.1080 ms
2025-08-10 12:41:05.532 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818865217 - 200 44 application/octet-stream 305.4566ms
2025-08-10 12:41:05.537 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818865534 - null null
2025-08-10 12:41:05.537 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:05.537 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818865534 - 204 null null 0.4743ms
2025-08-10 12:41:05.540 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818865534 - null null
2025-08-10 12:41:05.540 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818865537 - null null
2025-08-10 12:41:05.540 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:05.540 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:05.540 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818865537 - 204 null null 0.1558ms
2025-08-10 12:41:05.540 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:05.543 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818865537 - null null
2025-08-10 12:41:05.543 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:05.543 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:13.858 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/Delete - null null
2025-08-10 12:41:13.858 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:13.858 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/Delete - 204 null null 0.345ms
2025-08-10 12:41:13.862 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7003/api/Messages/Delete - application/json 158
2025-08-10 12:41:13.862 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:13.863 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.DeleteMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:13.872 +03:00 [INF] Route matched with {action = "DeleteMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteMessageAsync(Application.Commands.Messages.DeleteMessage.DeleteMessageRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 12:41:13.893 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_RoomMemberId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Id] = @__request_RoomMemberId_0
2025-08-10 12:41:13.899 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 12:41:13.918 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_MessageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[FilePath], [c].[IsDeleted], [c].[IsRead], [c].[LastActionDate], [c].[Message], [c].[Metadata], [c].[RoomMemberId]
FROM [ChatMessages] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_MessageId_0
2025-08-10 12:41:13.943 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTimeOffset), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p10='?' (DbType = Guid), @p9='?' (DbType = DateTimeOffset), @p12='?' (DbType = Guid), @p11='?' (DbType = DateTimeOffset), @p14='?' (DbType = Guid), @p13='?' (DbType = DateTimeOffset), @p16='?' (DbType = Guid), @p15='?' (DbType = DateTimeOffset), @p18='?' (DbType = Guid), @p17='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [ChatMessages] SET [ActionBy] = @p0, [FilePath] = @p1, [IsDeleted] = @p2, [IsRead] = @p3, [LastActionDate] = @p4, [Message] = @p5, [Metadata] = @p6, [RoomMemberId] = @p7
OUTPUT 1
WHERE [Id] = @p8;
UPDATE [ChatRooms] SET [LastActionDate] = @p9
OUTPUT 1
WHERE [Id] = @p10;
UPDATE [RoomMembers] SET [LastActionDate] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [RoomMembers] SET [LastActionDate] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [RoomMembers] SET [LastActionDate] = @p15
OUTPUT 1
WHERE [Id] = @p16;
UPDATE [Users] SET [LastActionDate] = @p17
OUTPUT 1
WHERE [Id] = @p18;
2025-08-10 12:41:13.946 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:41:13.946 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.DeleteMessageAsync (ChatSystem.UI) in 73.7903ms
2025-08-10 12:41:13.946 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.DeleteMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:13.946 +03:00 [INF] HTTP DELETE /api/Messages/Delete responded 200 in 83.6360 ms
2025-08-10 12:41:13.946 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7003/api/Messages/Delete - 200 null application/json; charset=utf-8 84.3842ms
2025-08-10 12:41:17.529 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - null null
2025-08-10 12:41:17.529 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.529 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - 204 null null 0.2641ms
2025-08-10 12:41:17.533 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Messages/Send - application/json 137
2025-08-10 12:41:17.534 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.534 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:17.536 +03:00 [INF] Route matched with {action = "SendMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMessageAsync(Application.Commands.Messages.SendMessage.SendMessageRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 12:41:17.548 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_RoomMemberId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Id] = @__request_RoomMemberId_0
2025-08-10 12:41:17.550 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 12:41:17.556 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p16='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Guid), @p18='?' (DbType = Guid), @p17='?' (DbType = DateTimeOffset), @p20='?' (DbType = Guid), @p19='?' (DbType = DateTimeOffset), @p22='?' (DbType = Guid), @p21='?' (DbType = DateTimeOffset), @p24='?' (DbType = Guid), @p23='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ChatMessages] ([Id], [ActionBy], [FilePath], [IsDeleted], [IsRead], [LastActionDate], [Message], [Metadata], [RoomMemberId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [ChatRooms] SET [ActionBy] = @p9, [Description] = @p10, [IsDeleted] = @p11, [LastActionDate] = @p12, [Metadata] = @p13, [Title] = @p14, [WorkspaceId] = @p15
OUTPUT 1
WHERE [Id] = @p16;
UPDATE [RoomMembers] SET [LastActionDate] = @p17
OUTPUT 1
WHERE [Id] = @p18;
UPDATE [RoomMembers] SET [LastActionDate] = @p19
OUTPUT 1
WHERE [Id] = @p20;
UPDATE [RoomMembers] SET [LastActionDate] = @p21
OUTPUT 1
WHERE [Id] = @p22;
UPDATE [Users] SET [LastActionDate] = @p23
OUTPUT 1
WHERE [Id] = @p24;
2025-08-10 12:41:17.559 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:41:17.559 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:17.559 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:17.559 +03:00 [INF] HTTP GET /chathub responded 200 in 12018.5856 ms
2025-08-10 12:41:17.559 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI) in 23.1513ms
2025-08-10 12:41:17.559 +03:00 [INF] HTTP GET /chathub responded 200 in 12016.0116 ms
2025-08-10 12:41:17.559 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:17.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818865534 - 200 332 application/octet-stream 12018.9997ms
2025-08-10 12:41:17.559 +03:00 [INF] HTTP POST /api/Messages/Send responded 200 in 25.5193 ms
2025-08-10 12:41:17.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818865537 - 200 332 application/octet-stream 12016.4209ms
2025-08-10 12:41:17.560 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Messages/Send - 200 null application/json; charset=utf-8 26.3952ms
2025-08-10 12:41:17.567 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - null null
2025-08-10 12:41:17.568 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.568 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 204 null null 0.6466ms
2025-08-10 12:41:17.575 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818877567 - null null
2025-08-10 12:41:17.576 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.576 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818877567 - 204 null null 1.5901ms
2025-08-10 12:41:17.576 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - text/plain;charset=UTF-8 125
2025-08-10 12:41:17.577 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.578 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:17.578 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:17.578 +03:00 [INF] HTTP POST /chathub responded 200 in 0.7693 ms
2025-08-10 12:41:17.578 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 200 0 text/plain 1.6973ms
2025-08-10 12:41:17.582 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818877567 - null null
2025-08-10 12:41:17.582 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.583 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:17.583 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:17.583 +03:00 [INF] HTTP GET /chathub responded 200 in 0.9283 ms
2025-08-10 12:41:17.584 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818877567 - 200 91 application/octet-stream 1.5241ms
2025-08-10 12:41:17.590 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818877584 - null null
2025-08-10 12:41:17.590 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.591 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818877584 - 204 null null 0.3909ms
2025-08-10 12:41:17.617 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818877593 - null null
2025-08-10 12:41:17.617 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.617 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818877593 - 204 null null 0.411ms
2025-08-10 12:41:17.622 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818877584 - null null
2025-08-10 12:41:17.622 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.623 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818877593 - null null
2025-08-10 12:41:17.623 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.623 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:17.623 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:17.623 +03:00 [INF] HTTP GET /chathub responded 200 in 1.5732 ms
2025-08-10 12:41:17.623 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:17.624 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818877584 - 200 44 application/octet-stream 2.2896ms
2025-08-10 12:41:17.633 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818877630 - null null
2025-08-10 12:41:17.633 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.634 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818877630 - 204 null null 0.1863ms
2025-08-10 12:41:17.636 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818877630 - null null
2025-08-10 12:41:17.636 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.636 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:17.889 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - null null
2025-08-10 12:41:17.889 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.889 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 204 null null 0.2356ms
2025-08-10 12:41:17.891 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - text/plain;charset=UTF-8 126
2025-08-10 12:41:17.891 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.891 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:17.891 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:17.892 +03:00 [INF] HTTP POST /chathub responded 200 in 0.7933 ms
2025-08-10 12:41:17.892 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 200 0 text/plain 0.9769ms
2025-08-10 12:41:17.892 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:17.892 +03:00 [INF] HTTP GET /chathub responded 200 in 268.9170 ms
2025-08-10 12:41:17.892 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818877593 - 200 92 application/octet-stream 269.311ms
2025-08-10 12:41:17.892 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:17.892 +03:00 [INF] HTTP GET /chathub responded 200 in 256.4985 ms
2025-08-10 12:41:17.892 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818877630 - 200 44 application/octet-stream 256.6872ms
2025-08-10 12:41:17.897 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818877895 - null null
2025-08-10 12:41:17.897 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.897 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818877895 - 204 null null 0.1817ms
2025-08-10 12:41:17.899 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818877895 - null null
2025-08-10 12:41:17.899 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.899 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:17.899 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818877897 - null null
2025-08-10 12:41:17.899 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.899 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818877897 - 204 null null 0.0614ms
2025-08-10 12:41:17.902 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818877897 - null null
2025-08-10 12:41:17.902 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:17.902 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:19.119 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - null null
2025-08-10 12:41:19.119 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.119 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 204 null null 0.3203ms
2025-08-10 12:41:19.122 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - text/plain;charset=UTF-8 125
2025-08-10 12:41:19.122 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.122 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:19.122 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:19.122 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4169 ms
2025-08-10 12:41:19.122 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 200 0 text/plain 0.682ms
2025-08-10 12:41:19.124 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:19.124 +03:00 [INF] HTTP GET /chathub responded 200 in 1225.0078 ms
2025-08-10 12:41:19.124 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818877895 - 200 91 application/octet-stream 1225.2429ms
2025-08-10 12:41:19.125 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:19.125 +03:00 [INF] HTTP GET /chathub responded 200 in 1222.7518 ms
2025-08-10 12:41:19.125 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818877897 - 200 44 application/octet-stream 1222.9571ms
2025-08-10 12:41:19.133 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818879129 - null null
2025-08-10 12:41:19.133 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.133 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818879129 - 204 null null 0.2424ms
2025-08-10 12:41:19.133 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818879129 - null null
2025-08-10 12:41:19.133 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.133 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818879129 - 204 null null 0.0946ms
2025-08-10 12:41:19.138 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818879129 - null null
2025-08-10 12:41:19.138 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.139 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:19.139 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818879129 - null null
2025-08-10 12:41:19.139 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.139 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:19.201 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Messages/Send - application/json 123
2025-08-10 12:41:19.201 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.202 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:19.202 +03:00 [INF] Route matched with {action = "SendMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMessageAsync(Application.Commands.Messages.SendMessage.SendMessageRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 12:41:19.209 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_RoomMemberId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Id] = @__request_RoomMemberId_0
2025-08-10 12:41:19.212 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 12:41:19.222 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p16='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Guid), @p18='?' (DbType = Guid), @p17='?' (DbType = DateTimeOffset), @p20='?' (DbType = Guid), @p19='?' (DbType = DateTimeOffset), @p22='?' (DbType = Guid), @p21='?' (DbType = DateTimeOffset), @p24='?' (DbType = Guid), @p23='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ChatMessages] ([Id], [ActionBy], [FilePath], [IsDeleted], [IsRead], [LastActionDate], [Message], [Metadata], [RoomMemberId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [ChatRooms] SET [ActionBy] = @p9, [Description] = @p10, [IsDeleted] = @p11, [LastActionDate] = @p12, [Metadata] = @p13, [Title] = @p14, [WorkspaceId] = @p15
OUTPUT 1
WHERE [Id] = @p16;
UPDATE [RoomMembers] SET [LastActionDate] = @p17
OUTPUT 1
WHERE [Id] = @p18;
UPDATE [RoomMembers] SET [LastActionDate] = @p19
OUTPUT 1
WHERE [Id] = @p20;
UPDATE [RoomMembers] SET [LastActionDate] = @p21
OUTPUT 1
WHERE [Id] = @p22;
UPDATE [Users] SET [LastActionDate] = @p23
OUTPUT 1
WHERE [Id] = @p24;
2025-08-10 12:41:19.226 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:41:19.226 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:19.226 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:19.226 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI) in 24.4654ms
2025-08-10 12:41:19.226 +03:00 [INF] HTTP GET /chathub responded 200 in 87.4716 ms
2025-08-10 12:41:19.226 +03:00 [INF] HTTP GET /chathub responded 200 in 87.8162 ms
2025-08-10 12:41:19.227 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818879129 - 200 318 application/octet-stream 87.9205ms
2025-08-10 12:41:19.227 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818879129 - 200 318 application/octet-stream 88.7992ms
2025-08-10 12:41:19.226 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:19.227 +03:00 [INF] HTTP POST /api/Messages/Send responded 200 in 25.5653 ms
2025-08-10 12:41:19.227 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Messages/Send - 200 null application/json; charset=utf-8 25.8977ms
2025-08-10 12:41:19.236 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818879232 - null null
2025-08-10 12:41:19.236 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.236 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818879232 - 204 null null 0.3079ms
2025-08-10 12:41:19.239 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818879232 - null null
2025-08-10 12:41:19.240 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.240 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:19.243 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818879238 - null null
2025-08-10 12:41:19.243 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.243 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818879238 - 204 null null 0.3653ms
2025-08-10 12:41:19.250 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818879238 - null null
2025-08-10 12:41:19.250 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.250 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:19.540 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - null null
2025-08-10 12:41:19.540 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.540 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 204 null null 0.5055ms
2025-08-10 12:41:19.543 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - text/plain;charset=UTF-8 126
2025-08-10 12:41:19.544 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.544 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:19.544 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:19.544 +03:00 [INF] HTTP POST /chathub responded 200 in 0.5752 ms
2025-08-10 12:41:19.544 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 200 0 text/plain 0.9561ms
2025-08-10 12:41:19.546 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:19.546 +03:00 [INF] HTTP GET /chathub responded 200 in 306.3948 ms
2025-08-10 12:41:19.547 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818879232 - 200 92 application/octet-stream 307.1251ms
2025-08-10 12:41:19.547 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:19.547 +03:00 [INF] HTTP GET /chathub responded 200 in 297.1320 ms
2025-08-10 12:41:19.547 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818879238 - 200 44 application/octet-stream 297.4592ms
2025-08-10 12:41:19.558 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818879552 - null null
2025-08-10 12:41:19.558 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.558 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818879552 - 204 null null 0.4805ms
2025-08-10 12:41:19.558 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818879554 - null null
2025-08-10 12:41:19.558 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.558 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818879554 - 204 null null 0.1418ms
2025-08-10 12:41:19.561 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818879552 - null null
2025-08-10 12:41:19.561 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.561 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:19.562 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818879554 - null null
2025-08-10 12:41:19.562 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:19.562 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:21.442 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - null null
2025-08-10 12:41:21.442 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:21.443 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 204 null null 0.3618ms
2025-08-10 12:41:21.445 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - text/plain;charset=UTF-8 124
2025-08-10 12:41:21.445 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:21.446 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:21.446 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:21.446 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3685 ms
2025-08-10 12:41:21.446 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 200 0 text/plain 0.6553ms
2025-08-10 12:41:21.447 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:21.447 +03:00 [INF] HTTP GET /chathub responded 200 in 1884.9512 ms
2025-08-10 12:41:21.447 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818879554 - 200 90 application/octet-stream 1885.1547ms
2025-08-10 12:41:21.447 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:21.447 +03:00 [INF] HTTP GET /chathub responded 200 in 1886.2539 ms
2025-08-10 12:41:21.448 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818879552 - 200 44 application/octet-stream 1886.6124ms
2025-08-10 12:41:21.457 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818881452 - null null
2025-08-10 12:41:21.457 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:21.458 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818881452 - 204 null null 0.4162ms
2025-08-10 12:41:21.463 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818881457 - null null
2025-08-10 12:41:21.463 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:21.463 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818881457 - 204 null null 0.5111ms
2025-08-10 12:41:21.464 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818881452 - null null
2025-08-10 12:41:21.464 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:21.464 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:21.467 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818881457 - null null
2025-08-10 12:41:21.467 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:21.467 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:25.959 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - null null
2025-08-10 12:41:25.959 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:25.959 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 204 null null 0.2928ms
2025-08-10 12:41:25.964 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - text/plain;charset=UTF-8 124
2025-08-10 12:41:25.965 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:25.965 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:25.967 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:25.967 +03:00 [INF] HTTP POST /chathub responded 200 in 2.4659 ms
2025-08-10 12:41:25.968 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 200 0 text/plain 3.223ms
2025-08-10 12:41:25.968 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:25.968 +03:00 [INF] HTTP GET /chathub responded 200 in 4503.6874 ms
2025-08-10 12:41:25.968 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818881452 - 200 90 application/octet-stream 4504.2227ms
2025-08-10 12:41:25.968 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:25.968 +03:00 [INF] HTTP GET /chathub responded 200 in 4501.3466 ms
2025-08-10 12:41:25.969 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818881457 - 200 44 application/octet-stream 4501.9359ms
2025-08-10 12:41:25.980 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818885976 - null null
2025-08-10 12:41:25.980 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:25.980 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818885976 - 204 null null 0.4259ms
2025-08-10 12:41:25.983 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818885976 - null null
2025-08-10 12:41:25.983 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:25.984 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818885981 - null null
2025-08-10 12:41:25.984 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:25.984 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818885981 - 204 null null 0.2282ms
2025-08-10 12:41:25.984 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:25.987 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818885981 - null null
2025-08-10 12:41:25.988 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:25.988 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:26.271 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - null null
2025-08-10 12:41:26.272 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:26.272 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 204 null null 0.2429ms
2025-08-10 12:41:26.275 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - text/plain;charset=UTF-8 124
2025-08-10 12:41:26.275 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:26.275 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:26.276 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:26.276 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4955 ms
2025-08-10 12:41:26.276 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 200 0 text/plain 0.76ms
2025-08-10 12:41:26.276 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:26.276 +03:00 [INF] HTTP GET /chathub responded 200 in 292.6138 ms
2025-08-10 12:41:26.276 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818885976 - 200 90 application/octet-stream 293.1117ms
2025-08-10 12:41:26.277 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:26.277 +03:00 [INF] HTTP GET /chathub responded 200 in 289.3824 ms
2025-08-10 12:41:26.277 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818885981 - 200 44 application/octet-stream 289.9535ms
2025-08-10 12:41:26.286 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818886282 - null null
2025-08-10 12:41:26.287 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:26.287 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818886282 - 204 null null 0.3388ms
2025-08-10 12:41:26.291 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818886282 - null null
2025-08-10 12:41:26.292 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:26.293 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:26.293 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818886289 - null null
2025-08-10 12:41:26.294 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:26.294 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818886289 - 204 null null 0.6858ms
2025-08-10 12:41:26.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818886289 - null null
2025-08-10 12:41:26.297 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:26.297 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:27.044 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - null null
2025-08-10 12:41:27.045 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:27.045 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 204 null null 0.1733ms
2025-08-10 12:41:27.047 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - text/plain;charset=UTF-8 124
2025-08-10 12:41:27.047 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:27.047 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:27.047 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:27.047 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4535 ms
2025-08-10 12:41:27.047 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 200 0 text/plain 0.7616ms
2025-08-10 12:41:27.048 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:27.048 +03:00 [INF] HTTP GET /chathub responded 200 in 755.6173 ms
2025-08-10 12:41:27.048 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818886282 - 200 90 application/octet-stream 756.4943ms
2025-08-10 12:41:27.048 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:27.048 +03:00 [INF] HTTP GET /chathub responded 200 in 751.3241 ms
2025-08-10 12:41:27.048 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818886289 - 200 44 application/octet-stream 751.7394ms
2025-08-10 12:41:27.055 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818887052 - null null
2025-08-10 12:41:27.055 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:27.055 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818887052 - 204 null null 0.1481ms
2025-08-10 12:41:27.058 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818887056 - null null
2025-08-10 12:41:27.058 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818887052 - null null
2025-08-10 12:41:27.058 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:27.058 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:27.058 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818887056 - 204 null null 0.161ms
2025-08-10 12:41:27.058 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:27.060 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818887056 - null null
2025-08-10 12:41:27.060 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:27.061 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:28.010 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - null null
2025-08-10 12:41:28.011 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:28.011 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - 204 null null 0.2142ms
2025-08-10 12:41:28.013 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Messages/Send - application/json 128
2025-08-10 12:41:28.014 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:28.014 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:28.014 +03:00 [INF] Route matched with {action = "SendMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMessageAsync(Application.Commands.Messages.SendMessage.SendMessageRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 12:41:28.032 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_RoomMemberId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Id] = @__request_RoomMemberId_0
2025-08-10 12:41:28.046 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 12:41:28.080 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p16='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Guid), @p18='?' (DbType = Guid), @p17='?' (DbType = DateTimeOffset), @p20='?' (DbType = Guid), @p19='?' (DbType = DateTimeOffset), @p22='?' (DbType = Guid), @p21='?' (DbType = DateTimeOffset), @p24='?' (DbType = Guid), @p23='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ChatMessages] ([Id], [ActionBy], [FilePath], [IsDeleted], [IsRead], [LastActionDate], [Message], [Metadata], [RoomMemberId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [ChatRooms] SET [ActionBy] = @p9, [Description] = @p10, [IsDeleted] = @p11, [LastActionDate] = @p12, [Metadata] = @p13, [Title] = @p14, [WorkspaceId] = @p15
OUTPUT 1
WHERE [Id] = @p16;
UPDATE [RoomMembers] SET [LastActionDate] = @p17
OUTPUT 1
WHERE [Id] = @p18;
UPDATE [RoomMembers] SET [LastActionDate] = @p19
OUTPUT 1
WHERE [Id] = @p20;
UPDATE [RoomMembers] SET [LastActionDate] = @p21
OUTPUT 1
WHERE [Id] = @p22;
UPDATE [Users] SET [LastActionDate] = @p23
OUTPUT 1
WHERE [Id] = @p24;
2025-08-10 12:41:28.081 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:41:28.081 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:28.081 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI) in 66.6302ms
2025-08-10 12:41:28.081 +03:00 [INF] HTTP GET /chathub responded 200 in 1023.0823 ms
2025-08-10 12:41:28.081 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:28.081 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818887052 - 200 318 application/octet-stream 1023.3399ms
2025-08-10 12:41:28.081 +03:00 [INF] HTTP GET /chathub responded 200 in 1020.7705 ms
2025-08-10 12:41:28.081 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:28.081 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818887056 - 200 318 application/octet-stream 1021.006ms
2025-08-10 12:41:28.081 +03:00 [INF] HTTP POST /api/Messages/Send responded 200 in 67.6602 ms
2025-08-10 12:41:28.082 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Messages/Send - 200 null application/json; charset=utf-8 68.0473ms
2025-08-10 12:41:28.094 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818888092 - null null
2025-08-10 12:41:28.095 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:28.095 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818888092 - 204 null null 0.3756ms
2025-08-10 12:41:28.098 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818888092 - null null
2025-08-10 12:41:28.099 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:28.099 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:28.104 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818888101 - null null
2025-08-10 12:41:28.104 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:28.104 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818888101 - 204 null null 0.487ms
2025-08-10 12:41:28.111 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818888101 - null null
2025-08-10 12:41:28.111 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:28.111 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:28.408 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - null null
2025-08-10 12:41:28.408 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:28.408 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 204 null null 0.2772ms
2025-08-10 12:41:28.411 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - text/plain;charset=UTF-8 125
2025-08-10 12:41:28.411 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:28.411 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:28.411 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:28.411 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3894 ms
2025-08-10 12:41:28.411 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 200 0 text/plain 0.6729ms
2025-08-10 12:41:28.412 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:28.412 +03:00 [INF] HTTP GET /chathub responded 200 in 312.9093 ms
2025-08-10 12:41:28.412 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818888092 - 200 91 application/octet-stream 313.3973ms
2025-08-10 12:41:28.412 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:28.412 +03:00 [INF] HTTP GET /chathub responded 200 in 301.4427 ms
2025-08-10 12:41:28.413 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818888101 - 200 44 application/octet-stream 301.9915ms
2025-08-10 12:41:28.423 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818888419 - null null
2025-08-10 12:41:28.423 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:28.423 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818888419 - 204 null null 0.2967ms
2025-08-10 12:41:28.427 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818888424 - null null
2025-08-10 12:41:28.427 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818888419 - null null
2025-08-10 12:41:28.427 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:28.427 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:28.427 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818888424 - 204 null null 0.3001ms
2025-08-10 12:41:28.428 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:28.431 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818888424 - null null
2025-08-10 12:41:28.431 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:28.432 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:30.053 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - null null
2025-08-10 12:41:30.053 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:30.053 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 204 null null 0.2002ms
2025-08-10 12:41:30.056 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - text/plain;charset=UTF-8 125
2025-08-10 12:41:30.056 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:30.057 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:30.057 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:30.057 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3909 ms
2025-08-10 12:41:30.057 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 200 0 text/plain 0.7337ms
2025-08-10 12:41:30.057 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:30.057 +03:00 [INF] HTTP GET /chathub responded 200 in 1625.9596 ms
2025-08-10 12:41:30.058 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818888424 - 200 91 application/octet-stream 1626.2637ms
2025-08-10 12:41:30.058 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:30.058 +03:00 [INF] HTTP GET /chathub responded 200 in 1630.4787 ms
2025-08-10 12:41:30.058 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818888419 - 200 44 application/octet-stream 1630.833ms
2025-08-10 12:41:30.068 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818890064 - null null
2025-08-10 12:41:30.068 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:30.068 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818890063 - null null
2025-08-10 12:41:30.068 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:30.068 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818890063 - 204 null null 0.1682ms
2025-08-10 12:41:30.068 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818890064 - 204 null null 0.3151ms
2025-08-10 12:41:30.073 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818890064 - null null
2025-08-10 12:41:30.074 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:30.074 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818890063 - null null
2025-08-10 12:41:30.074 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:30.074 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:30.075 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:32.717 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - null null
2025-08-10 12:41:32.717 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:32.717 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 204 null null 0.2965ms
2025-08-10 12:41:32.721 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - text/plain;charset=UTF-8 125
2025-08-10 12:41:32.721 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:32.721 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:32.721 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:32.721 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4197 ms
2025-08-10 12:41:32.721 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 200 0 text/plain 0.7399ms
2025-08-10 12:41:32.722 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:32.722 +03:00 [INF] HTTP GET /chathub responded 200 in 2647.9729 ms
2025-08-10 12:41:32.722 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:32.722 +03:00 [INF] HTTP GET /chathub responded 200 in 2647.6635 ms
2025-08-10 12:41:32.722 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818890064 - 200 91 application/octet-stream 2648.582ms
2025-08-10 12:41:32.722 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818890063 - 200 44 application/octet-stream 2648.1869ms
2025-08-10 12:41:32.735 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818892730 - null null
2025-08-10 12:41:32.735 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:32.736 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818892730 - 204 null null 0.3265ms
2025-08-10 12:41:32.741 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818892730 - null null
2025-08-10 12:41:32.741 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818892736 - null null
2025-08-10 12:41:32.741 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:32.742 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:32.742 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818892736 - 204 null null 0.5894ms
2025-08-10 12:41:32.742 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:32.746 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818892736 - null null
2025-08-10 12:41:32.746 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:32.747 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:34.014 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - null null
2025-08-10 12:41:34.015 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:34.015 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - 204 null null 0.1995ms
2025-08-10 12:41:34.017 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Messages/Send - application/json 124
2025-08-10 12:41:34.017 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:34.017 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:34.017 +03:00 [INF] Route matched with {action = "SendMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMessageAsync(Application.Commands.Messages.SendMessage.SendMessageRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 12:41:34.033 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_RoomMemberId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Id] = @__request_RoomMemberId_0
2025-08-10 12:41:34.042 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 12:41:34.072 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p16='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Guid), @p18='?' (DbType = Guid), @p17='?' (DbType = DateTimeOffset), @p20='?' (DbType = Guid), @p19='?' (DbType = DateTimeOffset), @p22='?' (DbType = Guid), @p21='?' (DbType = DateTimeOffset), @p24='?' (DbType = Guid), @p23='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ChatMessages] ([Id], [ActionBy], [FilePath], [IsDeleted], [IsRead], [LastActionDate], [Message], [Metadata], [RoomMemberId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [ChatRooms] SET [ActionBy] = @p9, [Description] = @p10, [IsDeleted] = @p11, [LastActionDate] = @p12, [Metadata] = @p13, [Title] = @p14, [WorkspaceId] = @p15
OUTPUT 1
WHERE [Id] = @p16;
UPDATE [RoomMembers] SET [LastActionDate] = @p17
OUTPUT 1
WHERE [Id] = @p18;
UPDATE [RoomMembers] SET [LastActionDate] = @p19
OUTPUT 1
WHERE [Id] = @p20;
UPDATE [RoomMembers] SET [LastActionDate] = @p21
OUTPUT 1
WHERE [Id] = @p22;
UPDATE [Users] SET [LastActionDate] = @p23
OUTPUT 1
WHERE [Id] = @p24;
2025-08-10 12:41:34.074 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:41:34.074 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:34.074 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI) in 56.8418ms
2025-08-10 12:41:34.074 +03:00 [INF] HTTP GET /chathub responded 200 in 1332.6835 ms
2025-08-10 12:41:34.074 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:34.074 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:34.074 +03:00 [INF] HTTP GET /chathub responded 200 in 1327.9969 ms
2025-08-10 12:41:34.075 +03:00 [INF] HTTP POST /api/Messages/Send responded 200 in 57.5997 ms
2025-08-10 12:41:34.074 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818892730 - 200 319 application/octet-stream 1333.2234ms
2025-08-10 12:41:34.075 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Messages/Send - 200 null application/json; charset=utf-8 58.009ms
2025-08-10 12:41:34.075 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818892736 - 200 319 application/octet-stream 1328.4268ms
2025-08-10 12:41:34.087 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818894083 - null null
2025-08-10 12:41:34.087 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:34.087 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818894083 - 204 null null 0.6176ms
2025-08-10 12:41:34.091 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818894083 - null null
2025-08-10 12:41:34.091 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:34.091 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:34.097 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818894091 - null null
2025-08-10 12:41:34.097 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:34.097 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818894091 - 204 null null 0.5098ms
2025-08-10 12:41:34.104 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818894091 - null null
2025-08-10 12:41:34.104 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:34.104 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:34.392 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - null null
2025-08-10 12:41:34.393 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:34.393 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 204 null null 0.1675ms
2025-08-10 12:41:34.394 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - text/plain;charset=UTF-8 126
2025-08-10 12:41:34.394 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:34.395 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:34.395 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:34.395 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3537 ms
2025-08-10 12:41:34.395 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA - 200 0 text/plain 0.5606ms
2025-08-10 12:41:34.395 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:34.395 +03:00 [INF] HTTP GET /chathub responded 200 in 304.4454 ms
2025-08-10 12:41:34.395 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818894083 - 200 92 application/octet-stream 304.788ms
2025-08-10 12:41:34.396 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:34.396 +03:00 [INF] HTTP GET /chathub responded 200 in 291.9198 ms
2025-08-10 12:41:34.396 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818894091 - 200 44 application/octet-stream 292.204ms
2025-08-10 12:41:34.402 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818894399 - null null
2025-08-10 12:41:34.402 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:34.402 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818894399 - 204 null null 0.1675ms
2025-08-10 12:41:34.405 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818894399 - null null
2025-08-10 12:41:34.405 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:34.406 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:34.406 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818894403 - null null
2025-08-10 12:41:34.406 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:34.406 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818894403 - 204 null null 0.1676ms
2025-08-10 12:41:34.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818894403 - null null
2025-08-10 12:41:34.409 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:34.410 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:36.658 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - null null
2025-08-10 12:41:36.659 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:36.659 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 204 null null 0.3937ms
2025-08-10 12:41:36.661 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - text/plain;charset=UTF-8 124
2025-08-10 12:41:36.662 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:36.662 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:36.662 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:36.662 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3667 ms
2025-08-10 12:41:36.662 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 200 0 text/plain 0.6395ms
2025-08-10 12:41:36.663 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:36.663 +03:00 [INF] HTTP GET /chathub responded 200 in 2253.8331 ms
2025-08-10 12:41:36.663 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818894403 - 200 90 application/octet-stream 2254.2839ms
2025-08-10 12:41:36.664 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:36.664 +03:00 [INF] HTTP GET /chathub responded 200 in 2258.2992 ms
2025-08-10 12:41:36.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818894399 - 200 44 application/octet-stream 2259.2584ms
2025-08-10 12:41:36.674 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818896668 - null null
2025-08-10 12:41:36.674 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:36.674 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818896668 - 204 null null 0.2474ms
2025-08-10 12:41:36.677 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818896675 - null null
2025-08-10 12:41:36.677 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818896668 - null null
2025-08-10 12:41:36.677 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:36.677 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:36.677 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818896675 - 204 null null 0.2025ms
2025-08-10 12:41:36.678 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:36.679 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818896675 - null null
2025-08-10 12:41:36.680 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:36.680 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:37.268 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - null null
2025-08-10 12:41:37.268 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:37.268 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 204 null null 0.2787ms
2025-08-10 12:41:37.271 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - text/plain;charset=UTF-8 124
2025-08-10 12:41:37.271 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:37.272 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:37.272 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:37.272 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3920 ms
2025-08-10 12:41:37.272 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 200 0 text/plain 0.7623ms
2025-08-10 12:41:37.272 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:37.272 +03:00 [INF] HTTP GET /chathub responded 200 in 594.7525 ms
2025-08-10 12:41:37.272 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818896668 - 200 90 application/octet-stream 595.0671ms
2025-08-10 12:41:37.272 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:37.273 +03:00 [INF] HTTP GET /chathub responded 200 in 592.9340 ms
2025-08-10 12:41:37.273 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818896675 - 200 44 application/octet-stream 593.3411ms
2025-08-10 12:41:37.282 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818897280 - null null
2025-08-10 12:41:37.282 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:37.282 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818897280 - 204 null null 0.3852ms
2025-08-10 12:41:37.287 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818897280 - null null
2025-08-10 12:41:37.287 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:37.287 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:37.290 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818897287 - null null
2025-08-10 12:41:37.290 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:37.290 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818897287 - 204 null null 0.2947ms
2025-08-10 12:41:37.294 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818897287 - null null
2025-08-10 12:41:37.294 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:37.294 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:42.087 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - null null
2025-08-10 12:41:42.087 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:42.087 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - 204 null null 0.2822ms
2025-08-10 12:41:42.090 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Messages/Send - application/json 131
2025-08-10 12:41:42.090 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:42.091 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:42.091 +03:00 [INF] Route matched with {action = "SendMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMessageAsync(Application.Commands.Messages.SendMessage.SendMessageRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 12:41:42.095 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_RoomMemberId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Id] = @__request_RoomMemberId_0
2025-08-10 12:41:42.097 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 12:41:42.102 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p16='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Guid), @p18='?' (DbType = Guid), @p17='?' (DbType = DateTimeOffset), @p20='?' (DbType = Guid), @p19='?' (DbType = DateTimeOffset), @p22='?' (DbType = Guid), @p21='?' (DbType = DateTimeOffset), @p24='?' (DbType = Guid), @p23='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ChatMessages] ([Id], [ActionBy], [FilePath], [IsDeleted], [IsRead], [LastActionDate], [Message], [Metadata], [RoomMemberId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [ChatRooms] SET [ActionBy] = @p9, [Description] = @p10, [IsDeleted] = @p11, [LastActionDate] = @p12, [Metadata] = @p13, [Title] = @p14, [WorkspaceId] = @p15
OUTPUT 1
WHERE [Id] = @p16;
UPDATE [RoomMembers] SET [LastActionDate] = @p17
OUTPUT 1
WHERE [Id] = @p18;
UPDATE [RoomMembers] SET [LastActionDate] = @p19
OUTPUT 1
WHERE [Id] = @p20;
UPDATE [RoomMembers] SET [LastActionDate] = @p21
OUTPUT 1
WHERE [Id] = @p22;
UPDATE [Users] SET [LastActionDate] = @p23
OUTPUT 1
WHERE [Id] = @p24;
2025-08-10 12:41:42.108 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:41:42.108 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI) in 17.1899ms
2025-08-10 12:41:42.109 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 12:41:42.109 +03:00 [INF] HTTP POST /api/Messages/Send responded 200 in 18.0512 ms
2025-08-10 12:41:42.109 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Messages/Send - 200 null application/json; charset=utf-8 18.4224ms
2025-08-10 12:41:42.109 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:42.109 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:42.109 +03:00 [INF] HTTP GET /chathub responded 200 in 4822.0873 ms
2025-08-10 12:41:42.109 +03:00 [INF] HTTP GET /chathub responded 200 in 4815.0616 ms
2025-08-10 12:41:42.109 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818897287 - 200 321 application/octet-stream 4815.3506ms
2025-08-10 12:41:42.109 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818897280 - 200 321 application/octet-stream 4822.5402ms
2025-08-10 12:41:42.124 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818902118 - null null
2025-08-10 12:41:42.124 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:42.125 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818902118 - 204 null null 0.3366ms
2025-08-10 12:41:42.130 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818902118 - null null
2025-08-10 12:41:42.130 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818902126 - null null
2025-08-10 12:41:42.130 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:42.130 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:42.130 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818902126 - 204 null null 0.4244ms
2025-08-10 12:41:42.131 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:42.133 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818902126 - null null
2025-08-10 12:41:42.133 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:42.133 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:42.425 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - null null
2025-08-10 12:41:42.425 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:42.425 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 204 null null 0.2813ms
2025-08-10 12:41:42.428 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - text/plain;charset=UTF-8 125
2025-08-10 12:41:42.428 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:42.429 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:42.429 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:42.429 +03:00 [INF] HTTP POST /chathub responded 200 in 0.6644 ms
2025-08-10 12:41:42.429 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA - 200 0 text/plain 1.0538ms
2025-08-10 12:41:42.430 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:42.430 +03:00 [INF] HTTP GET /chathub responded 200 in 299.4718 ms
2025-08-10 12:41:42.430 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818902118 - 200 91 application/octet-stream 300.038ms
2025-08-10 12:41:42.431 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:42.431 +03:00 [INF] HTTP GET /chathub responded 200 in 297.7227 ms
2025-08-10 12:41:42.431 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818902126 - 200 44 application/octet-stream 297.9835ms
2025-08-10 12:41:42.449 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818902444 - null null
2025-08-10 12:41:42.449 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:42.449 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818902444 - 204 null null 0.3324ms
2025-08-10 12:41:42.460 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818902444 - null null
2025-08-10 12:41:42.460 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:42.460 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818902452 - null null
2025-08-10 12:41:42.460 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:42.460 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818902452 - 204 null null 0.2731ms
2025-08-10 12:41:42.460 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:42.464 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818902452 - null null
2025-08-10 12:41:42.465 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:41:42.465 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:41:58.063 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:41:58.063 +03:00 [INF] HTTP GET /chathub responded 200 in 15598.1219 ms
2025-08-10 12:41:58.063 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=PSiUo7q1AqyAQtJM_VawIA&_=1754818902452 - 499 null null 15598.4207ms
2025-08-10 12:42:44.438 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 12:42:44.438 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:42:44.438 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2668ms
2025-08-10 12:42:44.462 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:42:44.462 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:42:44.463 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:42:44.463 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:42:44.472 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:42:44.479 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 12:42:44.480 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:42:44.481 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 17.8023ms
2025-08-10 12:42:44.481 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:42:44.481 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 18.6481 ms
2025-08-10 12:42:44.481 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 19.3415ms
2025-08-10 12:43:12.468 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:43:12.468 +03:00 [INF] HTTP GET /chathub responded 200 in 90008.1737 ms
2025-08-10 12:43:12.469 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818902444 - 200 0 text/plain 90008.8324ms
2025-08-10 12:43:12.477 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818992474 - null null
2025-08-10 12:43:12.478 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:43:12.478 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818992474 - 204 null null 0.345ms
2025-08-10 12:43:12.481 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818992474 - null null
2025-08-10 12:43:12.481 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:43:12.481 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:43:33.017 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:43:33.017 +03:00 [INF] HTTP GET /chathub responded 200 in 20536.2146 ms
2025-08-10 12:43:33.017 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=DDBlAc4Ej-i69Zu30ALGJA&_=1754818992474 - 499 null null 20536.4791ms
2025-08-10 12:43:33.202 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 12:43:33.202 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:43:33.202 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.2262ms
2025-08-10 12:43:33.215 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 12:43:33.215 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:43:33.215 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:43:33.215 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 12:43:33.227 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 12:43:33.228 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:43:33.228 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 12.9141ms
2025-08-10 12:43:33.228 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:43:33.228 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 13.2742 ms
2025-08-10 12:43:33.228 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 13.5659ms
2025-08-10 12:43:37.180 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/swagger/index.html - null null
2025-08-10 12:43:37.314 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/swagger/index.html - 200 null text/html;charset=utf-8 134.2731ms
2025-08-10 12:43:37.450 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 12:43:37.451 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/_vs/browserLink - null null
2025-08-10 12:43:37.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.1933ms
2025-08-10 12:43:37.481 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.0819ms
2025-08-10 12:43:37.710 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/swagger/v1/swagger.json - null null
2025-08-10 12:43:37.765 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.1774ms
2025-08-10 12:43:57.457 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7003/api/Users/Delete?UserId=E0286AB0-D6A8-4BD6-8FB7-3CA6992C9273 - null null
2025-08-10 12:43:57.460 +03:00 [INF] CORS policy execution failed.
2025-08-10 12:43:57.461 +03:00 [INF] Request origin https://localhost:7003 does not have permission to access the resource.
2025-08-10 12:43:57.461 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.DeleteAsync (ChatSystem.UI)'
2025-08-10 12:43:57.480 +03:00 [INF] Route matched with {action = "Delete", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAsync(Application.Commands.Users.DeleteUser.DeleteUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:43:57.529 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0 AND [u].[IsDeleted] = CAST(0 AS bit)
2025-08-10 12:43:57.541 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p13='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ActionBy] = @p0, [ConnectId] = @p1, [Email] = @p2, [FirstName] = @p3, [IsAdmin] = @p4, [IsDeleted] = @p5, [LastActionDate] = @p6, [LastName] = @p7, [Metadata] = @p8, [Password] = @p9, [ProfileImageUrl] = @p10, [Username] = @p11, [WorkspaceId] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2025-08-10 12:43:57.542 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:43:57.542 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.DeleteAsync (ChatSystem.UI) in 61.0981ms
2025-08-10 12:43:57.542 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.DeleteAsync (ChatSystem.UI)'
2025-08-10 12:43:57.542 +03:00 [INF] HTTP DELETE /api/Users/Delete responded 200 in 80.8067 ms
2025-08-10 12:43:57.542 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7003/api/Users/Delete?UserId=E0286AB0-D6A8-4BD6-8FB7-3CA6992C9273 - 200 null application/json; charset=utf-8 84.6126ms
2025-08-10 12:44:15.125 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7003/api/Users/Delete?UserId=1DF72D3B-EEF2-4D08-82D5-57DD78232782 - null null
2025-08-10 12:44:15.125 +03:00 [INF] CORS policy execution failed.
2025-08-10 12:44:15.125 +03:00 [INF] Request origin https://localhost:7003 does not have permission to access the resource.
2025-08-10 12:44:15.125 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.DeleteAsync (ChatSystem.UI)'
2025-08-10 12:44:15.125 +03:00 [INF] Route matched with {action = "Delete", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAsync(Application.Commands.Users.DeleteUser.DeleteUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:44:15.134 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0 AND [u].[IsDeleted] = CAST(0 AS bit)
2025-08-10 12:44:15.137 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p13='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ActionBy] = @p0, [ConnectId] = @p1, [Email] = @p2, [FirstName] = @p3, [IsAdmin] = @p4, [IsDeleted] = @p5, [LastActionDate] = @p6, [LastName] = @p7, [Metadata] = @p8, [Password] = @p9, [ProfileImageUrl] = @p10, [Username] = @p11, [WorkspaceId] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2025-08-10 12:44:15.137 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:44:15.137 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.DeleteAsync (ChatSystem.UI) in 12.2159ms
2025-08-10 12:44:15.137 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.DeleteAsync (ChatSystem.UI)'
2025-08-10 12:44:15.137 +03:00 [INF] HTTP DELETE /api/Users/Delete responded 200 in 12.4037 ms
2025-08-10 12:44:15.138 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7003/api/Users/Delete?UserId=1DF72D3B-EEF2-4D08-82D5-57DD78232782 - 200 null application/json; charset=utf-8 12.7015ms
2025-08-10 12:44:26.178 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7003/api/Users/Delete?UserId=5E3C472A-A62F-4D3D-AE19-AEBF417A754B - null null
2025-08-10 12:44:26.178 +03:00 [INF] CORS policy execution failed.
2025-08-10 12:44:26.178 +03:00 [INF] Request origin https://localhost:7003 does not have permission to access the resource.
2025-08-10 12:44:26.178 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.DeleteAsync (ChatSystem.UI)'
2025-08-10 12:44:26.178 +03:00 [INF] Route matched with {action = "Delete", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAsync(Application.Commands.Users.DeleteUser.DeleteUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:44:26.181 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0 AND [u].[IsDeleted] = CAST(0 AS bit)
2025-08-10 12:44:26.188 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p13='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ActionBy] = @p0, [ConnectId] = @p1, [Email] = @p2, [FirstName] = @p3, [IsAdmin] = @p4, [IsDeleted] = @p5, [LastActionDate] = @p6, [LastName] = @p7, [Metadata] = @p8, [Password] = @p9, [ProfileImageUrl] = @p10, [Username] = @p11, [WorkspaceId] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2025-08-10 12:44:26.188 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:44:26.188 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.DeleteAsync (ChatSystem.UI) in 9.6406ms
2025-08-10 12:44:26.188 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.DeleteAsync (ChatSystem.UI)'
2025-08-10 12:44:26.188 +03:00 [INF] HTTP DELETE /api/Users/Delete responded 200 in 9.9350 ms
2025-08-10 12:44:26.188 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7003/api/Users/Delete?UserId=5E3C472A-A62F-4D3D-AE19-AEBF417A754B - 200 null application/json; charset=utf-8 10.3464ms
2025-08-10 12:45:46.717 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 12:45:46.717 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:46.717 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.2621ms
2025-08-10 12:45:46.732 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 12:45:46.732 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:46.733 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:45:46.733 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 12:45:46.740 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 12:45:46.741 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:45:46.741 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 8.0944ms
2025-08-10 12:45:46.741 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:45:46.741 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 8.5153 ms
2025-08-10 12:45:46.741 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 8.8925ms
2025-08-10 12:45:47.998 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 12:45:47.999 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:47.999 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.1984ms
2025-08-10 12:45:48.004 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 12:45:48.004 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.004 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1802ms
2025-08-10 12:45:48.026 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:45:48.026 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.026 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:45:48.026 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 12:45:48.032 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:45:48.041 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 12:45:48.041 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.042 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 12:45:48.042 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 12:45:48.042 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3925 ms
2025-08-10 12:45:48.042 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6043ms
2025-08-10 12:45:48.051 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=YSbIPu4SUJNth7g8vLASfw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 12:45:48.051 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.051 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 12:45:48.051 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 12:45:48.051 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.3061 ms
2025-08-10 12:45:48.051 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=YSbIPu4SUJNth7g8vLASfw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.5918ms
2025-08-10 12:45:48.051 +03:00 [INF] Connection id "0HNEN4JCDLMS5", Request id "0HNEN4JCDLMS5:00000003": the application completed without reading the entire request body.
2025-08-10 12:45:48.055 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 12:45:48.055 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:45:48.056 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 29.179ms
2025-08-10 12:45:48.056 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:45:48.056 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 29.4855 ms
2025-08-10 12:45:48.056 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 29.7877ms
2025-08-10 12:45:48.056 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 12:45:48.056 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.056 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1389ms
2025-08-10 12:45:48.059 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 12:45:48.060 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.060 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 12:45:48.061 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 12:45:48.061 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 1.1445 ms
2025-08-10 12:45:48.061 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.4055ms
2025-08-10 12:45:48.103 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=x0BpeSLdfarP8HF2CzTlpw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 12:45:48.103 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.103 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 12:45:48.103 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 12:45:48.103 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1808 ms
2025-08-10 12:45:48.103 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=x0BpeSLdfarP8HF2CzTlpw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.5235ms
2025-08-10 12:45:48.108 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 12:45:48.108 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.108 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1432ms
2025-08-10 12:45:48.112 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 12:45:48.112 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.112 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 12:45:48.112 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 12:45:48.113 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4134 ms
2025-08-10 12:45:48.113 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6642ms
2025-08-10 12:45:48.118 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819148116 - null null
2025-08-10 12:45:48.118 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.118 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819148116 - 204 null null 0.1441ms
2025-08-10 12:45:48.121 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819148116 - null null
2025-08-10 12:45:48.121 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.121 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:45:48.121 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:45:48.121 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4840 ms
2025-08-10 12:45:48.121 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819148116 - 200 0 application/octet-stream 0.6283ms
2025-08-10 12:45:48.127 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819148124 - null null
2025-08-10 12:45:48.127 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.127 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - null null
2025-08-10 12:45:48.127 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819148124 - 204 null null 0.3072ms
2025-08-10 12:45:48.127 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.127 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - 204 null null 0.1847ms
2025-08-10 12:45:48.132 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819148124 - null null
2025-08-10 12:45:48.132 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - text/plain;charset=UTF-8 32
2025-08-10 12:45:48.132 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.132 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.132 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:45:48.132 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:45:48.132 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:45:48.132 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1836 ms
2025-08-10 12:45:48.132 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - 200 0 text/plain 0.3864ms
2025-08-10 12:45:48.132 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:45:48.132 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2821 ms
2025-08-10 12:45:48.132 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819148124 - 200 3 application/octet-stream 0.4758ms
2025-08-10 12:45:48.138 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819148137 - null null
2025-08-10 12:45:48.139 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.139 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819148137 - 204 null null 0.1575ms
2025-08-10 12:45:48.141 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819148137 - null null
2025-08-10 12:45:48.141 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:48.141 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:45:49.270 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - null null
2025-08-10 12:45:49.270 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:49.270 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - 204 null null 0.1647ms
2025-08-10 12:45:49.270 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 12:45:49.270 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:49.270 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.3658ms
2025-08-10 12:45:49.273 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - text/plain;charset=UTF-8 103
2025-08-10 12:45:49.273 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:49.273 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:45:49.273 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:45:49.273 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3322 ms
2025-08-10 12:45:49.273 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - 200 0 text/plain 0.5903ms
2025-08-10 12:45:49.274 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:45:49.274 +03:00 [INF] HTTP GET /chathub responded 200 in 1133.0373 ms
2025-08-10 12:45:49.274 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 12:45:49.274 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819148137 - 200 44 application/octet-stream 1133.2638ms
2025-08-10 12:45:49.274 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:49.274 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 12:45:49.274 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1311ms
2025-08-10 12:45:49.274 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:49.275 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 12:45:49.275 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 12:45:49.279 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:45:49.279 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:49.279 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:45:49.279 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:45:49.281 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:45:49.286 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819149283 - null null
2025-08-10 12:45:49.286 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:49.286 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819149283 - 204 null null 0.17ms
2025-08-10 12:45:49.289 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819149283 - null null
2025-08-10 12:45:49.289 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:49.290 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:45:49.290 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:45:49.304 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 12:45:49.305 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:45:49.305 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 25.4864ms
2025-08-10 12:45:49.305 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:45:49.305 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 25.9625 ms
2025-08-10 12:45:49.305 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 26.3108ms
2025-08-10 12:45:49.351 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 12:45:49.357 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:45:49.362 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 86.8338ms
2025-08-10 12:45:49.362 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 12:45:49.362 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 87.2690 ms
2025-08-10 12:45:49.362 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 87.5252ms
2025-08-10 12:45:50.853 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - null null
2025-08-10 12:45:50.853 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:50.853 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - 204 null null 0.1596ms
2025-08-10 12:45:50.858 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - application/json null
2025-08-10 12:45:50.858 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:50.858 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 12:45:50.858 +03:00 [INF] Route matched with {action = "GetUsersByChatRoom", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByChatRoom(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:45:50.868 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:45:50.879 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[ChatRoomId] = @__request_ChatRoomId_0
2025-08-10 12:45:50.880 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:45:50.880 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI) in 21.94ms
2025-08-10 12:45:50.880 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 12:45:50.881 +03:00 [INF] HTTP GET /api/Users/GetUsersByChatRoom responded 200 in 22.2536 ms
2025-08-10 12:45:50.881 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 22.502ms
2025-08-10 12:45:55.080 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - null null
2025-08-10 12:45:55.080 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - null null
2025-08-10 12:45:55.080 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:55.080 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:55.080 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - 204 null null 0.3551ms
2025-08-10 12:45:55.080 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 204 null null 0.4194ms
2025-08-10 12:45:55.084 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - text/plain;charset=UTF-8 103
2025-08-10 12:45:55.085 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:55.085 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - application/json null
2025-08-10 12:45:55.085 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:45:55.085 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:55.085 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:45:55.086 +03:00 [INF] HTTP POST /chathub responded 200 in 0.7195 ms
2025-08-10 12:45:55.086 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - 200 0 text/plain 1.2334ms
2025-08-10 12:45:55.086 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 12:45:55.086 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 12:45:55.086 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:45:55.086 +03:00 [INF] HTTP GET /chathub responded 200 in 5797.0077 ms
2025-08-10 12:45:55.087 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819149283 - 200 44 application/octet-stream 5797.3413ms
2025-08-10 12:45:55.101 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:45:55.102 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819155097 - null null
2025-08-10 12:45:55.102 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:55.102 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819155097 - 204 null null 0.3374ms
2025-08-10 12:45:55.107 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819155097 - null null
2025-08-10 12:45:55.107 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:55.107 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:45:55.164 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 12:45:55.164 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:45:55.164 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 78.1991ms
2025-08-10 12:45:55.164 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 12:45:55.164 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed responded 200 in 78.8903 ms
2025-08-10 12:45:55.164 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 200 null application/json; charset=utf-8 79.2324ms
2025-08-10 12:45:56.310 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=6c747e94-ba54-486b-9ad0-e99623dae4ed&pageNumber=1&pageSize=50 - null null
2025-08-10 12:45:56.310 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:56.310 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=6c747e94-ba54-486b-9ad0-e99623dae4ed&pageNumber=1&pageSize=50 - 204 null null 0.2039ms
2025-08-10 12:45:56.314 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=6c747e94-ba54-486b-9ad0-e99623dae4ed&pageNumber=1&pageSize=50 - application/json null
2025-08-10 12:45:56.314 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:45:56.315 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 12:45:56.315 +03:00 [INF] Route matched with {action = "GetUsersByChatRoom", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByChatRoom(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:45:56.323 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:45:56.334 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[ChatRoomId] = @__request_ChatRoomId_0
2025-08-10 12:45:56.335 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:45:56.335 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI) in 20.7483ms
2025-08-10 12:45:56.335 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 12:45:56.335 +03:00 [INF] HTTP GET /api/Users/GetUsersByChatRoom responded 200 in 21.1062 ms
2025-08-10 12:45:56.336 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=6c747e94-ba54-486b-9ad0-e99623dae4ed&pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 21.3806ms
2025-08-10 12:47:25.118 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:47:25.119 +03:00 [INF] HTTP GET /chathub responded 200 in 90012.1614 ms
2025-08-10 12:47:25.120 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819155097 - 200 0 text/plain 90012.6548ms
2025-08-10 12:47:25.137 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819245133 - null null
2025-08-10 12:47:25.137 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:47:25.137 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819245133 - 204 null null 0.2739ms
2025-08-10 12:47:25.141 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819245133 - null null
2025-08-10 12:47:25.141 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:47:25.142 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:48:40.615 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 12:48:40.615 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:40.616 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2381ms
2025-08-10 12:48:40.624 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 12:48:40.625 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:40.625 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2448ms
2025-08-10 12:48:40.646 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:48:40.647 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:40.647 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:48:40.647 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 12:48:40.656 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:48:40.656 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:48:40.656 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:40.657 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:48:40.657 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:48:40.663 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:48:40.672 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 12:48:40.672 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:48:40.672 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 15.6299ms
2025-08-10 12:48:40.673 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:48:40.673 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 16.3673 ms
2025-08-10 12:48:40.673 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 16.7868ms
2025-08-10 12:48:40.679 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 12:48:40.679 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:48:40.679 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 32.2814ms
2025-08-10 12:48:40.679 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:48:40.679 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 32.7500 ms
2025-08-10 12:48:40.680 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 33.1563ms
2025-08-10 12:48:46.328 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 12:48:46.328 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:46.328 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.1779ms
2025-08-10 12:48:46.330 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-08-10 12:48:46.330 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:46.330 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.2851ms
2025-08-10 12:48:46.339 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 12:48:46.339 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:46.339 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2206ms
2025-08-10 12:48:46.346 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 12:48:46.346 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-08-10 12:48:46.346 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:46.346 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:46.346 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:48:46.346 +03:00 [INF] HTTP GET /api/Users responded 404 in 0.1581 ms
2025-08-10 12:48:46.346 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 12:48:46.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 0.5978ms
2025-08-10 12:48:46.346 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-08-10 12:48:46.352 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 12:48:46.352 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:48:46.352 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 6.301ms
2025-08-10 12:48:46.352 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:48:46.352 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 6.6947 ms
2025-08-10 12:48:46.353 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 7.0438ms
2025-08-10 12:48:46.358 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:48:46.358 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:46.358 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:48:46.358 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 12:48:46.365 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:48:46.385 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 12:48:46.385 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:48:46.386 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 27.3744ms
2025-08-10 12:48:46.386 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:48:46.386 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 27.7483 ms
2025-08-10 12:48:46.386 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 499 null application/json; charset=utf-8 28.0676ms
2025-08-10 12:48:47.848 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 12:48:47.848 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:47.849 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:48:47.849 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 12:48:47.861 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 12:48:47.862 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:48:47.862 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 13.0794ms
2025-08-10 12:48:47.862 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:48:47.862 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 14.0470 ms
2025-08-10 12:48:47.863 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 14.6152ms
2025-08-10 12:48:52.040 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 12:48:52.040 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:52.040 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2673ms
2025-08-10 12:48:52.051 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 12:48:52.051 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:52.051 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3594ms
2025-08-10 12:48:52.092 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:48:52.092 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:52.093 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:48:52.093 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 12:48:52.100 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:48:52.101 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:48:52.101 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:52.102 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:48:52.102 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:48:52.108 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:48:52.116 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 12:48:52.116 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:48:52.116 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 14.1641ms
2025-08-10 12:48:52.116 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:48:52.116 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 14.5407 ms
2025-08-10 12:48:52.116 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 14.8922ms
2025-08-10 12:48:52.120 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 12:48:52.120 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:48:52.121 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 27.8218ms
2025-08-10 12:48:52.121 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:48:52.121 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 28.2411 ms
2025-08-10 12:48:52.121 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 28.534ms
2025-08-10 12:48:54.979 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:48:54.979 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:54.980 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:48:54.980 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 12:48:54.988 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:48:55.013 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 12:48:55.013 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:48:55.013 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 33.0501ms
2025-08-10 12:48:55.013 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:48:55.013 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 33.5865 ms
2025-08-10 12:48:55.013 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 34.0283ms
2025-08-10 12:48:55.152 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:48:55.152 +03:00 [INF] HTTP GET /chathub responded 200 in 90010.8578 ms
2025-08-10 12:48:55.152 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819245133 - 200 0 text/plain 90011.168ms
2025-08-10 12:48:55.159 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819335156 - null null
2025-08-10 12:48:55.159 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:55.159 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819335156 - 204 null null 0.1733ms
2025-08-10 12:48:55.163 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819335156 - null null
2025-08-10 12:48:55.163 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:55.163 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:48:56.639 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - null null
2025-08-10 12:48:56.639 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - null null
2025-08-10 12:48:56.639 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:56.639 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:56.639 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - 204 null null 0.2565ms
2025-08-10 12:48:56.639 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 204 null null 0.2356ms
2025-08-10 12:48:56.644 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - text/plain;charset=UTF-8 103
2025-08-10 12:48:56.644 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:56.644 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:48:56.644 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:56.644 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:48:56.645 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:48:56.645 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:48:56.645 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 12:48:56.645 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4244 ms
2025-08-10 12:48:56.645 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - 200 0 text/plain 0.7751ms
2025-08-10 12:48:56.646 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - application/json null
2025-08-10 12:48:56.646 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:56.646 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:48:56.646 +03:00 [INF] HTTP GET /chathub responded 200 in 1482.7554 ms
2025-08-10 12:48:56.646 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819335156 - 200 44 application/octet-stream 1483.1294ms
2025-08-10 12:48:56.646 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 12:48:56.646 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 12:48:56.651 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:48:56.653 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:48:56.656 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819336652 - null null
2025-08-10 12:48:56.656 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:56.656 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819336652 - 204 null null 0.3126ms
2025-08-10 12:48:56.658 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 12:48:56.658 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:48:56.659 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 13.8784ms
2025-08-10 12:48:56.659 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 12:48:56.659 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 14.2912 ms
2025-08-10 12:48:56.659 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 14.5947ms
2025-08-10 12:48:56.662 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819336652 - null null
2025-08-10 12:48:56.662 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:48:56.662 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:48:56.736 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 12:48:56.736 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:48:56.737 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 90.2261ms
2025-08-10 12:48:56.737 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 12:48:56.737 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed responded 200 in 90.7516 ms
2025-08-10 12:48:56.737 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 200 null application/json; charset=utf-8 91.3639ms
2025-08-10 12:49:01.226 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 12:49:01.226 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:49:01.226 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - null null
2025-08-10 12:49:01.226 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2213ms
2025-08-10 12:49:01.226 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:49:01.226 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - 204 null null 0.3126ms
2025-08-10 12:49:01.229 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - text/plain;charset=UTF-8 103
2025-08-10 12:49:01.229 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:49:01.229 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:49:01.229 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:49:01.229 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3570 ms
2025-08-10 12:49:01.229 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA - 200 0 text/plain 0.6087ms
2025-08-10 12:49:01.230 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 12:49:01.230 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:49:01.230 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 12:49:01.230 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:49:01.230 +03:00 [INF] HTTP GET /chathub responded 200 in 4567.9668 ms
2025-08-10 12:49:01.230 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 12:49:01.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819336652 - 200 44 application/octet-stream 4568.3531ms
2025-08-10 12:49:01.233 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:49:01.236 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 12:49:01.237 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:49:01.237 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 6.616ms
2025-08-10 12:49:01.237 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 12:49:01.237 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 7.1169 ms
2025-08-10 12:49:01.237 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 7.4447ms
2025-08-10 12:49:01.256 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819341253 - null null
2025-08-10 12:49:01.257 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:49:01.257 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819341253 - 204 null null 0.2865ms
2025-08-10 12:49:01.259 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819341253 - null null
2025-08-10 12:49:01.259 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:49:01.259 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:50:31.263 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:50:31.264 +03:00 [INF] HTTP GET /chathub responded 200 in 90004.5324 ms
2025-08-10 12:50:31.264 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819341253 - 200 0 text/plain 90004.9035ms
2025-08-10 12:50:31.277 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819431274 - null null
2025-08-10 12:50:31.277 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:50:31.277 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819431274 - 204 null null 0.2553ms
2025-08-10 12:50:31.280 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819431274 - null null
2025-08-10 12:50:31.280 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:50:31.280 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:52:01.293 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:52:01.293 +03:00 [INF] HTTP GET /chathub responded 200 in 90013.5407 ms
2025-08-10 12:52:01.294 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819431274 - 200 0 text/plain 90013.9145ms
2025-08-10 12:52:01.309 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819521305 - null null
2025-08-10 12:52:01.309 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:52:01.309 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819521305 - 204 null null 0.251ms
2025-08-10 12:52:01.312 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819521305 - null null
2025-08-10 12:52:01.312 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:52:01.312 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:52:16.289 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 12:52:16.289 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:52:16.289 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.23ms
2025-08-10 12:52:16.290 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-08-10 12:52:16.290 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:52:16.290 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.1137ms
2025-08-10 12:52:16.297 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 12:52:16.297 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:52:16.297 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2359ms
2025-08-10 12:52:16.305 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 12:52:16.305 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:52:16.306 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-08-10 12:52:16.306 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:52:16.306 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:52:16.306 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 12:52:16.306 +03:00 [INF] HTTP GET /api/Users responded 404 in 0.1522 ms
2025-08-10 12:52:16.306 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 0.5628ms
2025-08-10 12:52:16.307 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-08-10 12:52:16.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 12:52:16.310 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:52:16.311 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:52:16.311 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 12:52:16.311 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 12:52:16.311 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:52:16.312 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 5.6418ms
2025-08-10 12:52:16.312 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 12:52:16.312 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 6.4163 ms
2025-08-10 12:52:16.312 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 6.9281ms
2025-08-10 12:52:16.317 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 12:52:16.339 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 12:52:16.339 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 12:52:16.340 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 28.986ms
2025-08-10 12:52:16.340 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 12:52:16.340 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 29.5048 ms
2025-08-10 12:52:16.340 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 499 null application/json; charset=utf-8 29.9348ms
2025-08-10 12:53:31.319 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:53:31.319 +03:00 [INF] HTTP GET /chathub responded 200 in 90007.3679 ms
2025-08-10 12:53:31.320 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819521305 - 200 0 text/plain 90007.8053ms
2025-08-10 12:53:31.326 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819611323 - null null
2025-08-10 12:53:31.326 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:53:31.326 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819611323 - 204 null null 0.1771ms
2025-08-10 12:53:31.329 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819611323 - null null
2025-08-10 12:53:31.329 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:53:31.329 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:55:01.345 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:55:01.345 +03:00 [INF] HTTP GET /chathub responded 200 in 90016.0428 ms
2025-08-10 12:55:01.345 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819611323 - 200 0 text/plain 90016.3587ms
2025-08-10 12:55:01.352 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819701348 - null null
2025-08-10 12:55:01.352 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:55:01.352 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819701348 - 204 null null 0.2128ms
2025-08-10 12:55:01.355 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819701348 - null null
2025-08-10 12:55:01.355 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:55:01.357 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:56:31.366 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:56:31.367 +03:00 [INF] HTTP GET /chathub responded 200 in 90010.3156 ms
2025-08-10 12:56:31.367 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819701348 - 200 0 text/plain 90011.5256ms
2025-08-10 12:56:31.374 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819791370 - null null
2025-08-10 12:56:31.375 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:56:31.375 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819791370 - 204 null null 0.3326ms
2025-08-10 12:56:31.377 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819791370 - null null
2025-08-10 12:56:31.377 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:56:31.378 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:58:01.391 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:58:01.391 +03:00 [INF] HTTP GET /chathub responded 200 in 90013.9409 ms
2025-08-10 12:58:01.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819791370 - 200 0 text/plain 90014.3495ms
2025-08-10 12:58:01.397 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819881394 - null null
2025-08-10 12:58:01.397 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:58:01.397 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819881394 - 204 null null 0.2065ms
2025-08-10 12:58:01.400 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819881394 - null null
2025-08-10 12:58:01.400 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:58:01.401 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 12:59:31.406 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 12:59:31.406 +03:00 [INF] HTTP GET /chathub responded 200 in 90005.5525 ms
2025-08-10 12:59:31.406 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819881394 - 200 0 text/plain 90005.7966ms
2025-08-10 12:59:31.415 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819971410 - null null
2025-08-10 12:59:31.415 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:59:31.415 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819971410 - 204 null null 0.3375ms
2025-08-10 12:59:31.418 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819971410 - null null
2025-08-10 12:59:31.418 +03:00 [INF] CORS policy execution successful.
2025-08-10 12:59:31.418 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:01:01.429 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:01:01.430 +03:00 [INF] HTTP GET /chathub responded 200 in 90011.6021 ms
2025-08-10 13:01:01.430 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754819971410 - 200 0 text/plain 90011.9047ms
2025-08-10 13:01:01.438 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754820061434 - null null
2025-08-10 13:01:01.438 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:01:01.438 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754820061434 - 204 null null 0.112ms
2025-08-10 13:01:01.443 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754820061434 - null null
2025-08-10 13:01:01.443 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:01:01.443 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:02:31.451 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:02:31.452 +03:00 [INF] HTTP GET /chathub responded 200 in 90008.7735 ms
2025-08-10 13:02:31.452 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754820061434 - 200 0 text/plain 90009.044ms
2025-08-10 13:02:31.464 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754820151457 - null null
2025-08-10 13:02:31.464 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:02:31.464 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754820151457 - 204 null null 1.7429ms
2025-08-10 13:02:31.467 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754820151457 - null null
2025-08-10 13:02:31.467 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:02:31.467 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:04:01.481 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:04:01.481 +03:00 [INF] HTTP GET /chathub responded 200 in 90014.1461 ms
2025-08-10 13:04:01.481 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754820151457 - 200 0 text/plain 90014.4074ms
2025-08-10 13:04:01.489 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754820241485 - null null
2025-08-10 13:04:01.489 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:04:01.489 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754820241485 - 204 null null 0.2503ms
2025-08-10 13:04:01.492 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754820241485 - null null
2025-08-10 13:04:01.492 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:04:01.492 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:05:01.363 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:05:01.363 +03:00 [INF] HTTP GET /chathub responded 200 in 59871.1894 ms
2025-08-10 13:05:01.363 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qN1-5vJfrzcOooiEWAxXbA&_=1754820241485 - 499 null null 59871.5183ms
2025-08-10 13:05:01.802 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 13:05:01.803 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:05:01.803 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.5303ms
2025-08-10 13:05:01.808 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-08-10 13:05:01.808 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:05:01.808 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.287ms
2025-08-10 13:05:01.810 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:05:01.810 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:05:01.810 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2193ms
2025-08-10 13:05:01.814 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 13:05:01.815 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:05:01.816 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:05:01.817 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 13:05:01.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-08-10 13:05:01.822 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:05:01.822 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:05:01.822 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:05:01.822 +03:00 [INF] HTTP GET /api/Users responded 404 in 0.4759 ms
2025-08-10 13:05:01.822 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 1.1752ms
2025-08-10 13:05:01.823 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-08-10 13:05:01.822 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:05:01.823 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:05:01.828 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 13:05:01.829 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:05:01.829 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 12.5096ms
2025-08-10 13:05:01.829 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:05:01.829 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 14.3291 ms
2025-08-10 13:05:01.830 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 15.3539ms
2025-08-10 13:05:01.835 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:05:01.863 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:05:01.863 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:05:01.867 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 43.9302ms
2025-08-10 13:05:01.867 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:05:01.867 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 44.5710 ms
2025-08-10 13:05:01.867 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 499 null application/json; charset=utf-8 45.0116ms
2025-08-10 13:05:33.611 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 13:05:33.612 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:05:33.612 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.62ms
2025-08-10 13:05:33.692 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 13:05:33.693 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:05:33.693 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:05:33.693 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 13:05:33.703 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 13:05:33.703 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:05:33.703 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 9.9502ms
2025-08-10 13:05:33.704 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:05:33.704 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 10.5913 ms
2025-08-10 13:05:33.704 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 11.3583ms
2025-08-10 13:06:29.034 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 13:06:29.034 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:29.034 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.338ms
2025-08-10 13:06:29.036 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 13:06:29.037 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:29.037 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:06:29.037 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 13:06:29.045 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 13:06:29.046 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:06:29.046 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 8.8337ms
2025-08-10 13:06:29.046 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:06:29.046 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 9.2385 ms
2025-08-10 13:06:29.046 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 10.1445ms
2025-08-10 13:06:48.500 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Add - null null
2025-08-10 13:06:48.500 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:48.500 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Add - 204 null null 0.2891ms
2025-08-10 13:06:48.503 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Add - application/json 203
2025-08-10 13:06:48.503 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:48.504 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.AddAsync (ChatSystem.UI)'
2025-08-10 13:06:48.504 +03:00 [INF] Route matched with {action = "Add", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsync(Application.Commands.Users.AddUser.AddUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:06:48.527 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [ActionBy], [ConnectId], [Email], [FirstName], [IsAdmin], [IsDeleted], [LastActionDate], [LastName], [Metadata], [Password], [ProfileImageUrl], [Username], [WorkspaceId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-08-10 13:06:48.528 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:06:48.528 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.AddAsync (ChatSystem.UI) in 23.7007ms
2025-08-10 13:06:48.529 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.AddAsync (ChatSystem.UI)'
2025-08-10 13:06:48.529 +03:00 [INF] HTTP POST /api/Users/Add responded 200 in 24.5163 ms
2025-08-10 13:06:48.529 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Add - 200 null application/json; charset=utf-8 25.483ms
2025-08-10 13:06:50.880 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:06:50.880 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:50.880 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.1805ms
2025-08-10 13:06:50.892 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:06:50.892 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:50.892 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3123ms
2025-08-10 13:06:50.922 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:06:50.923 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:50.923 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:06:50.923 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:06:50.925 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:06:50.926 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:50.926 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:06:50.927 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:06:50.927 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.9679 ms
2025-08-10 13:06:50.927 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.4641ms
2025-08-10 13:06:50.933 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:06:50.950 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=mO3G-j2nZSPDH-b88al4FA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:06:50.950 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:50.950 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:06:50.951 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:06:50.951 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.4057 ms
2025-08-10 13:06:50.951 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=mO3G-j2nZSPDH-b88al4FA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.7335ms
2025-08-10 13:06:50.951 +03:00 [INF] Connection id "0HNEN4JCDLMS5", Request id "0HNEN4JCDLMS5:0000003D": the application completed without reading the entire request body.
2025-08-10 13:06:50.955 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:06:50.955 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:50.955 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.513ms
2025-08-10 13:06:50.958 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:06:50.958 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:50.959 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:06:50.959 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:06:50.959 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.8540 ms
2025-08-10 13:06:50.959 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.2863ms
2025-08-10 13:06:50.965 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qJh9nrOvEu56pBMg7tPYGA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:06:50.966 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:50.966 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:06:50.966 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:06:50.966 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:06:50.967 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:06:50.967 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 43.1276ms
2025-08-10 13:06:50.967 +03:00 [INF] HTTP GET /chathub responded 401 in 0.5282 ms
2025-08-10 13:06:50.967 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:06:50.967 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qJh9nrOvEu56pBMg7tPYGA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 2.1989ms
2025-08-10 13:06:50.967 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 44.0781 ms
2025-08-10 13:06:50.967 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 45.0606ms
2025-08-10 13:06:50.974 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:06:50.975 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:50.975 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.5449ms
2025-08-10 13:06:50.996 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:06:50.996 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:50.997 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:06:50.997 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:06:50.997 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.8971 ms
2025-08-10 13:06:50.997 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.2528ms
2025-08-10 13:06:51.018 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg&_=1754820411010 - null null
2025-08-10 13:06:51.018 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:51.018 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg&_=1754820411010 - 204 null null 0.2622ms
2025-08-10 13:06:51.021 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg&_=1754820411010 - null null
2025-08-10 13:06:51.021 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:51.022 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:06:51.022 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:06:51.022 +03:00 [INF] HTTP GET /chathub responded 200 in 1.0528 ms
2025-08-10 13:06:51.022 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg&_=1754820411010 - 200 0 application/octet-stream 1.3614ms
2025-08-10 13:06:51.036 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg&_=1754820411031 - null null
2025-08-10 13:06:51.036 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg - null null
2025-08-10 13:06:51.036 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:51.036 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:51.036 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg&_=1754820411031 - 204 null null 0.3284ms
2025-08-10 13:06:51.036 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg - 204 null null 0.3029ms
2025-08-10 13:06:51.041 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg - text/plain;charset=UTF-8 32
2025-08-10 13:06:51.041 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg&_=1754820411031 - null null
2025-08-10 13:06:51.041 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:51.041 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:51.041 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:06:51.041 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:06:51.042 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:06:51.042 +03:00 [INF] HTTP POST /chathub responded 200 in 0.6012 ms
2025-08-10 13:06:51.042 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg - 200 0 text/plain 0.9308ms
2025-08-10 13:06:51.042 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:06:51.042 +03:00 [INF] HTTP GET /chathub responded 200 in 0.8837 ms
2025-08-10 13:06:51.042 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg&_=1754820411031 - 200 3 application/octet-stream 1.3346ms
2025-08-10 13:06:51.053 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg&_=1754820411049 - null null
2025-08-10 13:06:51.053 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:51.054 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg&_=1754820411049 - 204 null null 0.3631ms
2025-08-10 13:06:51.059 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg&_=1754820411049 - null null
2025-08-10 13:06:51.060 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:51.060 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:06:52.893 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:06:52.893 +03:00 [INF] HTTP GET /chathub responded 200 in 1833.4263 ms
2025-08-10 13:06:52.893 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=mBTISAKvcNvMJ3ChjOguSg&_=1754820411049 - 499 null null 1833.9326ms
2025-08-10 13:06:53.219 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:06:53.220 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.220 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.552ms
2025-08-10 13:06:53.228 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:06:53.228 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.229 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:06:53.229 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:06:53.240 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:06:53.262 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:06:53.262 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:06:53.262 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:06:53.262 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 32.4941ms
2025-08-10 13:06:53.262 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.262 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:06:53.262 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 33.7559 ms
2025-08-10 13:06:53.263 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 34.2692ms
2025-08-10 13:06:53.263 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:06:53.263 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:06:53.263 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.8594 ms
2025-08-10 13:06:53.264 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.2614ms
2025-08-10 13:06:53.277 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=bZFh6-G8rsgrf-GK5qSIoQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:06:53.277 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.278 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:06:53.278 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:06:53.278 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.9192 ms
2025-08-10 13:06:53.278 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=bZFh6-G8rsgrf-GK5qSIoQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 1.5301ms
2025-08-10 13:06:53.279 +03:00 [INF] Connection id "0HNEN4JCDLMS5", Request id "0HNEN4JCDLMS5:0000004F": the application completed without reading the entire request body.
2025-08-10 13:06:53.284 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:06:53.284 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.284 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2611ms
2025-08-10 13:06:53.289 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:06:53.290 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.291 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:06:53.291 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:06:53.291 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 1.0133 ms
2025-08-10 13:06:53.292 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 2.177ms
2025-08-10 13:06:53.299 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=Iri-9bmjOz_1yl3s1YdqOg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:06:53.300 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.300 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:06:53.300 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:06:53.300 +03:00 [INF] HTTP GET /chathub responded 401 in 0.2608 ms
2025-08-10 13:06:53.300 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=Iri-9bmjOz_1yl3s1YdqOg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.7799ms
2025-08-10 13:06:53.303 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:06:53.303 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.303 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2412ms
2025-08-10 13:06:53.306 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:06:53.306 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.306 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:06:53.306 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:06:53.306 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3961 ms
2025-08-10 13:06:53.306 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6615ms
2025-08-10 13:06:53.311 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820413309 - null null
2025-08-10 13:06:53.312 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.312 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820413309 - 204 null null 0.2511ms
2025-08-10 13:06:53.315 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820413309 - null null
2025-08-10 13:06:53.316 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.316 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:06:53.316 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:06:53.316 +03:00 [INF] HTTP GET /chathub responded 200 in 0.7158 ms
2025-08-10 13:06:53.316 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820413309 - 200 0 application/octet-stream 1.0845ms
2025-08-10 13:06:53.321 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820413318 - null null
2025-08-10 13:06:53.321 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.321 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820413318 - 204 null null 0.2455ms
2025-08-10 13:06:53.321 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q - null null
2025-08-10 13:06:53.322 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.322 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q - 204 null null 0.497ms
2025-08-10 13:06:53.324 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q - text/plain;charset=UTF-8 32
2025-08-10 13:06:53.325 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.325 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:06:53.327 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820413318 - null null
2025-08-10 13:06:53.327 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.327 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:06:53.336 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:06:53.336 +03:00 [INF] HTTP GET /chathub responded 200 in 9.0699 ms
2025-08-10 13:06:53.336 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820413318 - 200 3 application/octet-stream 9.4536ms
2025-08-10 13:06:53.336 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:06:53.336 +03:00 [INF] HTTP POST /chathub responded 200 in 11.4605 ms
2025-08-10 13:06:53.336 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q - 200 0 text/plain 12.1435ms
2025-08-10 13:06:53.343 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820413340 - null null
2025-08-10 13:06:53.344 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.344 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820413340 - 204 null null 0.393ms
2025-08-10 13:06:53.346 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820413340 - null null
2025-08-10 13:06:53.347 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:53.347 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:06:55.781 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:06:55.782 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:55.783 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:06:55.783 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:06:55.792 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:06:55.793 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:06:55.793 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:55.793 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1633ms
2025-08-10 13:06:55.818 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:06:55.818 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:06:55.819 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 35.6013ms
2025-08-10 13:06:55.819 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:06:55.819 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 36.5764 ms
2025-08-10 13:06:55.819 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 37.7132ms
2025-08-10 13:06:55.831 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:06:55.831 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:55.831 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:06:55.832 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:06:55.841 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:06:55.849 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:06:55.849 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:06:55.849 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 17.733ms
2025-08-10 13:06:55.849 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:06:55.849 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 18.1834 ms
2025-08-10 13:06:55.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 18.5911ms
2025-08-10 13:06:57.060 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:06:57.061 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:57.061 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.429ms
2025-08-10 13:06:57.139 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:06:57.139 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:57.140 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:06:57.140 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:06:57.153 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:06:57.176 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:06:57.176 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:06:57.176 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 36.6099ms
2025-08-10 13:06:57.176 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:06:57.176 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 37.1466 ms
2025-08-10 13:06:57.177 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 37.5497ms
2025-08-10 13:06:57.928 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - null null
2025-08-10 13:06:57.928 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:57.928 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q - null null
2025-08-10 13:06:57.928 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:57.929 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 204 null null 0.4509ms
2025-08-10 13:06:57.929 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q - 204 null null 0.6131ms
2025-08-10 13:06:57.931 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - application/json null
2025-08-10 13:06:57.932 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q - text/plain;charset=UTF-8 103
2025-08-10 13:06:57.932 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:57.932 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:57.932 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:06:57.932 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:06:57.933 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:06:57.933 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:06:57.933 +03:00 [INF] HTTP POST /chathub responded 200 in 1.3957 ms
2025-08-10 13:06:57.933 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q - 200 0 text/plain 1.7867ms
2025-08-10 13:06:57.934 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:06:57.934 +03:00 [INF] HTTP GET /chathub responded 200 in 4586.7354 ms
2025-08-10 13:06:57.934 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820413340 - 200 44 application/octet-stream 4587.2215ms
2025-08-10 13:06:57.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:06:57.936 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:57.936 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:06:57.936 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:06:57.941 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:06:57.944 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:06:57.949 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820417943 - null null
2025-08-10 13:06:57.949 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:57.950 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820417943 - 204 null null 0.6321ms
2025-08-10 13:06:57.953 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:06:57.954 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820417943 - null null
2025-08-10 13:06:57.954 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:06:57.954 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:57.954 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 17.2919ms
2025-08-10 13:06:57.954 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:06:57.954 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 17.8087 ms
2025-08-10 13:06:57.954 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 18.1773ms
2025-08-10 13:06:57.954 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:06:58.018 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 13:06:58.019 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:06:58.019 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 87.0659ms
2025-08-10 13:06:58.019 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:06:58.019 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed responded 200 in 87.5817 ms
2025-08-10 13:06:58.019 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 200 null application/json; charset=utf-8 87.9472ms
2025-08-10 13:06:58.891 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=6c747e94-ba54-486b-9ad0-e99623dae4ed&pageNumber=1&pageSize=50 - null null
2025-08-10 13:06:58.892 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:58.892 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=6c747e94-ba54-486b-9ad0-e99623dae4ed&pageNumber=1&pageSize=50 - 204 null null 0.7142ms
2025-08-10 13:06:58.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=6c747e94-ba54-486b-9ad0-e99623dae4ed&pageNumber=1&pageSize=50 - application/json null
2025-08-10 13:06:58.895 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:06:58.897 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 13:06:58.897 +03:00 [INF] Route matched with {action = "GetUsersByChatRoom", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByChatRoom(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:06:58.904 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:06:58.913 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[ChatRoomId] = @__request_ChatRoomId_0
2025-08-10 13:06:58.914 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:06:58.914 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI) in 16.7208ms
2025-08-10 13:06:58.914 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 13:06:58.914 +03:00 [INF] HTTP GET /api/Users/GetUsersByChatRoom responded 200 in 19.0005 ms
2025-08-10 13:06:58.915 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=6c747e94-ba54-486b-9ad0-e99623dae4ed&pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 19.4845ms
2025-08-10 13:07:04.244 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/Members - null null
2025-08-10 13:07:04.244 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.244 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/Members - 204 null null 0.2904ms
2025-08-10 13:07:04.248 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/ChatRooms/Members - application/json 137
2025-08-10 13:07:04.248 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.249 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI)'
2025-08-10 13:07:04.286 +03:00 [INF] Route matched with {action = "AddMember", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMemberAsync(Application.Commands.ChatRooms.AddRoomMember.AddRoomMembersRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:07:04.340 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__8__locals1_request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__8__locals1_request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:07:04.478 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] uniqueidentifier '$') AS [u0]
)
2025-08-10 13:07:04.499 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__8__locals1_request_ChatRoomId_0='?' (DbType = Guid), @__userIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[UserId]
FROM [RoomMembers] AS [r]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[ChatRoomId] = @__8__locals1_request_ChatRoomId_0 AND [r].[UserId] IN (
    SELECT [u].[value]
    FROM OPENJSON(@__userIds_1) WITH ([value] uniqueidentifier '$') AS [u]
)
2025-08-10 13:07:04.510 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RoomMembers] ([Id], [ActionBy], [ChatRoomId], [IsAdmin], [IsDeleted], [LastActionDate], [Metadata], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-08-10 13:07:04.511 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:07:04.517 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI) in 231.1282ms
2025-08-10 13:07:04.517 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI)'
2025-08-10 13:07:04.517 +03:00 [INF] HTTP POST /api/ChatRooms/Members responded 200 in 268.7079 ms
2025-08-10 13:07:04.517 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/ChatRooms/Members - 200 null application/json; charset=utf-8 269.1193ms
2025-08-10 13:07:04.555 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:04.555 +03:00 [INF] HTTP GET /chathub responded 200 in 6601.2806 ms
2025-08-10 13:07:04.555 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ENB0_KX80WySUNbC7fcE2Q&_=1754820417943 - 499 null null 6601.7631ms
2025-08-10 13:07:04.828 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:07:04.828 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.828 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2645ms
2025-08-10 13:07:04.853 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:07:04.853 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.853 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2828ms
2025-08-10 13:07:04.861 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:07:04.861 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:07:04.861 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.861 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.862 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:07:04.862 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:07:04.862 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:07:04.862 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:07:04.862 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.8810 ms
2025-08-10 13:07:04.863 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.3829ms
2025-08-10 13:07:04.872 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=bPjEXc1lpv08ujE7042sbA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:07:04.872 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.872 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:07:04.872 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:07:04.872 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.2088 ms
2025-08-10 13:07:04.872 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=bPjEXc1lpv08ujE7042sbA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.56ms
2025-08-10 13:07:04.873 +03:00 [INF] Connection id "0HNEN4JCDLMS5", Request id "0HNEN4JCDLMS5:00000065": the application completed without reading the entire request body.
2025-08-10 13:07:04.873 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:07:04.877 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:07:04.877 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.878 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.4046ms
2025-08-10 13:07:04.882 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:07:04.882 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.883 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:07:04.883 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:07:04.883 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 1.0810 ms
2025-08-10 13:07:04.884 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.703ms
2025-08-10 13:07:04.887 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=Tl6PGcC9U7A8sxxi5ckqjQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:07:04.887 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.887 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:07:04.888 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:07:04.888 +03:00 [INF] HTTP GET /chathub responded 401 in 0.2483 ms
2025-08-10 13:07:04.888 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=Tl6PGcC9U7A8sxxi5ckqjQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.6211ms
2025-08-10 13:07:04.891 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:07:04.892 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.892 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3032ms
2025-08-10 13:07:04.895 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:07:04.896 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.896 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:07:04.896 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:07:04.896 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5410 ms
2025-08-10 13:07:04.896 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.3106ms
2025-08-10 13:07:04.898 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:07:04.898 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:07:04.898 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 36.2719ms
2025-08-10 13:07:04.898 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:07:04.898 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 36.8332 ms
2025-08-10 13:07:04.899 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 37.3641ms
2025-08-10 13:07:04.901 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820424899 - null null
2025-08-10 13:07:04.901 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.901 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820424899 - 204 null null 0.2484ms
2025-08-10 13:07:04.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820424899 - null null
2025-08-10 13:07:04.905 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.905 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:04.906 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:04.906 +03:00 [INF] HTTP GET /chathub responded 200 in 0.5997 ms
2025-08-10 13:07:04.906 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820424899 - 200 0 application/octet-stream 0.9249ms
2025-08-10 13:07:04.914 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820424910 - null null
2025-08-10 13:07:04.914 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - null null
2025-08-10 13:07:04.914 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.914 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.914 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820424910 - 204 null null 0.2573ms
2025-08-10 13:07:04.914 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - 204 null null 0.2522ms
2025-08-10 13:07:04.919 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - text/plain;charset=UTF-8 32
2025-08-10 13:07:04.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820424910 - null null
2025-08-10 13:07:04.919 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.919 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.919 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:04.919 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:04.919 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:04.919 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3961 ms
2025-08-10 13:07:04.919 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - 200 0 text/plain 0.7743ms
2025-08-10 13:07:04.920 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:04.920 +03:00 [INF] HTTP GET /chathub responded 200 in 0.8612 ms
2025-08-10 13:07:04.920 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820424910 - 200 3 application/octet-stream 1.2275ms
2025-08-10 13:07:04.926 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820424923 - null null
2025-08-10 13:07:04.926 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.926 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820424923 - 204 null null 0.239ms
2025-08-10 13:07:04.929 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820424923 - null null
2025-08-10 13:07:04.929 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:04.930 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:06.031 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - null null
2025-08-10 13:07:06.031 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:06.031 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - null null
2025-08-10 13:07:06.031 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:06.031 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 204 null null 0.2812ms
2025-08-10 13:07:06.031 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - 204 null null 0.4183ms
2025-08-10 13:07:06.035 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - text/plain;charset=UTF-8 103
2025-08-10 13:07:06.035 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - application/json null
2025-08-10 13:07:06.035 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:06.035 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:06.035 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:06.035 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:07:06.035 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:06.035 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:07:06.035 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3210 ms
2025-08-10 13:07:06.035 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - 200 0 text/plain 0.6358ms
2025-08-10 13:07:06.036 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:07:06.036 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:06.036 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3377ms
2025-08-10 13:07:06.038 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:06.038 +03:00 [INF] HTTP GET /chathub responded 200 in 1108.3569 ms
2025-08-10 13:07:06.038 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820424923 - 200 44 application/octet-stream 1108.8777ms
2025-08-10 13:07:06.040 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:07:06.041 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:06.041 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:07:06.041 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:07:06.045 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:07:06.050 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820426046 - null null
2025-08-10 13:07:06.050 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:06.050 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820426046 - 204 null null 0.3484ms
2025-08-10 13:07:06.052 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:07:06.055 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820426046 - null null
2025-08-10 13:07:06.055 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:06.055 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:06.060 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:07:06.062 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:07:06.063 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 21.4684ms
2025-08-10 13:07:06.063 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:07:06.063 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 22.2391 ms
2025-08-10 13:07:06.063 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 22.6808ms
2025-08-10 13:07:06.145 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 13:07:06.146 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:07:06.146 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 110.9336ms
2025-08-10 13:07:06.146 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:07:06.146 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed responded 200 in 111.4198 ms
2025-08-10 13:07:06.147 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 200 null application/json; charset=utf-8 111.8902ms
2025-08-10 13:07:23.360 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - null null
2025-08-10 13:07:23.360 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:23.360 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - 204 null null 0.3506ms
2025-08-10 13:07:23.363 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Login - application/json 34
2025-08-10 13:07:23.364 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:23.364 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 13:07:23.364 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Commands.Users.LoginUser.LoginUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:07:23.371 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserName_0='?' (Size = 4000), @__request_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__request_UserName_0 AND [u].[Password] = @__request_Password_1
2025-08-10 13:07:23.373 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[Application.Commands.Users.LoginUser.GetLoggedUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 13:07:23.373 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI) in 9.008ms
2025-08-10 13:07:23.373 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 13:07:23.373 +03:00 [INF] HTTP POST /api/Users/Login responded 200 in 9.2976 ms
2025-08-10 13:07:23.373 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Login - 200 null application/json; charset=utf-8 9.7059ms
2025-08-10 13:07:23.430 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 13:07:23.430 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:23.431 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.2295ms
2025-08-10 13:07:23.434 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=621607bb-265c-f011-92b0-10683856fb96 - null null
2025-08-10 13:07:23.434 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-08-10 13:07:23.434 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:23.434 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:23.434 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=621607bb-265c-f011-92b0-10683856fb96 - 204 null null 0.6225ms
2025-08-10 13:07:23.434 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.7867ms
2025-08-10 13:07:23.435 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 13:07:23.436 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:23.436 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:07:23.436 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 13:07:23.441 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=621607bb-265c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:07:23.441 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-08-10 13:07:23.441 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:23.441 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:23.442 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:07:23.442 +03:00 [INF] HTTP GET /api/Users responded 404 in 0.2587 ms
2025-08-10 13:07:23.442 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:07:23.442 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 1.0232ms
2025-08-10 13:07:23.442 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-08-10 13:07:23.446 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 13:07:23.446 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:07:23.447 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 9.9681ms
2025-08-10 13:07:23.447 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:07:23.447 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 10.7410 ms
2025-08-10 13:07:23.447 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 11.3817ms
2025-08-10 13:07:23.452 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:07:23.477 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:07:23.477 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:07:23.477 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 35.4084ms
2025-08-10 13:07:23.477 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:07:23.477 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 36.0586 ms
2025-08-10 13:07:23.478 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=621607bb-265c-f011-92b0-10683856fb96 - 499 null application/json; charset=utf-8 36.6907ms
2025-08-10 13:07:27.488 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=621607bb-265c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:07:27.488 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.489 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:07:27.489 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:07:27.491 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:07:27.493 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:07:27.493 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:07:27.493 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 4.0039ms
2025-08-10 13:07:27.493 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:07:27.493 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 4.4380 ms
2025-08-10 13:07:27.493 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:07:27.493 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=621607bb-265c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 5.0102ms
2025-08-10 13:07:27.493 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.493 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2672ms
2025-08-10 13:07:27.505 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:07:27.506 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.506 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:07:27.506 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:07:27.506 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5929 ms
2025-08-10 13:07:27.506 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8305ms
2025-08-10 13:07:27.532 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=QPjhC46xxmeIUrLOKv2bvw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2MjE2MDdiYi0yNjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibW0iLCJXb3Jrc3BhY2VJZCI6Ijk4OGNkOTIwLTIyNWMtZjAxMS05MmIwLTEwNjgzODU2ZmI5NiIsImV4cCI6MTc1NDgyNDA0MywiaXNzIjoiQW1hbmFoQ2hhdCIsImF1ZCI6IkFtYW5haENoYXRBbmd1bGFyIn0.t2FZVuH4kBpYeb0mWFrGX-yhssAdSz3FZgmhAuuJFZk - null null
2025-08-10 13:07:27.532 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.532 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:07:27.532 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:07:27.532 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1972 ms
2025-08-10 13:07:27.532 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=QPjhC46xxmeIUrLOKv2bvw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2MjE2MDdiYi0yNjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibW0iLCJXb3Jrc3BhY2VJZCI6Ijk4OGNkOTIwLTIyNWMtZjAxMS05MmIwLTEwNjgzODU2ZmI5NiIsImV4cCI6MTc1NDgyNDA0MywiaXNzIjoiQW1hbmFoQ2hhdCIsImF1ZCI6IkFtYW5haENoYXRBbmd1bGFyIn0.t2FZVuH4kBpYeb0mWFrGX-yhssAdSz3FZgmhAuuJFZk - 401 0 null 0.5137ms
2025-08-10 13:07:27.532 +03:00 [INF] Connection id "0HNEN4JCDLMS7", Request id "0HNEN4JCDLMS7:00000003": the application completed without reading the entire request body.
2025-08-10 13:07:27.539 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:07:27.539 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.539 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2642ms
2025-08-10 13:07:27.542 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:07:27.543 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.543 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:07:27.543 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:07:27.543 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.6447 ms
2025-08-10 13:07:27.543 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.1379ms
2025-08-10 13:07:27.550 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=KMSFX0R1SItZ48KIkCJFmA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2MjE2MDdiYi0yNjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibW0iLCJXb3Jrc3BhY2VJZCI6Ijk4OGNkOTIwLTIyNWMtZjAxMS05MmIwLTEwNjgzODU2ZmI5NiIsImV4cCI6MTc1NDgyNDA0MywiaXNzIjoiQW1hbmFoQ2hhdCIsImF1ZCI6IkFtYW5haENoYXRBbmd1bGFyIn0.t2FZVuH4kBpYeb0mWFrGX-yhssAdSz3FZgmhAuuJFZk - null null
2025-08-10 13:07:27.551 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.551 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:07:27.551 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:07:27.551 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1741 ms
2025-08-10 13:07:27.551 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=KMSFX0R1SItZ48KIkCJFmA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2MjE2MDdiYi0yNjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibW0iLCJXb3Jrc3BhY2VJZCI6Ijk4OGNkOTIwLTIyNWMtZjAxMS05MmIwLTEwNjgzODU2ZmI5NiIsImV4cCI6MTc1NDgyNDA0MywiaXNzIjoiQW1hbmFoQ2hhdCIsImF1ZCI6IkFtYW5haENoYXRBbmd1bGFyIn0.t2FZVuH4kBpYeb0mWFrGX-yhssAdSz3FZgmhAuuJFZk - 401 0 null 0.5417ms
2025-08-10 13:07:27.557 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:07:27.557 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.557 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1998ms
2025-08-10 13:07:27.559 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:07:27.559 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.560 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:07:27.560 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:07:27.560 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3974 ms
2025-08-10 13:07:27.560 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6635ms
2025-08-10 13:07:27.567 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820447565 - null null
2025-08-10 13:07:27.567 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.567 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820447565 - 204 null null 0.3006ms
2025-08-10 13:07:27.569 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820447565 - null null
2025-08-10 13:07:27.569 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.570 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:27.570 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:27.570 +03:00 [INF] HTTP GET /chathub responded 200 in 0.6328 ms
2025-08-10 13:07:27.570 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820447565 - 200 0 application/octet-stream 0.9904ms
2025-08-10 13:07:27.575 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820447573 - null null
2025-08-10 13:07:27.575 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.575 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - null null
2025-08-10 13:07:27.576 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820447573 - 204 null null 0.25ms
2025-08-10 13:07:27.576 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.576 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - 204 null null 0.3052ms
2025-08-10 13:07:27.578 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820447573 - null null
2025-08-10 13:07:27.578 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.578 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - text/plain;charset=UTF-8 32
2025-08-10 13:07:27.578 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.578 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:27.578 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:27.578 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:27.578 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2698 ms
2025-08-10 13:07:27.578 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - 200 0 text/plain 0.6702ms
2025-08-10 13:07:27.578 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:27.578 +03:00 [INF] HTTP GET /chathub responded 200 in 0.5822 ms
2025-08-10 13:07:27.578 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820447573 - 200 3 application/octet-stream 0.8454ms
2025-08-10 13:07:27.586 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820447584 - null null
2025-08-10 13:07:27.587 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.587 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820447584 - 204 null null 0.3542ms
2025-08-10 13:07:27.589 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820447584 - null null
2025-08-10 13:07:27.589 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:27.590 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:29.276 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - null null
2025-08-10 13:07:29.276 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:29.276 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 204 null null 0.3406ms
2025-08-10 13:07:29.277 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - null null
2025-08-10 13:07:29.277 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:29.277 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - 204 null null 0.2852ms
2025-08-10 13:07:29.280 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - application/json null
2025-08-10 13:07:29.280 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - text/plain;charset=UTF-8 103
2025-08-10 13:07:29.280 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:29.281 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:29.281 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:29.281 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:07:29.281 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:07:29.284 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:29.285 +03:00 [INF] HTTP POST /chathub responded 200 in 4.0088 ms
2025-08-10 13:07:29.285 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - 200 0 text/plain 4.6221ms
2025-08-10 13:07:29.286 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:29.286 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:29.286 +03:00 [INF] HTTP GET /chathub responded 200 in 1696.7120 ms
2025-08-10 13:07:29.286 +03:00 [INF] HTTP GET /chathub responded 200 in 23230.9291 ms
2025-08-10 13:07:29.286 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820447584 - 200 44 application/octet-stream 1697.0474ms
2025-08-10 13:07:29.286 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820426046 - 200 97 application/octet-stream 23231.7345ms
2025-08-10 13:07:29.288 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:07:29.288 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:29.288 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2114ms
2025-08-10 13:07:29.289 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:07:29.292 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:07:29.292 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:29.292 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:07:29.292 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:07:29.299 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:07:29.309 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820449294 - null null
2025-08-10 13:07:29.309 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:29.309 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820449294 - 204 null null 0.3688ms
2025-08-10 13:07:29.310 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:07:29.311 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:07:29.311 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 18.8259ms
2025-08-10 13:07:29.311 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:07:29.311 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 19.3227 ms
2025-08-10 13:07:29.311 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 19.8404ms
2025-08-10 13:07:29.316 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820449294 - null null
2025-08-10 13:07:29.316 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:29.317 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820449311 - null null
2025-08-10 13:07:29.317 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:29.317 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820449311 - 204 null null 0.2698ms
2025-08-10 13:07:29.317 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:29.321 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820449311 - null null
2025-08-10 13:07:29.322 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:29.322 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:29.382 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 13:07:29.382 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:07:29.383 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 101.4028ms
2025-08-10 13:07:29.383 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:07:29.383 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed responded 200 in 101.8776 ms
2025-08-10 13:07:29.383 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/6c747e94-ba54-486b-9ad0-e99623dae4ed?page=1&pageSize=50 - 200 null application/json; charset=utf-8 102.885ms
2025-08-10 13:07:45.526 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - null null
2025-08-10 13:07:45.527 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:45.527 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - 204 null null 0.3079ms
2025-08-10 13:07:45.529 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - text/plain;charset=UTF-8 125
2025-08-10 13:07:45.529 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:45.529 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:45.529 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:45.529 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3480 ms
2025-08-10 13:07:45.529 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - 200 0 text/plain 0.5794ms
2025-08-10 13:07:45.530 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:45.530 +03:00 [INF] HTTP GET /chathub responded 200 in 16208.0084 ms
2025-08-10 13:07:45.530 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820449311 - 200 91 application/octet-stream 16208.4465ms
2025-08-10 13:07:45.530 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:45.530 +03:00 [INF] HTTP GET /chathub responded 200 in 16213.6217 ms
2025-08-10 13:07:45.530 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820449294 - 200 44 application/octet-stream 16214.1314ms
2025-08-10 13:07:45.539 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820465536 - null null
2025-08-10 13:07:45.539 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:45.539 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820465536 - 204 null null 0.2302ms
2025-08-10 13:07:45.541 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820465536 - null null
2025-08-10 13:07:45.542 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:45.542 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:45.547 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820465545 - null null
2025-08-10 13:07:45.547 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:45.547 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820465545 - 204 null null 0.2584ms
2025-08-10 13:07:45.550 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820465545 - null null
2025-08-10 13:07:45.550 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:45.550 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:48.699 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - null null
2025-08-10 13:07:48.699 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:48.699 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - 204 null null 0.258ms
2025-08-10 13:07:48.708 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Messages/Send - application/json 127
2025-08-10 13:07:48.708 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:48.708 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 13:07:48.708 +03:00 [INF] Route matched with {action = "SendMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMessageAsync(Application.Commands.Messages.SendMessage.SendMessageRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:07:48.718 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_RoomMemberId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Id] = @__request_RoomMemberId_0
2025-08-10 13:07:48.732 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 13:07:48.764 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p16='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Guid), @p18='?' (DbType = Guid), @p17='?' (DbType = DateTimeOffset), @p20='?' (DbType = Guid), @p19='?' (DbType = DateTimeOffset), @p22='?' (DbType = Guid), @p21='?' (DbType = DateTimeOffset), @p24='?' (DbType = Guid), @p23='?' (DbType = DateTimeOffset), @p26='?' (DbType = Guid), @p25='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ChatMessages] ([Id], [ActionBy], [FilePath], [IsDeleted], [IsRead], [LastActionDate], [Message], [Metadata], [RoomMemberId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [ChatRooms] SET [ActionBy] = @p9, [Description] = @p10, [IsDeleted] = @p11, [LastActionDate] = @p12, [Metadata] = @p13, [Title] = @p14, [WorkspaceId] = @p15
OUTPUT 1
WHERE [Id] = @p16;
UPDATE [RoomMembers] SET [LastActionDate] = @p17
OUTPUT 1
WHERE [Id] = @p18;
UPDATE [RoomMembers] SET [LastActionDate] = @p19
OUTPUT 1
WHERE [Id] = @p20;
UPDATE [RoomMembers] SET [LastActionDate] = @p21
OUTPUT 1
WHERE [Id] = @p22;
UPDATE [RoomMembers] SET [LastActionDate] = @p23
OUTPUT 1
WHERE [Id] = @p24;
UPDATE [Users] SET [LastActionDate] = @p25
OUTPUT 1
WHERE [Id] = @p26;
2025-08-10 13:07:48.767 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:48.767 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:07:48.767 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:48.767 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI) in 59.1838ms
2025-08-10 13:07:48.767 +03:00 [INF] HTTP GET /chathub responded 200 in 3225.5578 ms
2025-08-10 13:07:48.767 +03:00 [INF] HTTP GET /chathub responded 200 in 3217.5413 ms
2025-08-10 13:07:48.768 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 13:07:48.768 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820465545 - 200 322 application/octet-stream 3218.1058ms
2025-08-10 13:07:48.768 +03:00 [INF] HTTP POST /api/Messages/Send responded 200 in 59.9607 ms
2025-08-10 13:07:48.768 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820465536 - 200 322 application/octet-stream 3226.2783ms
2025-08-10 13:07:48.768 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Messages/Send - 200 null application/json; charset=utf-8 60.3388ms
2025-08-10 13:07:48.779 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820468774 - null null
2025-08-10 13:07:48.779 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:48.779 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820468774 - 204 null null 0.4922ms
2025-08-10 13:07:48.784 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820468777 - null null
2025-08-10 13:07:48.785 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:48.785 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820468777 - 204 null null 0.3311ms
2025-08-10 13:07:48.787 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820468774 - null null
2025-08-10 13:07:48.788 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:48.789 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:48.791 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820468777 - null null
2025-08-10 13:07:48.791 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:48.792 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:49.103 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - null null
2025-08-10 13:07:49.103 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:49.103 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - 204 null null 0.2139ms
2025-08-10 13:07:49.105 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - text/plain;charset=UTF-8 126
2025-08-10 13:07:49.106 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:49.106 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:49.106 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:49.106 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3143 ms
2025-08-10 13:07:49.106 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - 200 0 text/plain 0.5632ms
2025-08-10 13:07:49.106 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:49.106 +03:00 [INF] HTTP GET /chathub responded 200 in 317.7597 ms
2025-08-10 13:07:49.107 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820468774 - 200 92 application/octet-stream 319.6074ms
2025-08-10 13:07:49.107 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:49.107 +03:00 [INF] HTTP GET /chathub responded 200 in 315.2796 ms
2025-08-10 13:07:49.107 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820468777 - 200 44 application/octet-stream 315.7632ms
2025-08-10 13:07:49.118 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820469115 - null null
2025-08-10 13:07:49.118 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:49.118 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820469115 - 204 null null 0.2164ms
2025-08-10 13:07:49.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820469115 - null null
2025-08-10 13:07:49.120 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:49.121 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:49.122 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820469120 - null null
2025-08-10 13:07:49.122 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:49.122 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820469120 - 204 null null 0.1634ms
2025-08-10 13:07:49.125 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820469120 - null null
2025-08-10 13:07:49.125 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:49.126 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:51.613 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - null null
2025-08-10 13:07:51.613 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:51.613 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - 204 null null 0.1748ms
2025-08-10 13:07:51.619 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - text/plain;charset=UTF-8 124
2025-08-10 13:07:51.619 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:51.619 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:51.620 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:51.620 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3703 ms
2025-08-10 13:07:51.620 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - 200 0 text/plain 0.7139ms
2025-08-10 13:07:51.620 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:51.620 +03:00 [INF] HTTP GET /chathub responded 200 in 2494.6117 ms
2025-08-10 13:07:51.620 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820469120 - 200 90 application/octet-stream 2494.8484ms
2025-08-10 13:07:51.621 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:51.621 +03:00 [INF] HTTP GET /chathub responded 200 in 2500.1703 ms
2025-08-10 13:07:51.621 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820469115 - 200 44 application/octet-stream 2500.4911ms
2025-08-10 13:07:51.635 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820471631 - null null
2025-08-10 13:07:51.635 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:51.635 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820471631 - 204 null null 0.2284ms
2025-08-10 13:07:51.639 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820471631 - null null
2025-08-10 13:07:51.640 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:51.640 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:51.640 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820471629 - null null
2025-08-10 13:07:51.640 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:51.640 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820471629 - 204 null null 0.0869ms
2025-08-10 13:07:51.650 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820471629 - null null
2025-08-10 13:07:51.650 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:51.650 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:53.663 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - null null
2025-08-10 13:07:53.664 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:53.664 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/Send - 204 null null 0.2447ms
2025-08-10 13:07:53.666 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Messages/Send - application/json 126
2025-08-10 13:07:53.666 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:53.666 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 13:07:53.666 +03:00 [INF] Route matched with {action = "SendMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendMessageAsync(Application.Commands.Messages.SendMessage.SendMessageRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:07:53.680 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_RoomMemberId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Id] = @__request_RoomMemberId_0
2025-08-10 13:07:53.692 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 13:07:53.724 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p16='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Guid), @p18='?' (DbType = Guid), @p17='?' (DbType = DateTimeOffset), @p20='?' (DbType = Guid), @p19='?' (DbType = DateTimeOffset), @p22='?' (DbType = Guid), @p21='?' (DbType = DateTimeOffset), @p24='?' (DbType = Guid), @p23='?' (DbType = DateTimeOffset), @p26='?' (DbType = Guid), @p25='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ChatMessages] ([Id], [ActionBy], [FilePath], [IsDeleted], [IsRead], [LastActionDate], [Message], [Metadata], [RoomMemberId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [ChatRooms] SET [ActionBy] = @p9, [Description] = @p10, [IsDeleted] = @p11, [LastActionDate] = @p12, [Metadata] = @p13, [Title] = @p14, [WorkspaceId] = @p15
OUTPUT 1
WHERE [Id] = @p16;
UPDATE [RoomMembers] SET [LastActionDate] = @p17
OUTPUT 1
WHERE [Id] = @p18;
UPDATE [RoomMembers] SET [LastActionDate] = @p19
OUTPUT 1
WHERE [Id] = @p20;
UPDATE [RoomMembers] SET [LastActionDate] = @p21
OUTPUT 1
WHERE [Id] = @p22;
UPDATE [RoomMembers] SET [LastActionDate] = @p23
OUTPUT 1
WHERE [Id] = @p24;
UPDATE [Users] SET [LastActionDate] = @p25
OUTPUT 1
WHERE [Id] = @p26;
2025-08-10 13:07:53.726 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:07:53.726 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:53.727 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI) in 60.2049ms
2025-08-10 13:07:53.727 +03:00 [INF] HTTP GET /chathub responded 200 in 2076.5441 ms
2025-08-10 13:07:53.727 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.SendMessageAsync (ChatSystem.UI)'
2025-08-10 13:07:53.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820471629 - 200 316 application/octet-stream 2076.9512ms
2025-08-10 13:07:53.726 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:53.727 +03:00 [INF] HTTP POST /api/Messages/Send responded 200 in 60.8100 ms
2025-08-10 13:07:53.727 +03:00 [INF] HTTP GET /chathub responded 200 in 2087.4556 ms
2025-08-10 13:07:53.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820471631 - 200 316 application/octet-stream 2087.8907ms
2025-08-10 13:07:53.727 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Messages/Send - 200 null application/json; charset=utf-8 61.418ms
2025-08-10 13:07:53.748 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820473743 - null null
2025-08-10 13:07:53.749 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:53.749 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820473743 - 204 null null 0.4228ms
2025-08-10 13:07:53.756 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820473743 - null null
2025-08-10 13:07:53.756 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:53.757 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:53.784 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820473779 - null null
2025-08-10 13:07:53.784 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:53.784 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820473779 - 204 null null 0.4459ms
2025-08-10 13:07:53.790 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820473779 - null null
2025-08-10 13:07:53.790 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:53.791 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:54.058 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - null null
2025-08-10 13:07:54.058 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:54.058 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - 204 null null 0.2924ms
2025-08-10 13:07:54.063 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - text/plain;charset=UTF-8 125
2025-08-10 13:07:54.063 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:54.064 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:54.064 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:54.064 +03:00 [INF] HTTP POST /chathub responded 200 in 0.7556 ms
2025-08-10 13:07:54.064 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA - 200 0 text/plain 1.5894ms
2025-08-10 13:07:54.066 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:54.066 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:07:54.066 +03:00 [INF] HTTP GET /chathub responded 200 in 275.7028 ms
2025-08-10 13:07:54.066 +03:00 [INF] HTTP GET /chathub responded 200 in 309.2578 ms
2025-08-10 13:07:54.066 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820473779 - 200 44 application/octet-stream 276.2357ms
2025-08-10 13:07:54.066 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820473743 - 200 91 application/octet-stream 310.1645ms
2025-08-10 13:07:54.084 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820474078 - null null
2025-08-10 13:07:54.084 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:54.085 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820474078 - 204 null null 0.4401ms
2025-08-10 13:07:54.090 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820474078 - null null
2025-08-10 13:07:54.090 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:54.091 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:54.093 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820474088 - null null
2025-08-10 13:07:54.093 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:54.093 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820474088 - 204 null null 0.4084ms
2025-08-10 13:07:54.099 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820474088 - null null
2025-08-10 13:07:54.099 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:54.100 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:07:55.104 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=6c747e94-ba54-486b-9ad0-e99623dae4ed&pageNumber=1&pageSize=50 - null null
2025-08-10 13:07:55.104 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:55.104 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=6c747e94-ba54-486b-9ad0-e99623dae4ed&pageNumber=1&pageSize=50 - 204 null null 0.4317ms
2025-08-10 13:07:55.107 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=6c747e94-ba54-486b-9ad0-e99623dae4ed&pageNumber=1&pageSize=50 - application/json null
2025-08-10 13:07:55.107 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:07:55.107 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 13:07:55.107 +03:00 [INF] Route matched with {action = "GetUsersByChatRoom", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByChatRoom(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:07:55.114 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:07:55.124 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[ChatRoomId] = @__request_ChatRoomId_0
2025-08-10 13:07:55.125 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:07:55.125 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI) in 17.4522ms
2025-08-10 13:07:55.125 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 13:07:55.125 +03:00 [INF] HTTP GET /api/Users/GetUsersByChatRoom responded 200 in 17.9000 ms
2025-08-10 13:07:55.125 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=6c747e94-ba54-486b-9ad0-e99623dae4ed&pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 18.3754ms
2025-08-10 13:08:01.397 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/Members - null null
2025-08-10 13:08:01.397 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:01.398 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/Members - 204 null null 0.8358ms
2025-08-10 13:08:01.401 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/ChatRooms/Members - application/json 137
2025-08-10 13:08:01.401 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:01.402 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI)'
2025-08-10 13:08:01.402 +03:00 [INF] Route matched with {action = "AddMember", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMemberAsync(Application.Commands.ChatRooms.AddRoomMember.AddRoomMembersRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:08:01.414 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__8__locals1_request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__8__locals1_request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:08:01.429 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] uniqueidentifier '$') AS [u0]
)
2025-08-10 13:08:01.446 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__8__locals1_request_ChatRoomId_0='?' (DbType = Guid), @__userIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[UserId]
FROM [RoomMembers] AS [r]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[ChatRoomId] = @__8__locals1_request_ChatRoomId_0 AND [r].[UserId] IN (
    SELECT [u].[value]
    FROM OPENJSON(@__userIds_1) WITH ([value] uniqueidentifier '$') AS [u]
)
2025-08-10 13:08:01.450 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:08:01.450 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI) in 47.8922ms
2025-08-10 13:08:01.450 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI)'
2025-08-10 13:08:01.450 +03:00 [INF] HTTP POST /api/ChatRooms/Members responded 400 in 49.0738 ms
2025-08-10 13:08:01.451 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/ChatRooms/Members - 400 null application/json; charset=utf-8 49.5543ms
2025-08-10 13:08:03.103 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/RemoveMembers - null null
2025-08-10 13:08:03.103 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:03.103 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/RemoveMembers - 204 null null 0.2839ms
2025-08-10 13:08:03.106 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7003/api/ChatRooms/RemoveMembers - application/json 101
2025-08-10 13:08:03.106 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:03.106 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI)'
2025-08-10 13:08:03.113 +03:00 [INF] Route matched with {action = "AddMember", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMemberAsync(Application.Commands.ChatRooms.RemoveRoomMember.RemoveRoomMemberRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:08:03.134 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:08:03.145 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:08:03.163 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid), @__request_UserId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
FROM [RoomMembers] AS [r]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[ChatRoomId] = @__request_ChatRoomId_0 AND [r].[UserId] = @__request_UserId_1
2025-08-10 13:08:03.176 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RoomMembers] SET [IsDeleted] = @p0, [LastActionDate] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-10 13:08:03.177 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:08:03.177 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI) in 63.959ms
2025-08-10 13:08:03.177 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI)'
2025-08-10 13:08:03.177 +03:00 [INF] HTTP DELETE /api/ChatRooms/RemoveMembers responded 200 in 71.2041 ms
2025-08-10 13:08:03.177 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7003/api/ChatRooms/RemoveMembers - 200 null application/json; charset=utf-8 71.5337ms
2025-08-10 13:08:07.611 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:08:07.611 +03:00 [INF] HTTP GET /chathub responded 200 in 13511.7786 ms
2025-08-10 13:08:07.612 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8rULrNp069VMmKmGkegICA&_=1754820474088 - 499 null null 13512.5898ms
2025-08-10 13:08:20.723 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/RemoveMembers - null null
2025-08-10 13:08:20.723 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:20.724 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/RemoveMembers - 204 null null 0.245ms
2025-08-10 13:08:20.728 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7003/api/ChatRooms/RemoveMembers - application/json 101
2025-08-10 13:08:20.728 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:20.728 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI)'
2025-08-10 13:08:20.729 +03:00 [INF] Route matched with {action = "AddMember", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMemberAsync(Application.Commands.ChatRooms.RemoveRoomMember.RemoveRoomMemberRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:08:20.737 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:08:20.741 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:08:20.750 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid), @__request_UserId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
FROM [RoomMembers] AS [r]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[ChatRoomId] = @__request_ChatRoomId_0 AND [r].[UserId] = @__request_UserId_1
2025-08-10 13:08:20.759 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RoomMembers] SET [IsDeleted] = @p0, [LastActionDate] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-10 13:08:20.759 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:08:20.759 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI) in 30.7502ms
2025-08-10 13:08:20.759 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI)'
2025-08-10 13:08:20.760 +03:00 [INF] HTTP DELETE /api/ChatRooms/RemoveMembers responded 200 in 31.3091 ms
2025-08-10 13:08:20.760 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7003/api/ChatRooms/RemoveMembers - 200 null application/json; charset=utf-8 31.8211ms
2025-08-10 13:08:20.768 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:08:20.768 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:20.768 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2635ms
2025-08-10 13:08:20.772 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:08:20.772 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:20.772 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:08:20.773 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:08:20.783 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:08:20.804 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:08:20.805 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:08:20.805 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 32.0856ms
2025-08-10 13:08:20.805 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:08:20.805 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 32.5573 ms
2025-08-10 13:08:20.805 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 32.9175ms
2025-08-10 13:08:21.431 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 13:08:21.432 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:21.432 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - null null
2025-08-10 13:08:21.432 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2108ms
2025-08-10 13:08:21.432 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:21.432 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - 204 null null 0.2461ms
2025-08-10 13:08:21.435 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - text/plain;charset=UTF-8 103
2025-08-10 13:08:21.435 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:21.436 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:08:21.436 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:08:21.436 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4173 ms
2025-08-10 13:08:21.436 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg - 200 0 text/plain 0.6667ms
2025-08-10 13:08:21.436 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 13:08:21.436 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:08:21.436 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:21.436 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:21.436 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.256ms
2025-08-10 13:08:21.437 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:08:21.437 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:08:21.437 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:08:21.437 +03:00 [INF] HTTP GET /chathub responded 200 in 27347.0477 ms
2025-08-10 13:08:21.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820474078 - 200 44 application/octet-stream 27347.5709ms
2025-08-10 13:08:21.442 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:08:21.442 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:21.443 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:08:21.443 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:08:21.445 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:08:21.449 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820501445 - null null
2025-08-10 13:08:21.449 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:21.449 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820501445 - 204 null null 0.3945ms
2025-08-10 13:08:21.451 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:08:21.453 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820501445 - null null
2025-08-10 13:08:21.453 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:21.453 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:08:21.454 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:08:21.454 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:08:21.455 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 11.8236ms
2025-08-10 13:08:21.455 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:08:21.455 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 12.2634 ms
2025-08-10 13:08:21.455 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 12.7791ms
2025-08-10 13:08:21.512 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 13:08:21.512 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:08:21.512 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 75.6735ms
2025-08-10 13:08:21.512 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:08:21.512 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 76.0902 ms
2025-08-10 13:08:21.513 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 76.4556ms
2025-08-10 13:08:24.212 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - null null
2025-08-10 13:08:24.212 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:24.212 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - 204 null null 0.2368ms
2025-08-10 13:08:24.216 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - application/json null
2025-08-10 13:08:24.216 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:24.217 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 13:08:24.217 +03:00 [INF] Route matched with {action = "GetUsersByChatRoom", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByChatRoom(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:08:24.223 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:08:24.231 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[ChatRoomId] = @__request_ChatRoomId_0
2025-08-10 13:08:24.231 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:08:24.231 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI) in 14.3578ms
2025-08-10 13:08:24.231 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 13:08:24.231 +03:00 [INF] HTTP GET /api/Users/GetUsersByChatRoom responded 200 in 14.9278 ms
2025-08-10 13:08:24.231 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 15.3617ms
2025-08-10 13:08:29.574 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/Delete?ChatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d - null null
2025-08-10 13:08:29.574 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:29.574 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/Delete?ChatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d - 204 null null 0.3544ms
2025-08-10 13:08:29.582 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7003/api/ChatRooms/Delete?ChatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d - application/json null
2025-08-10 13:08:29.583 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:08:29.584 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.DeleteChatRoom (ChatSystem.UI)'
2025-08-10 13:08:29.598 +03:00 [INF] Route matched with {action = "DeleteChatRoom", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteChatRoom(Application.Commands.ChatRooms.DeleteChatRoom.DeleteChatRoomRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:08:29.655 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 13:08:29.657 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:08:29.658 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.DeleteChatRoom (ChatSystem.UI) in 59.6157ms
2025-08-10 13:08:29.658 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.DeleteChatRoom (ChatSystem.UI)'
2025-08-10 13:08:29.658 +03:00 [INF] HTTP DELETE /api/ChatRooms/Delete responded 200 in 75.1670 ms
2025-08-10 13:08:29.658 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7003/api/ChatRooms/Delete?ChatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d - 200 null application/json; charset=utf-8 75.6561ms
2025-08-10 13:09:51.463 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:09:51.464 +03:00 [INF] HTTP GET /chathub responded 200 in 90010.5163 ms
2025-08-10 13:09:51.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820501445 - 200 0 text/plain 90010.8504ms
2025-08-10 13:09:51.496 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820591470 - null null
2025-08-10 13:09:51.496 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:09:51.496 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820591470 - 204 null null 0.464ms
2025-08-10 13:09:51.501 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820591470 - null null
2025-08-10 13:09:51.501 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:09:51.502 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:11:21.512 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:11:21.512 +03:00 [INF] HTTP GET /chathub responded 200 in 90010.7903 ms
2025-08-10 13:11:21.512 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820591470 - 200 0 text/plain 90011.2082ms
2025-08-10 13:11:21.522 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820681518 - null null
2025-08-10 13:11:21.522 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:11:21.522 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820681518 - 204 null null 0.2753ms
2025-08-10 13:11:21.525 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820681518 - null null
2025-08-10 13:11:21.525 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:11:21.525 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:12:48.843 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/Delete - null null
2025-08-10 13:12:48.843 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:12:48.843 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/Delete - 204 null null 0.3004ms
2025-08-10 13:12:48.848 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7003/api/Messages/Delete - application/json 158
2025-08-10 13:12:48.848 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:12:48.848 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.DeleteMessageAsync (ChatSystem.UI)'
2025-08-10 13:12:48.848 +03:00 [INF] Route matched with {action = "DeleteMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteMessageAsync(Application.Commands.Messages.DeleteMessage.DeleteMessageRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:12:48.869 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_RoomMemberId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Id] = @__request_RoomMemberId_0
2025-08-10 13:12:48.884 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 13:12:48.895 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_MessageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[FilePath], [c].[IsDeleted], [c].[IsRead], [c].[LastActionDate], [c].[Message], [c].[Metadata], [c].[RoomMemberId]
FROM [ChatMessages] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_MessageId_0
2025-08-10 13:12:48.921 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTimeOffset), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p10='?' (DbType = Guid), @p9='?' (DbType = DateTimeOffset), @p12='?' (DbType = Guid), @p11='?' (DbType = DateTimeOffset), @p14='?' (DbType = Guid), @p13='?' (DbType = DateTimeOffset), @p16='?' (DbType = Guid), @p15='?' (DbType = DateTimeOffset), @p18='?' (DbType = Guid), @p17='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [ChatMessages] SET [ActionBy] = @p0, [FilePath] = @p1, [IsDeleted] = @p2, [IsRead] = @p3, [LastActionDate] = @p4, [Message] = @p5, [Metadata] = @p6, [RoomMemberId] = @p7
OUTPUT 1
WHERE [Id] = @p8;
UPDATE [ChatRooms] SET [LastActionDate] = @p9
OUTPUT 1
WHERE [Id] = @p10;
UPDATE [RoomMembers] SET [LastActionDate] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [RoomMembers] SET [LastActionDate] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [RoomMembers] SET [LastActionDate] = @p15
OUTPUT 1
WHERE [Id] = @p16;
UPDATE [Users] SET [LastActionDate] = @p17
OUTPUT 1
WHERE [Id] = @p18;
2025-08-10 13:12:48.926 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:12:48.926 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.DeleteMessageAsync (ChatSystem.UI) in 77.2203ms
2025-08-10 13:12:48.926 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.DeleteMessageAsync (ChatSystem.UI)'
2025-08-10 13:12:48.926 +03:00 [INF] HTTP DELETE /api/Messages/Delete responded 200 in 78.0747 ms
2025-08-10 13:12:48.926 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7003/api/Messages/Delete - 200 null application/json; charset=utf-8 78.6465ms
2025-08-10 13:12:51.540 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:12:51.540 +03:00 [INF] HTTP GET /chathub responded 200 in 90015.1635 ms
2025-08-10 13:12:51.540 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820681518 - 200 0 text/plain 90015.6003ms
2025-08-10 13:12:51.557 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820771554 - null null
2025-08-10 13:12:51.557 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:12:51.557 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820771554 - 204 null null 0.2578ms
2025-08-10 13:12:51.561 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820771554 - null null
2025-08-10 13:12:51.561 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:12:51.561 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:13:25.265 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:13:25.265 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:13:25.266 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2178ms
2025-08-10 13:13:25.320 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:13:25.320 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:13:25.320 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:13:25.320 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:13:25.333 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:13:25.341 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:13:25.341 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:13:25.342 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 21.0224ms
2025-08-10 13:13:25.342 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:13:25.342 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 21.5245 ms
2025-08-10 13:13:25.342 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 22.0298ms
2025-08-10 13:14:21.570 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:14:21.570 +03:00 [INF] HTTP GET /chathub responded 200 in 90008.5212 ms
2025-08-10 13:14:21.570 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820771554 - 200 0 text/plain 90009.0109ms
2025-08-10 13:14:21.580 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820861575 - null null
2025-08-10 13:14:21.580 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:14:21.580 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820861575 - 204 null null 0.4513ms
2025-08-10 13:14:21.585 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820861575 - null null
2025-08-10 13:14:21.585 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:14:21.586 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:15:51.593 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:15:51.593 +03:00 [INF] HTTP GET /chathub responded 200 in 90007.5463 ms
2025-08-10 13:15:51.593 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820861575 - 200 0 text/plain 90007.9944ms
2025-08-10 13:15:51.609 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820951600 - null null
2025-08-10 13:15:51.610 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:15:51.610 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820951600 - 204 null null 0.5495ms
2025-08-10 13:15:51.636 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820951600 - null null
2025-08-10 13:15:51.637 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:15:51.637 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:17:21.638 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:17:21.638 +03:00 [INF] HTTP GET /chathub responded 200 in 90001.1464 ms
2025-08-10 13:17:21.638 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754820951600 - 200 0 text/plain 90001.5866ms
2025-08-10 13:17:21.646 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821041641 - null null
2025-08-10 13:17:21.646 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:17:21.646 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821041641 - 204 null null 0.3023ms
2025-08-10 13:17:21.650 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821041641 - null null
2025-08-10 13:17:21.650 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:17:21.650 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:18:51.658 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:18:51.659 +03:00 [INF] HTTP GET /chathub responded 200 in 90008.6889 ms
2025-08-10 13:18:51.659 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821041641 - 200 0 text/plain 90009.0056ms
2025-08-10 13:18:51.667 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821131663 - null null
2025-08-10 13:18:51.667 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:18:51.667 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821131663 - 204 null null 0.2244ms
2025-08-10 13:18:51.670 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821131663 - null null
2025-08-10 13:18:51.670 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:18:51.671 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:20:21.684 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:20:21.684 +03:00 [INF] HTTP GET /chathub responded 200 in 90013.9162 ms
2025-08-10 13:20:21.684 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821131663 - 200 0 text/plain 90014.328ms
2025-08-10 13:20:21.694 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821221689 - null null
2025-08-10 13:20:21.694 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:20:21.694 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821221689 - 204 null null 0.2255ms
2025-08-10 13:20:21.723 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821221689 - null null
2025-08-10 13:20:21.724 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:20:21.724 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:21:51.725 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:21:51.726 +03:00 [INF] HTTP GET /chathub responded 200 in 90002.7234 ms
2025-08-10 13:21:51.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821221689 - 200 0 text/plain 90003.1094ms
2025-08-10 13:21:51.735 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821311730 - null null
2025-08-10 13:21:51.735 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:21:51.735 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821311730 - 204 null null 0.3684ms
2025-08-10 13:21:51.738 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821311730 - null null
2025-08-10 13:21:51.738 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:21:51.738 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:22:27.913 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 13:22:27.913 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:22:27.913 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.3025ms
2025-08-10 13:22:27.943 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 13:22:27.943 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:22:27.944 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:22:27.944 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 13:22:27.952 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 13:22:27.953 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:22:27.954 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 9.9306ms
2025-08-10 13:22:27.954 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:22:27.954 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 10.2646 ms
2025-08-10 13:22:27.954 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 10.5561ms
2025-08-10 13:22:49.210 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 13:22:49.210 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:22:49.210 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.4125ms
2025-08-10 13:22:49.241 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 13:22:49.241 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:22:49.241 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:22:49.241 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 13:22:49.244 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 13:22:49.244 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:22:49.244 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 2.7485ms
2025-08-10 13:22:49.244 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:22:49.244 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 3.1654 ms
2025-08-10 13:22:49.244 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 3.5165ms
2025-08-10 13:22:52.475 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:22:52.476 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:22:52.476 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.4783ms
2025-08-10 13:22:52.490 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:22:52.490 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:22:52.490 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2317ms
2025-08-10 13:22:52.519 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:22:52.519 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:22:52.520 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:22:52.520 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:22:52.522 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:22:52.522 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:22:52.522 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:22:52.523 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:22:52.534 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:22:52.537 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:22:52.541 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:22:52.542 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:22:52.542 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 19.4022ms
2025-08-10 13:22:52.542 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:22:52.542 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 19.9006 ms
2025-08-10 13:22:52.542 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 20.3482ms
2025-08-10 13:22:52.558 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:22:52.559 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:22:52.559 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 38.6996ms
2025-08-10 13:22:52.559 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:22:52.559 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 39.2907 ms
2025-08-10 13:22:52.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 39.6099ms
2025-08-10 13:22:54.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:22:54.608 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:22:54.608 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:22:54.609 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:22:54.613 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:22:54.614 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:22:54.615 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:22:54.615 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 6.0299ms
2025-08-10 13:22:54.615 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:22:54.615 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 6.8649 ms
2025-08-10 13:22:54.615 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 7.577ms
2025-08-10 13:23:12.245 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/Add - null null
2025-08-10 13:23:12.245 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:23:12.245 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/Add - 204 null null 0.3035ms
2025-08-10 13:23:12.250 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/ChatRooms/Add - application/json 353
2025-08-10 13:23:12.251 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:23:12.252 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.AddAsync (ChatSystem.UI)'
2025-08-10 13:23:12.261 +03:00 [INF] Route matched with {action = "Add", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsync(Application.Commands.ChatRooms.AddChatRoom.AddChatRoomRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:23:12.320 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkspaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkspaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:23:12.375 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTimeOffset), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTimeOffset), @p14='?' (Size = 4000), @p15='?' (DbType = Guid), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (DbType = DateTimeOffset), @p22='?' (Size = 4000), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (DbType = Guid), @p26='?' (DbType = Guid), @p27='?' (DbType = Boolean), @p28='?' (DbType = Boolean), @p29='?' (DbType = DateTimeOffset), @p30='?' (Size = 4000), @p31='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ChatRooms] ([Id], [ActionBy], [Description], [IsDeleted], [LastActionDate], [Metadata], [Title], [WorkspaceId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INSERT INTO [RoomMembers] ([Id], [ActionBy], [ChatRoomId], [IsAdmin], [IsDeleted], [LastActionDate], [Metadata], [UserId])
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-08-10 13:23:12.377 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:23:12.377 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.AddAsync (ChatSystem.UI) in 115.2824ms
2025-08-10 13:23:12.377 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.AddAsync (ChatSystem.UI)'
2025-08-10 13:23:12.377 +03:00 [INF] HTTP POST /api/ChatRooms/Add responded 200 in 126.1306 ms
2025-08-10 13:23:12.377 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/ChatRooms/Add - 200 null application/json; charset=utf-8 126.7435ms
2025-08-10 13:23:12.431 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:23:12.431 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:23:12.431 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2087ms
2025-08-10 13:23:12.434 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:23:12.435 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:23:12.435 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2737ms
2025-08-10 13:23:12.440 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:23:12.440 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:23:12.440 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:23:12.440 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:23:12.440 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:23:12.440 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:23:12.441 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:23:12.441 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:23:12.449 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:23:12.454 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:23:12.461 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:23:12.462 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:23:12.462 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 21.2603ms
2025-08-10 13:23:12.462 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:23:12.462 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 21.9010 ms
2025-08-10 13:23:12.462 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 22.352ms
2025-08-10 13:23:12.485 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:23:12.485 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:23:12.485 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 44.7734ms
2025-08-10 13:23:12.485 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:23:12.486 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 45.3124 ms
2025-08-10 13:23:12.486 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 45.806ms
2025-08-10 13:23:21.745 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:23:21.745 +03:00 [INF] HTTP GET /chathub responded 200 in 90007.3492 ms
2025-08-10 13:23:21.745 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821311730 - 200 0 text/plain 90007.7757ms
2025-08-10 13:23:21.755 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821401750 - null null
2025-08-10 13:23:21.755 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:23:21.755 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821401750 - 204 null null 0.3241ms
2025-08-10 13:23:21.762 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821401750 - null null
2025-08-10 13:23:21.762 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:23:21.762 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:23:58.714 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:23:58.715 +03:00 [INF] HTTP GET /chathub responded 200 in 36952.5304 ms
2025-08-10 13:23:58.715 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qy4NeDwLifx2blqzqjXlsg&_=1754821401750 - 499 null null 36953.0047ms
2025-08-10 13:23:59.283 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 13:23:59.283 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:23:59.283 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.2396ms
2025-08-10 13:23:59.287 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 13:23:59.287 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:23:59.287 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:23:59.287 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 13:23:59.292 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 13:23:59.292 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:23:59.292 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 5.0964ms
2025-08-10 13:23:59.292 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:23:59.292 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 5.3779 ms
2025-08-10 13:23:59.292 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 5.6476ms
2025-08-10 13:24:13.616 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Add - null null
2025-08-10 13:24:13.617 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:13.617 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Add - 204 null null 0.612ms
2025-08-10 13:24:13.622 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Add - application/json 200
2025-08-10 13:24:13.622 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:13.622 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.AddAsync (ChatSystem.UI)'
2025-08-10 13:24:13.623 +03:00 [INF] Route matched with {action = "Add", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsync(Application.Commands.Users.AddUser.AddUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:24:13.641 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [ActionBy], [ConnectId], [Email], [FirstName], [IsAdmin], [IsDeleted], [LastActionDate], [LastName], [Metadata], [Password], [ProfileImageUrl], [Username], [WorkspaceId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-08-10 13:24:13.641 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:13.642 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.AddAsync (ChatSystem.UI) in 19.0303ms
2025-08-10 13:24:13.642 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.AddAsync (ChatSystem.UI)'
2025-08-10 13:24:13.642 +03:00 [INF] HTTP POST /api/Users/Add responded 200 in 19.8665 ms
2025-08-10 13:24:13.642 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Add - 200 null application/json; charset=utf-8 20.3087ms
2025-08-10 13:24:19.184 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:24:19.184 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.184 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2893ms
2025-08-10 13:24:19.195 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:24:19.195 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.195 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.255ms
2025-08-10 13:24:19.212 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:24:19.212 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.212 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:24:19.213 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:24:19.221 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:24:19.221 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.221 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:24:19.222 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:24:19.222 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.6067 ms
2025-08-10 13:24:19.222 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8749ms
2025-08-10 13:24:19.223 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:24:19.246 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:24:19.247 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:19.247 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 34.1701ms
2025-08-10 13:24:19.247 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:24:19.247 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 34.8185 ms
2025-08-10 13:24:19.247 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 35.2901ms
2025-08-10 13:24:19.261 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=tVRmEij18BBF1DVxhioejA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:24:19.261 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.262 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:24:19.262 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:24:19.262 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.2502 ms
2025-08-10 13:24:19.262 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=tVRmEij18BBF1DVxhioejA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.651ms
2025-08-10 13:24:19.262 +03:00 [INF] Connection id "0HNEN4JCDLMSB", Request id "0HNEN4JCDLMSB:00000021": the application completed without reading the entire request body.
2025-08-10 13:24:19.285 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:24:19.285 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.285 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2739ms
2025-08-10 13:24:19.289 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:24:19.290 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.290 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:24:19.290 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:24:19.290 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4758 ms
2025-08-10 13:24:19.290 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.048ms
2025-08-10 13:24:19.304 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=nPG3HpbiSZDdZ-2mpf1kCg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:24:19.304 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.304 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:24:19.304 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:24:19.304 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1614 ms
2025-08-10 13:24:19.304 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=nPG3HpbiSZDdZ-2mpf1kCg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.45ms
2025-08-10 13:24:19.316 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:24:19.317 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.317 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3314ms
2025-08-10 13:24:19.321 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:24:19.321 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.322 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:24:19.322 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:24:19.322 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4140 ms
2025-08-10 13:24:19.322 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7657ms
2025-08-10 13:24:19.334 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821459329 - null null
2025-08-10 13:24:19.335 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.335 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821459329 - 204 null null 0.1709ms
2025-08-10 13:24:19.337 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821459329 - null null
2025-08-10 13:24:19.337 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.337 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:19.337 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:19.337 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3205 ms
2025-08-10 13:24:19.337 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821459329 - 200 0 application/octet-stream 0.5412ms
2025-08-10 13:24:19.342 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821459340 - null null
2025-08-10 13:24:19.342 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.343 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821459340 - 204 null null 0.2495ms
2025-08-10 13:24:19.348 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA - null null
2025-08-10 13:24:19.348 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.348 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA - 204 null null 0.2726ms
2025-08-10 13:24:19.350 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821459340 - null null
2025-08-10 13:24:19.350 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.350 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:19.353 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA - text/plain;charset=UTF-8 32
2025-08-10 13:24:19.353 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.353 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:19.353 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:19.353 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3071 ms
2025-08-10 13:24:19.353 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA - 200 0 text/plain 0.6233ms
2025-08-10 13:24:19.353 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:19.353 +03:00 [INF] HTTP GET /chathub responded 200 in 3.7315 ms
2025-08-10 13:24:19.354 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821459340 - 200 3 application/octet-stream 3.988ms
2025-08-10 13:24:19.369 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821459366 - null null
2025-08-10 13:24:19.369 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.369 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821459366 - 204 null null 0.2023ms
2025-08-10 13:24:19.372 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821459366 - null null
2025-08-10 13:24:19.372 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:19.372 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:20.041 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/ddffff38-02d8-44d3-98f4-ec94a899b2e9?page=1&pageSize=50 - null null
2025-08-10 13:24:20.041 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:20.042 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/ddffff38-02d8-44d3-98f4-ec94a899b2e9?page=1&pageSize=50 - 204 null null 0.2571ms
2025-08-10 13:24:20.046 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA - null null
2025-08-10 13:24:20.046 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:20.046 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA - 204 null null 0.2611ms
2025-08-10 13:24:20.048 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/ddffff38-02d8-44d3-98f4-ec94a899b2e9?page=1&pageSize=50 - application/json null
2025-08-10 13:24:20.048 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:20.048 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:24:20.048 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:24:20.051 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA - text/plain;charset=UTF-8 103
2025-08-10 13:24:20.051 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:20.051 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:20.053 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:20.053 +03:00 [INF] HTTP POST /chathub responded 200 in 2.5546 ms
2025-08-10 13:24:20.053 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA - 200 0 text/plain 2.9405ms
2025-08-10 13:24:20.054 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:20.054 +03:00 [INF] HTTP GET /chathub responded 200 in 682.2544 ms
2025-08-10 13:24:20.054 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821459366 - 200 44 application/octet-stream 682.5606ms
2025-08-10 13:24:20.059 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:24:20.061 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:24:20.062 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:20.062 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3328ms
2025-08-10 13:24:20.067 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:24:20.067 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:20.068 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:24:20.068 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:24:20.084 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:24:20.094 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:24:20.094 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:20.095 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 26.6473ms
2025-08-10 13:24:20.095 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:24:20.095 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 27.2896 ms
2025-08-10 13:24:20.095 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 27.8335ms
2025-08-10 13:24:20.104 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821460094 - null null
2025-08-10 13:24:20.104 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:20.105 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821460094 - 204 null null 0.4326ms
2025-08-10 13:24:20.111 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821460094 - null null
2025-08-10 13:24:20.111 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:20.111 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:20.159 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 13:24:20.160 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:20.160 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 111.3836ms
2025-08-10 13:24:20.160 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:24:20.160 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/ddffff38-02d8-44d3-98f4-ec94a899b2e9 responded 200 in 111.9176 ms
2025-08-10 13:24:20.160 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/ddffff38-02d8-44d3-98f4-ec94a899b2e9?page=1&pageSize=50 - 200 null application/json; charset=utf-8 112.3631ms
2025-08-10 13:24:23.039 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=ddffff38-02d8-44d3-98f4-ec94a899b2e9&pageNumber=1&pageSize=50 - null null
2025-08-10 13:24:23.039 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:23.039 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=ddffff38-02d8-44d3-98f4-ec94a899b2e9&pageNumber=1&pageSize=50 - 204 null null 0.4021ms
2025-08-10 13:24:23.044 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=ddffff38-02d8-44d3-98f4-ec94a899b2e9&pageNumber=1&pageSize=50 - application/json null
2025-08-10 13:24:23.044 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:23.044 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 13:24:23.044 +03:00 [INF] Route matched with {action = "GetUsersByChatRoom", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByChatRoom(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:24:23.049 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:24:23.063 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[ChatRoomId] = @__request_ChatRoomId_0
2025-08-10 13:24:23.064 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:23.064 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI) in 20.1669ms
2025-08-10 13:24:23.064 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 13:24:23.064 +03:00 [INF] HTTP GET /api/Users/GetUsersByChatRoom responded 200 in 20.4676 ms
2025-08-10 13:24:23.065 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=ddffff38-02d8-44d3-98f4-ec94a899b2e9&pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 20.8058ms
2025-08-10 13:24:33.674 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:33.674 +03:00 [INF] HTTP GET /chathub responded 200 in 13563.4944 ms
2025-08-10 13:24:33.675 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=Z4EF_taaaXujy90tBqofrA&_=1754821460094 - 499 null null 13563.9084ms
2025-08-10 13:24:34.273 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:24:34.273 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.273 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2203ms
2025-08-10 13:24:34.291 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:24:34.291 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.291 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2851ms
2025-08-10 13:24:34.298 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:24:34.298 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.298 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:24:34.299 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:24:34.302 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:24:34.302 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.303 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:24:34.303 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:24:34.303 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3835 ms
2025-08-10 13:24:34.303 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6424ms
2025-08-10 13:24:34.303 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:24:34.318 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:24:34.319 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:34.319 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 20.2291ms
2025-08-10 13:24:34.319 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:24:34.319 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 20.5614 ms
2025-08-10 13:24:34.319 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 20.8976ms
2025-08-10 13:24:34.323 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=jDEJJWP7Lpj656W7Vi1D4Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:24:34.324 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.324 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:24:34.324 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:24:34.324 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.3268 ms
2025-08-10 13:24:34.324 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=jDEJJWP7Lpj656W7Vi1D4Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.5881ms
2025-08-10 13:24:34.324 +03:00 [INF] Connection id "0HNEN4JCDLMSB", Request id "0HNEN4JCDLMSB:00000037": the application completed without reading the entire request body.
2025-08-10 13:24:34.343 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:24:34.343 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.343 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1831ms
2025-08-10 13:24:34.346 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:24:34.346 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.347 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:24:34.347 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:24:34.347 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4277 ms
2025-08-10 13:24:34.347 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6848ms
2025-08-10 13:24:34.356 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wzMylT5FB8OFu-fVxUiEeQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:24:34.356 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.356 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:24:34.356 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:24:34.356 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1573 ms
2025-08-10 13:24:34.356 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wzMylT5FB8OFu-fVxUiEeQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.4684ms
2025-08-10 13:24:34.361 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:24:34.361 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.361 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1603ms
2025-08-10 13:24:34.364 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:24:34.364 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.365 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:24:34.365 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:24:34.365 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4939 ms
2025-08-10 13:24:34.365 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.9119ms
2025-08-10 13:24:34.372 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821474368 - null null
2025-08-10 13:24:34.372 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.372 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821474368 - 204 null null 0.1539ms
2025-08-10 13:24:34.373 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821474368 - null null
2025-08-10 13:24:34.373 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.374 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:34.374 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:34.374 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2979 ms
2025-08-10 13:24:34.374 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821474368 - 200 0 application/octet-stream 0.4772ms
2025-08-10 13:24:34.379 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821474376 - null null
2025-08-10 13:24:34.379 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.380 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821474376 - 204 null null 0.3126ms
2025-08-10 13:24:34.384 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw - null null
2025-08-10 13:24:34.384 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.384 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw - 204 null null 0.215ms
2025-08-10 13:24:34.390 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821474376 - null null
2025-08-10 13:24:34.390 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.390 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:34.391 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw - text/plain;charset=UTF-8 32
2025-08-10 13:24:34.391 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.391 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:34.391 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:34.391 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2298 ms
2025-08-10 13:24:34.391 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw - 200 0 text/plain 0.3956ms
2025-08-10 13:24:34.391 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:34.391 +03:00 [INF] HTTP GET /chathub responded 200 in 1.2022 ms
2025-08-10 13:24:34.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821474376 - 200 3 application/octet-stream 1.4491ms
2025-08-10 13:24:34.403 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821474399 - null null
2025-08-10 13:24:34.403 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.403 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821474399 - 204 null null 0.2184ms
2025-08-10 13:24:34.405 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821474399 - null null
2025-08-10 13:24:34.405 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:34.406 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:35.777 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 13:24:35.777 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:35.777 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.3601ms
2025-08-10 13:24:35.781 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw - null null
2025-08-10 13:24:35.781 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:35.782 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw - 204 null null 0.6068ms
2025-08-10 13:24:35.782 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 13:24:35.782 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:35.783 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:24:35.783 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:24:35.785 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:24:35.785 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw - text/plain;charset=UTF-8 103
2025-08-10 13:24:35.785 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:35.786 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:35.786 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:35.786 +03:00 [INF] HTTP POST /chathub responded 200 in 0.6724 ms
2025-08-10 13:24:35.786 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw - 200 0 text/plain 1.1239ms
2025-08-10 13:24:35.787 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:35.787 +03:00 [INF] HTTP GET /chathub responded 200 in 1381.2396 ms
2025-08-10 13:24:35.787 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821474399 - 200 44 application/octet-stream 1381.4956ms
2025-08-10 13:24:35.807 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:24:35.808 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:35.808 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3179ms
2025-08-10 13:24:35.813 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:24:35.813 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:35.813 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:24:35.813 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:24:35.822 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:24:35.831 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:24:35.831 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821475824 - null null
2025-08-10 13:24:35.831 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:35.831 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:35.831 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821475824 - 204 null null 0.2817ms
2025-08-10 13:24:35.832 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 18.0229ms
2025-08-10 13:24:35.832 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:24:35.832 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 18.7031 ms
2025-08-10 13:24:35.832 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 19.1537ms
2025-08-10 13:24:35.835 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821475824 - null null
2025-08-10 13:24:35.835 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:35.837 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:35.868 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 13:24:35.869 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:35.869 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 86.1177ms
2025-08-10 13:24:35.869 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:24:35.869 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 86.6628 ms
2025-08-10 13:24:35.869 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 87.2245ms
2025-08-10 13:24:39.535 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/Delete?ChatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d - null null
2025-08-10 13:24:39.535 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:39.535 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/Delete?ChatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d - 204 null null 0.2845ms
2025-08-10 13:24:39.541 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7003/api/ChatRooms/Delete?ChatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d - application/json null
2025-08-10 13:24:39.541 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:39.542 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.DeleteChatRoom (ChatSystem.UI)'
2025-08-10 13:24:39.542 +03:00 [INF] Route matched with {action = "DeleteChatRoom", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteChatRoom(Application.Commands.ChatRooms.DeleteChatRoom.DeleteChatRoomRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:24:39.556 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 13:24:39.558 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:39.558 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.DeleteChatRoom (ChatSystem.UI) in 16.1508ms
2025-08-10 13:24:39.558 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.DeleteChatRoom (ChatSystem.UI)'
2025-08-10 13:24:39.558 +03:00 [INF] HTTP DELETE /api/ChatRooms/Delete responded 200 in 16.7937 ms
2025-08-10 13:24:39.559 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7003/api/ChatRooms/Delete?ChatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d - 200 null application/json; charset=utf-8 17.6487ms
2025-08-10 13:24:47.354 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/ddffff38-02d8-44d3-98f4-ec94a899b2e9?page=1&pageSize=50 - null null
2025-08-10 13:24:47.355 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:47.355 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/ddffff38-02d8-44d3-98f4-ec94a899b2e9?page=1&pageSize=50 - 204 null null 0.984ms
2025-08-10 13:24:47.355 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw - null null
2025-08-10 13:24:47.355 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:47.355 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw - 204 null null 0.1574ms
2025-08-10 13:24:47.360 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/ddffff38-02d8-44d3-98f4-ec94a899b2e9?page=1&pageSize=50 - application/json null
2025-08-10 13:24:47.360 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw - text/plain;charset=UTF-8 103
2025-08-10 13:24:47.360 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:47.360 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:47.360 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:47.360 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:24:47.360 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:47.360 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:24:47.360 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3741 ms
2025-08-10 13:24:47.360 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw - 200 0 text/plain 0.7223ms
2025-08-10 13:24:47.361 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:47.362 +03:00 [INF] HTTP GET /chathub responded 200 in 11525.0615 ms
2025-08-10 13:24:47.362 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821475824 - 200 44 application/octet-stream 11526.3901ms
2025-08-10 13:24:47.365 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:24:47.372 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 13:24:47.372 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:47.372 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 11.7423ms
2025-08-10 13:24:47.372 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:24:47.372 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/ddffff38-02d8-44d3-98f4-ec94a899b2e9 responded 200 in 12.2751 ms
2025-08-10 13:24:47.372 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/ddffff38-02d8-44d3-98f4-ec94a899b2e9?page=1&pageSize=50 - 200 null application/json; charset=utf-8 12.6947ms
2025-08-10 13:24:47.386 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821487377 - null null
2025-08-10 13:24:47.386 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:47.386 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821487377 - 204 null null 0.3458ms
2025-08-10 13:24:47.392 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821487377 - null null
2025-08-10 13:24:47.392 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:47.392 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:50.994 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/RemoveMembers - null null
2025-08-10 13:24:50.994 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:50.994 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/RemoveMembers - 204 null null 0.2329ms
2025-08-10 13:24:51.006 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7003/api/ChatRooms/RemoveMembers - application/json 101
2025-08-10 13:24:51.006 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:51.007 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI)'
2025-08-10 13:24:51.007 +03:00 [INF] Route matched with {action = "AddMember", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMemberAsync(Application.Commands.ChatRooms.RemoveRoomMember.RemoveRoomMemberRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:24:51.011 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:24:51.014 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:24:51.022 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid), @__request_UserId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
FROM [RoomMembers] AS [r]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[ChatRoomId] = @__request_ChatRoomId_0 AND [r].[UserId] = @__request_UserId_1
2025-08-10 13:24:51.033 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RoomMembers] SET [IsDeleted] = @p0, [LastActionDate] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-10 13:24:51.033 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:51.033 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI) in 26.0192ms
2025-08-10 13:24:51.033 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.AddMemberAsync (ChatSystem.UI)'
2025-08-10 13:24:51.033 +03:00 [INF] HTTP DELETE /api/ChatRooms/RemoveMembers responded 200 in 26.6621 ms
2025-08-10 13:24:51.033 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7003/api/ChatRooms/RemoveMembers - 200 null application/json; charset=utf-8 27.3197ms
2025-08-10 13:24:51.041 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:24:51.041 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:51.041 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.24ms
2025-08-10 13:24:51.045 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:24:51.045 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:51.045 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:24:51.045 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:24:51.048 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:24:51.050 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:24:51.050 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:51.050 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 5.091ms
2025-08-10 13:24:51.051 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:24:51.051 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 5.7273 ms
2025-08-10 13:24:51.051 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 6.0024ms
2025-08-10 13:24:53.522 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:53.523 +03:00 [INF] HTTP GET /chathub responded 200 in 6130.7347 ms
2025-08-10 13:24:53.523 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=9QK0USDt78HSXqUTw_XABw&_=1754821487377 - 499 null null 6131.124ms
2025-08-10 13:24:54.048 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:24:54.049 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.049 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:24:54.049 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:24:54.051 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:24:54.051 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:24:54.051 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.052 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.231ms
2025-08-10 13:24:54.053 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:24:54.053 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:54.053 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 4.0794ms
2025-08-10 13:24:54.053 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:24:54.053 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 4.4457 ms
2025-08-10 13:24:54.053 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.8796ms
2025-08-10 13:24:54.056 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:24:54.056 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.056 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:24:54.056 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:24:54.056 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5223 ms
2025-08-10 13:24:54.056 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7647ms
2025-08-10 13:24:54.071 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=xOIcGhGxbnuesB-vqGGSuA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:24:54.071 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.071 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:24:54.071 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:24:54.071 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1633 ms
2025-08-10 13:24:54.071 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=xOIcGhGxbnuesB-vqGGSuA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.4202ms
2025-08-10 13:24:54.072 +03:00 [INF] Connection id "0HNEN4JCDLMSB", Request id "0HNEN4JCDLMSB:00000051": the application completed without reading the entire request body.
2025-08-10 13:24:54.079 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:24:54.079 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.080 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3387ms
2025-08-10 13:24:54.083 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:24:54.083 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.083 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:24:54.083 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:24:54.083 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3310 ms
2025-08-10 13:24:54.083 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5513ms
2025-08-10 13:24:54.088 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=tAFMXqofWZKb7VZiwzn23g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:24:54.089 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.089 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:24:54.089 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:24:54.089 +03:00 [INF] HTTP GET /chathub responded 401 in 0.3105 ms
2025-08-10 13:24:54.089 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=tAFMXqofWZKb7VZiwzn23g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.7473ms
2025-08-10 13:24:54.095 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:24:54.095 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.096 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1601ms
2025-08-10 13:24:54.098 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:24:54.098 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.098 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:24:54.099 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:24:54.099 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.8078 ms
2025-08-10 13:24:54.099 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.0684ms
2025-08-10 13:24:54.104 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA&_=1754821494102 - null null
2025-08-10 13:24:54.104 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.104 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA&_=1754821494102 - 204 null null 0.1646ms
2025-08-10 13:24:54.106 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA&_=1754821494102 - null null
2025-08-10 13:24:54.106 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.106 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:54.106 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:54.106 +03:00 [INF] HTTP GET /chathub responded 200 in 0.5063 ms
2025-08-10 13:24:54.106 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA&_=1754821494102 - 200 0 application/octet-stream 0.7147ms
2025-08-10 13:24:54.113 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA&_=1754821494109 - null null
2025-08-10 13:24:54.113 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.113 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA&_=1754821494109 - 204 null null 0.2607ms
2025-08-10 13:24:54.116 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA - null null
2025-08-10 13:24:54.116 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.116 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA&_=1754821494109 - null null
2025-08-10 13:24:54.116 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA - 204 null null 0.1926ms
2025-08-10 13:24:54.116 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.116 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:54.118 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA - text/plain;charset=UTF-8 32
2025-08-10 13:24:54.118 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.118 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:54.118 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:54.118 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1846 ms
2025-08-10 13:24:54.118 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA - 200 0 text/plain 0.3573ms
2025-08-10 13:24:54.118 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:54.118 +03:00 [INF] HTTP GET /chathub responded 200 in 2.0172 ms
2025-08-10 13:24:54.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA&_=1754821494109 - 200 3 application/octet-stream 2.3402ms
2025-08-10 13:24:54.125 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA&_=1754821494123 - null null
2025-08-10 13:24:54.125 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.125 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA&_=1754821494123 - 204 null null 0.2481ms
2025-08-10 13:24:54.128 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA&_=1754821494123 - null null
2025-08-10 13:24:54.129 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:54.129 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:55.556 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:55.556 +03:00 [INF] HTTP GET /chathub responded 200 in 1427.4042 ms
2025-08-10 13:24:55.556 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=GA9Mf5l_if_K0HK_Z2YluA&_=1754821494123 - 499 null null 1427.8932ms
2025-08-10 13:24:56.064 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:24:56.064 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.064 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2082ms
2025-08-10 13:24:56.070 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:24:56.071 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.071 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2112ms
2025-08-10 13:24:56.084 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:24:56.084 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:24:56.084 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.084 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.085 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:24:56.085 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:24:56.085 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:24:56.085 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:24:56.085 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5082 ms
2025-08-10 13:24:56.085 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8718ms
2025-08-10 13:24:56.086 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:24:56.088 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:24:56.088 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:24:56.088 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 3.61ms
2025-08-10 13:24:56.088 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:24:56.088 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 4.0555 ms
2025-08-10 13:24:56.089 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.384ms
2025-08-10 13:24:56.093 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=kakU8EnXa-nZe1uONc1a8Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:24:56.093 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.093 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:24:56.093 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:24:56.093 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1659 ms
2025-08-10 13:24:56.093 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=kakU8EnXa-nZe1uONc1a8Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.4358ms
2025-08-10 13:24:56.094 +03:00 [INF] Connection id "0HNEN4JCDLMSB", Request id "0HNEN4JCDLMSB:00000063": the application completed without reading the entire request body.
2025-08-10 13:24:56.107 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:24:56.107 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.107 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2386ms
2025-08-10 13:24:56.110 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:24:56.110 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.111 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:24:56.111 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:24:56.111 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 1.1982 ms
2025-08-10 13:24:56.111 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.4378ms
2025-08-10 13:24:56.117 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=NP1DcROOKP9X3nFXcBcojQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - null null
2025-08-10 13:24:56.117 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.117 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:24:56.117 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:24:56.118 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1635 ms
2025-08-10 13:24:56.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=NP1DcROOKP9X3nFXcBcojQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjI0MTUsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.91X9mlTp6xoWIDUu8p71SN_-2kn03_bwQfn1XRE6VbQ - 401 0 null 0.4715ms
2025-08-10 13:24:56.122 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:24:56.122 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.122 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2049ms
2025-08-10 13:24:56.123 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:24:56.123 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.124 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:24:56.124 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:24:56.124 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4826 ms
2025-08-10 13:24:56.124 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7569ms
2025-08-10 13:24:56.132 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ&_=1754821496128 - null null
2025-08-10 13:24:56.132 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.132 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ&_=1754821496128 - 204 null null 0.1891ms
2025-08-10 13:24:56.133 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ&_=1754821496128 - null null
2025-08-10 13:24:56.134 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.134 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:56.134 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:56.134 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4583 ms
2025-08-10 13:24:56.134 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ&_=1754821496128 - 200 0 application/octet-stream 0.6016ms
2025-08-10 13:24:56.138 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ&_=1754821496136 - null null
2025-08-10 13:24:56.139 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.139 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ&_=1754821496136 - 204 null null 0.1761ms
2025-08-10 13:24:56.143 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ&_=1754821496136 - null null
2025-08-10 13:24:56.143 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ - null null
2025-08-10 13:24:56.143 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.143 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ - 204 null null 0.2104ms
2025-08-10 13:24:56.143 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.143 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:56.145 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ - text/plain;charset=UTF-8 32
2025-08-10 13:24:56.145 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.145 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:56.145 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:56.145 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2556 ms
2025-08-10 13:24:56.145 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ - 200 0 text/plain 0.4378ms
2025-08-10 13:24:56.145 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:56.145 +03:00 [INF] HTTP GET /chathub responded 200 in 2.1786 ms
2025-08-10 13:24:56.145 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ&_=1754821496136 - 200 3 application/octet-stream 2.5479ms
2025-08-10 13:24:56.152 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ&_=1754821496149 - null null
2025-08-10 13:24:56.152 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.152 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ&_=1754821496149 - 204 null null 0.1496ms
2025-08-10 13:24:56.153 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ&_=1754821496149 - null null
2025-08-10 13:24:56.153 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:24:56.154 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:24:59.477 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:24:59.477 +03:00 [INF] HTTP GET /chathub responded 200 in 3323.8441 ms
2025-08-10 13:24:59.477 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=yFBg3vYPuXl_vOVk7VWtJQ&_=1754821496149 - 499 null null 3324.0583ms
2025-08-10 13:45:23.222 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - null null
2025-08-10 13:45:23.223 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:23.223 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - 204 null null 0.4065ms
2025-08-10 13:45:23.227 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Login - application/json 43
2025-08-10 13:45:23.228 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:23.228 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 13:45:23.228 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Commands.Users.LoginUser.LoginUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:45:23.248 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_UserName_0='?' (Size = 4000), @__request_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__request_UserName_0 AND [u].[Password] = @__request_Password_1
2025-08-10 13:45:23.248 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Domain.Common.ApiResult`1[[Application.Commands.Users.LoginUser.GetLoggedUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 13:45:23.248 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI) in 20.2087ms
2025-08-10 13:45:23.248 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 13:45:23.248 +03:00 [INF] HTTP POST /api/Users/Login responded 400 in 20.6159 ms
2025-08-10 13:45:23.249 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Login - 400 null application/json; charset=utf-8 21.0071ms
2025-08-10 13:45:28.130 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Login - application/json 35
2025-08-10 13:45:28.131 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:28.131 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 13:45:28.131 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Commands.Users.LoginUser.LoginUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:45:28.138 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_UserName_0='?' (Size = 4000), @__request_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__request_UserName_0 AND [u].[Password] = @__request_Password_1
2025-08-10 13:45:28.142 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[Application.Commands.Users.LoginUser.GetLoggedUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 13:45:28.142 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI) in 10.8491ms
2025-08-10 13:45:28.142 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 13:45:28.142 +03:00 [INF] HTTP POST /api/Users/Login responded 200 in 11.3636 ms
2025-08-10 13:45:28.142 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Login - 200 null application/json; charset=utf-8 11.919ms
2025-08-10 13:45:28.216 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 13:45:28.216 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:28.216 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.2619ms
2025-08-10 13:45:28.231 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-08-10 13:45:28.231 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:28.231 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:45:28.231 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:28.231 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.1795ms
2025-08-10 13:45:28.231 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.1593ms
2025-08-10 13:45:28.252 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 13:45:28.252 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:28.253 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:45:28.253 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 13:45:28.257 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:45:28.257 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-08-10 13:45:28.257 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:28.257 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:28.257 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:45:28.257 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:45:28.258 +03:00 [INF] HTTP GET /api/Users responded 404 in 0.7796 ms
2025-08-10 13:45:28.258 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 1.2605ms
2025-08-10 13:45:28.259 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 13:45:28.260 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-08-10 13:45:28.260 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:45:28.260 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 6.9436ms
2025-08-10 13:45:28.260 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:45:28.260 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 7.7684 ms
2025-08-10 13:45:28.260 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 8.1272ms
2025-08-10 13:45:28.265 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:45:28.286 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:45:28.287 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:45:28.288 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 30.7385ms
2025-08-10 13:45:28.288 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:45:28.288 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 31.4358 ms
2025-08-10 13:45:28.289 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 499 null application/json; charset=utf-8 31.7893ms
2025-08-10 13:45:30.180 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:45:30.180 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.181 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:45:30.181 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:45:30.184 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:45:30.185 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:45:30.185 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:45:30.186 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 5.0818ms
2025-08-10 13:45:30.186 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:45:30.186 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 5.4995 ms
2025-08-10 13:45:30.186 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 5.9613ms
2025-08-10 13:45:30.187 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:45:30.187 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.187 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1498ms
2025-08-10 13:45:30.209 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:45:30.210 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.210 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:45:30.210 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:45:30.210 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4479 ms
2025-08-10 13:45:30.210 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6821ms
2025-08-10 13:45:30.231 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=WCBF4p5WuP9ljsgrvpS-xg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 13:45:30.231 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.231 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:45:30.232 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:45:30.232 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 1.4077 ms
2025-08-10 13:45:30.232 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=WCBF4p5WuP9ljsgrvpS-xg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 1.6927ms
2025-08-10 13:45:30.232 +03:00 [INF] Connection id "0HNEN4JCDLMSD", Request id "0HNEN4JCDLMSD:00000003": the application completed without reading the entire request body.
2025-08-10 13:45:30.240 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:45:30.240 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.240 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1906ms
2025-08-10 13:45:30.243 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:45:30.243 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.243 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:45:30.243 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:45:30.243 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2661 ms
2025-08-10 13:45:30.243 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4747ms
2025-08-10 13:45:30.252 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=L3xgk3jPn3QCp0gPSKlhtw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 13:45:30.252 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.253 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:45:30.253 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:45:30.253 +03:00 [INF] HTTP GET /chathub responded 401 in 0.9652 ms
2025-08-10 13:45:30.253 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=L3xgk3jPn3QCp0gPSKlhtw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 1.2015ms
2025-08-10 13:45:30.260 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:45:30.260 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.261 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2738ms
2025-08-10 13:45:30.263 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:45:30.263 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.263 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:45:30.263 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:45:30.263 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2511 ms
2025-08-10 13:45:30.263 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4314ms
2025-08-10 13:45:30.268 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822730265 - null null
2025-08-10 13:45:30.268 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.268 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822730265 - 204 null null 0.2267ms
2025-08-10 13:45:30.271 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822730265 - null null
2025-08-10 13:45:30.271 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.271 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:45:30.271 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:45:30.271 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4657 ms
2025-08-10 13:45:30.271 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822730265 - 200 0 application/octet-stream 0.7299ms
2025-08-10 13:45:30.277 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822730274 - null null
2025-08-10 13:45:30.277 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.277 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA - null null
2025-08-10 13:45:30.277 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822730274 - 204 null null 0.2048ms
2025-08-10 13:45:30.277 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.277 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA - 204 null null 0.1442ms
2025-08-10 13:45:30.281 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822730274 - null null
2025-08-10 13:45:30.281 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.281 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:45:30.282 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA - text/plain;charset=UTF-8 32
2025-08-10 13:45:30.282 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.282 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:45:30.282 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:45:30.282 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2233 ms
2025-08-10 13:45:30.282 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA - 200 0 text/plain 0.3948ms
2025-08-10 13:45:30.282 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:45:30.282 +03:00 [INF] HTTP GET /chathub responded 200 in 0.8781 ms
2025-08-10 13:45:30.282 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822730274 - 200 3 application/octet-stream 1.1627ms
2025-08-10 13:45:30.289 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822730288 - null null
2025-08-10 13:45:30.289 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.289 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822730288 - 204 null null 0.1739ms
2025-08-10 13:45:30.292 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822730288 - null null
2025-08-10 13:45:30.292 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:30.292 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:45:32.906 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:45:32.906 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:32.906 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:45:32.906 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:45:32.909 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:45:32.913 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:45:32.913 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:45:32.913 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 6.8125ms
2025-08-10 13:45:32.913 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:45:32.913 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 7.3321 ms
2025-08-10 13:45:32.914 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 7.7325ms
2025-08-10 13:45:32.918 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:45:32.918 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:32.919 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.321ms
2025-08-10 13:45:32.956 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:45:32.956 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:32.957 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:45:32.957 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:45:32.964 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:45:32.971 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:45:32.972 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:45:32.972 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 14.8562ms
2025-08-10 13:45:32.972 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:45:32.972 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 15.3288 ms
2025-08-10 13:45:32.972 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 15.9124ms
2025-08-10 13:45:36.063 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:45:36.063 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:36.063 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.181ms
2025-08-10 13:45:36.086 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:45:36.086 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:36.086 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:45:36.086 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:45:36.088 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:45:36.090 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:45:36.090 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:45:36.090 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 3.7685ms
2025-08-10 13:45:36.090 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:45:36.090 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 4.1887 ms
2025-08-10 13:45:36.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.7214ms
2025-08-10 13:45:37.293 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 13:45:37.293 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA - null null
2025-08-10 13:45:37.293 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:37.293 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:37.293 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.1952ms
2025-08-10 13:45:37.293 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA - 204 null null 0.2176ms
2025-08-10 13:45:37.296 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA - text/plain;charset=UTF-8 103
2025-08-10 13:45:37.296 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:37.297 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:45:37.297 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:45:37.297 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2264 ms
2025-08-10 13:45:37.297 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA - 200 0 text/plain 0.4286ms
2025-08-10 13:45:37.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:45:37.297 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:37.297 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:45:37.297 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:45:37.297 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:45:37.297 +03:00 [INF] HTTP GET /chathub responded 200 in 7005.4552 ms
2025-08-10 13:45:37.297 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822730288 - 200 44 application/octet-stream 7005.645ms
2025-08-10 13:45:37.298 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 13:45:37.298 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:37.299 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:45:37.299 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:45:37.299 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:45:37.301 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:45:37.302 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:45:37.302 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 4.8781ms
2025-08-10 13:45:37.302 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:45:37.302 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 5.0858 ms
2025-08-10 13:45:37.302 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 5.2485ms
2025-08-10 13:45:37.305 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:45:37.307 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822737305 - null null
2025-08-10 13:45:37.307 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:37.307 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822737305 - 204 null null 0.2094ms
2025-08-10 13:45:37.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822737305 - null null
2025-08-10 13:45:37.310 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:37.310 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:45:37.373 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 13:45:37.374 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:45:37.374 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 74.968ms
2025-08-10 13:45:37.374 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:45:37.374 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 75.6523 ms
2025-08-10 13:45:37.375 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 76.3374ms
2025-08-10 13:45:47.593 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:45:47.594 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:47.594 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.7312ms
2025-08-10 13:45:47.604 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:45:47.604 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:47.604 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.21ms
2025-08-10 13:45:47.616 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:45:47.616 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:47.617 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:45:47.617 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:45:47.618 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:45:47.620 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:45:47.620 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:45:47.620 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 3.1329ms
2025-08-10 13:45:47.620 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:45:47.620 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 3.4713 ms
2025-08-10 13:45:47.620 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 3.7343ms
2025-08-10 13:45:47.623 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:45:47.623 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:47.624 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:45:47.624 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:45:47.626 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:45:47.627 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:45:47.627 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:45:47.627 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 3.7705ms
2025-08-10 13:45:47.628 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:45:47.628 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 4.1753 ms
2025-08-10 13:45:47.628 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.4617ms
2025-08-10 13:45:50.478 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 13:45:50.478 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:50.478 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.1567ms
2025-08-10 13:45:50.507 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 13:45:50.507 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:50.508 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:45:50.508 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 13:45:50.511 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 13:45:50.511 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:45:50.512 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 3.8889ms
2025-08-10 13:45:50.512 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:45:50.512 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 4.3153 ms
2025-08-10 13:45:50.512 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 4.6646ms
2025-08-10 13:45:52.000 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 13:45:52.000 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:52.001 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:45:52.001 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 13:45:52.002 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 13:45:52.003 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:45:52.003 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 2.0995ms
2025-08-10 13:45:52.003 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:45:52.003 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 2.4065 ms
2025-08-10 13:45:52.003 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 2.6643ms
2025-08-10 13:45:52.012 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-08-10 13:45:52.012 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:52.012 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.2044ms
2025-08-10 13:45:52.027 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:45:52.027 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:52.027 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:45:52.027 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:45:52.029 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:45:52.030 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:45:52.031 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:45:52.031 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 3.4596ms
2025-08-10 13:45:52.031 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:45:52.031 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 3.7986 ms
2025-08-10 13:45:52.031 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.1136ms
2025-08-10 13:45:52.042 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-08-10 13:45:52.043 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:45:52.043 +03:00 [INF] HTTP GET /api/Users responded 404 in 0.2676 ms
2025-08-10 13:45:52.043 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 1.0043ms
2025-08-10 13:45:52.044 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-08-10 13:46:00.988 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:46:00.988 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:46:00.989 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.266ms
2025-08-10 13:46:01.023 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:46:01.023 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:46:01.023 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:46:01.024 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:46:01.028 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:46:01.029 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:46:01.030 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:46:01.030 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 6.1456ms
2025-08-10 13:46:01.030 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:46:01.030 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 6.6452 ms
2025-08-10 13:46:01.030 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 7.1158ms
2025-08-10 13:46:02.316 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 13:46:02.316 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:46:02.316 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.2623ms
2025-08-10 13:46:02.318 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-08-10 13:46:02.318 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:46:02.318 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.3657ms
2025-08-10 13:46:02.325 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:46:02.325 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:46:02.325 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:46:02.325 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:46:02.327 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:46:02.328 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:46:02.329 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:46:02.329 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 3.247ms
2025-08-10 13:46:02.329 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:46:02.329 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 3.7529 ms
2025-08-10 13:46:02.329 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.0198ms
2025-08-10 13:46:02.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 13:46:02.331 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:46:02.332 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:46:02.332 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 13:46:02.332 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-08-10 13:46:02.333 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:46:02.333 +03:00 [INF] HTTP GET /api/Users responded 404 in 0.1469 ms
2025-08-10 13:46:02.333 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 0.6895ms
2025-08-10 13:46:02.333 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-08-10 13:46:02.334 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 13:46:02.335 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:46:02.335 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 2.8824ms
2025-08-10 13:46:02.335 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 13:46:02.335 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 3.3995 ms
2025-08-10 13:46:02.335 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 3.6892ms
2025-08-10 13:47:07.313 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:47:07.313 +03:00 [INF] HTTP GET /chathub responded 200 in 90003.1606 ms
2025-08-10 13:47:07.313 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822737305 - 200 0 text/plain 90003.4229ms
2025-08-10 13:47:07.319 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822827316 - null null
2025-08-10 13:47:07.319 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:47:07.319 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822827316 - 204 null null 0.2884ms
2025-08-10 13:47:07.321 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822827316 - null null
2025-08-10 13:47:07.321 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:47:07.322 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:48:37.325 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:48:37.325 +03:00 [INF] HTTP GET /chathub responded 200 in 90003.6173 ms
2025-08-10 13:48:37.325 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822827316 - 200 0 text/plain 90004.0085ms
2025-08-10 13:48:37.332 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822917328 - null null
2025-08-10 13:48:37.333 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:48:37.333 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822917328 - 204 null null 0.2511ms
2025-08-10 13:48:37.337 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822917328 - null null
2025-08-10 13:48:37.337 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:48:37.337 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:49:04.208 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:49:04.208 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:49:04.208 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2377ms
2025-08-10 13:49:04.247 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:49:04.247 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:49:04.247 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:49:04.248 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:49:04.260 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:49:04.283 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:49:04.283 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:49:04.283 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 35.6881ms
2025-08-10 13:49:04.283 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:49:04.283 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 36.1652 ms
2025-08-10 13:49:04.283 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 36.4742ms
2025-08-10 13:49:05.152 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 13:49:05.152 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA - null null
2025-08-10 13:49:05.153 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:49:05.153 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:49:05.153 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.1454ms
2025-08-10 13:49:05.153 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA - 204 null null 0.1005ms
2025-08-10 13:49:05.156 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:49:05.156 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA - text/plain;charset=UTF-8 103
2025-08-10 13:49:05.156 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:49:05.156 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:49:05.156 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1225ms
2025-08-10 13:49:05.156 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:49:05.157 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:49:05.157 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2417 ms
2025-08-10 13:49:05.157 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA - 200 0 text/plain 0.4188ms
2025-08-10 13:49:05.157 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 13:49:05.157 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:49:05.157 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:49:05.157 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:49:05.157 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:49:05.157 +03:00 [INF] HTTP GET /chathub responded 200 in 27820.7433 ms
2025-08-10 13:49:05.158 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822917328 - 200 44 application/octet-stream 27821.0611ms
2025-08-10 13:49:05.161 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:49:05.161 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:49:05.161 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:49:05.161 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:49:05.165 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822945163 - null null
2025-08-10 13:49:05.165 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:49:05.165 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822945163 - 204 null null 0.2322ms
2025-08-10 13:49:05.165 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:49:05.168 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822945163 - null null
2025-08-10 13:49:05.168 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:49:05.168 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:49:05.169 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:49:05.176 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:49:05.177 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:49:05.177 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 15.6843ms
2025-08-10 13:49:05.177 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:49:05.177 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 15.9972 ms
2025-08-10 13:49:05.177 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 16.281ms
2025-08-10 13:49:05.227 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 13:49:05.228 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:49:05.228 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 70.1936ms
2025-08-10 13:49:05.228 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:49:05.228 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 70.8165 ms
2025-08-10 13:49:05.228 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 71.2294ms
2025-08-10 13:50:35.176 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:50:35.176 +03:00 [INF] HTTP GET /chathub responded 200 in 90007.9528 ms
2025-08-10 13:50:35.176 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754822945163 - 200 0 text/plain 90008.2732ms
2025-08-10 13:50:35.187 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823035184 - null null
2025-08-10 13:50:35.187 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:50:35.187 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823035184 - 204 null null 0.1652ms
2025-08-10 13:50:35.189 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823035184 - null null
2025-08-10 13:50:35.189 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:50:35.189 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:52:05.203 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:52:05.203 +03:00 [INF] HTTP GET /chathub responded 200 in 90013.7184 ms
2025-08-10 13:52:05.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823035184 - 200 0 text/plain 90013.9645ms
2025-08-10 13:52:05.214 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823125211 - null null
2025-08-10 13:52:05.214 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:52:05.214 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823125211 - 204 null null 0.1699ms
2025-08-10 13:52:05.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823125211 - null null
2025-08-10 13:52:05.217 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:52:05.217 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:53:35.221 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:53:35.221 +03:00 [INF] HTTP GET /chathub responded 200 in 90004.0201 ms
2025-08-10 13:53:35.221 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823125211 - 200 0 text/plain 90004.5025ms
2025-08-10 13:53:35.235 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823215230 - null null
2025-08-10 13:53:35.235 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:53:35.235 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823215230 - 204 null null 0.2441ms
2025-08-10 13:53:35.241 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823215230 - null null
2025-08-10 13:53:35.241 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:53:35.242 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:55:05.252 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:55:05.252 +03:00 [INF] HTTP GET /chathub responded 200 in 90010.6216 ms
2025-08-10 13:55:05.252 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823215230 - 200 0 text/plain 90011.1332ms
2025-08-10 13:55:05.265 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823305262 - null null
2025-08-10 13:55:05.266 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:05.266 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823305262 - 204 null null 0.5199ms
2025-08-10 13:55:05.271 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823305262 - null null
2025-08-10 13:55:05.271 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:05.271 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:55:53.646 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:55:53.646 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:53.646 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1889ms
2025-08-10 13:55:53.651 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:55:53.652 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:53.652 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:55:53.652 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:55:53.659 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:55:53.665 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:55:53.667 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:55:53.667 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 14.9053ms
2025-08-10 13:55:53.667 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:55:53.667 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 15.2502 ms
2025-08-10 13:55:53.667 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 15.5159ms
2025-08-10 13:55:55.680 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:55:55.680 +03:00 [INF] HTTP GET /chathub responded 200 in 50408.7865 ms
2025-08-10 13:55:55.680 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=UtiYjviyeC2uQR35M6_kUA&_=1754823305262 - 499 null null 50409.4577ms
2025-08-10 13:55:56.250 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:55:56.250 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.250 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2811ms
2025-08-10 13:55:56.254 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:55:56.254 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.254 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2067ms
2025-08-10 13:55:56.269 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:55:56.269 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.270 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:55:56.270 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:55:56.270 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:55:56.270 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.270 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:55:56.272 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:55:56.272 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 1.8594 ms
2025-08-10 13:55:56.272 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 2.0541ms
2025-08-10 13:55:56.275 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:55:56.276 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=3BYTni5aa-PKs1cxb6uLrg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 13:55:56.276 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.277 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:55:56.278 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:55:56.278 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 1.1038 ms
2025-08-10 13:55:56.278 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=3BYTni5aa-PKs1cxb6uLrg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 1.3096ms
2025-08-10 13:55:56.278 +03:00 [INF] Connection id "0HNEN4JCDLMSD", Request id "0HNEN4JCDLMSD:00000029": the application completed without reading the entire request body.
2025-08-10 13:55:56.282 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:55:56.282 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.282 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1134ms
2025-08-10 13:55:56.284 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:55:56.284 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.284 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:55:56.286 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:55:56.286 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 1.8840 ms
2025-08-10 13:55:56.286 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 2.2353ms
2025-08-10 13:55:56.289 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=kmch_4-Fp2aRSGnRhMw6Ww&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 13:55:56.290 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.290 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:55:56.290 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:55:56.290 +03:00 [INF] HTTP GET /chathub responded 401 in 0.0920 ms
2025-08-10 13:55:56.290 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=kmch_4-Fp2aRSGnRhMw6Ww&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.4586ms
2025-08-10 13:55:56.293 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:55:56.293 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:55:56.293 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.293 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3345ms
2025-08-10 13:55:56.293 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:55:56.293 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 23.4096ms
2025-08-10 13:55:56.293 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:55:56.293 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 23.7314 ms
2025-08-10 13:55:56.293 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 24.029ms
2025-08-10 13:55:56.295 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:55:56.295 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.296 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:55:56.296 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:55:56.296 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2032 ms
2025-08-10 13:55:56.296 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.3765ms
2025-08-10 13:55:56.307 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823356305 - null null
2025-08-10 13:55:56.307 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.307 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823356305 - 204 null null 0.1622ms
2025-08-10 13:55:56.309 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823356305 - null null
2025-08-10 13:55:56.309 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.310 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:55:56.311 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:55:56.311 +03:00 [INF] HTTP GET /chathub responded 200 in 1.9892 ms
2025-08-10 13:55:56.311 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823356305 - 200 0 application/octet-stream 2.207ms
2025-08-10 13:55:56.316 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823356314 - null null
2025-08-10 13:55:56.316 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg - null null
2025-08-10 13:55:56.316 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.316 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.316 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823356314 - 204 null null 0.3606ms
2025-08-10 13:55:56.316 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg - 204 null null 0.1813ms
2025-08-10 13:55:56.319 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg - text/plain;charset=UTF-8 32
2025-08-10 13:55:56.319 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823356314 - null null
2025-08-10 13:55:56.319 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.319 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.319 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:55:56.320 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:55:56.320 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1469 ms
2025-08-10 13:55:56.320 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg - 200 0 text/plain 0.2871ms
2025-08-10 13:55:56.320 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:55:56.320 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:55:56.320 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3031 ms
2025-08-10 13:55:56.320 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823356314 - 200 3 application/octet-stream 0.5252ms
2025-08-10 13:55:56.324 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823356323 - null null
2025-08-10 13:55:56.324 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.324 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823356323 - 204 null null 0.1014ms
2025-08-10 13:55:56.326 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823356323 - null null
2025-08-10 13:55:56.326 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:56.326 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:55:58.064 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 13:55:58.064 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:58.064 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2258ms
2025-08-10 13:55:58.064 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg - null null
2025-08-10 13:55:58.065 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:58.065 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg - 204 null null 0.3003ms
2025-08-10 13:55:58.068 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg - text/plain;charset=UTF-8 103
2025-08-10 13:55:58.068 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:58.069 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:55:58.069 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:55:58.069 +03:00 [INF] HTTP POST /chathub responded 200 in 0.6909 ms
2025-08-10 13:55:58.069 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg - 200 0 text/plain 1.0229ms
2025-08-10 13:55:58.069 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 13:55:58.069 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:58.070 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:55:58.070 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:55:58.073 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:55:58.073 +03:00 [INF] HTTP GET /chathub responded 200 in 1747.7224 ms
2025-08-10 13:55:58.074 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823356323 - 200 44 application/octet-stream 1747.9425ms
2025-08-10 13:55:58.078 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:55:58.079 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:55:58.079 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:58.079 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:55:58.080 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:55:58.083 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:55:58.091 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:55:58.092 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823358087 - null null
2025-08-10 13:55:58.092 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:55:58.092 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:58.092 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 12.6467ms
2025-08-10 13:55:58.092 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:55:58.092 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823358087 - 204 null null 0.3946ms
2025-08-10 13:55:58.092 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 12.9523 ms
2025-08-10 13:55:58.092 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 13.4147ms
2025-08-10 13:55:58.098 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823358087 - null null
2025-08-10 13:55:58.098 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:55:58.098 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:55:58.158 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 13:55:58.158 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:55:58.158 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 88.4998ms
2025-08-10 13:55:58.158 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:55:58.158 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 88.9149 ms
2025-08-10 13:55:58.158 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 89.2029ms
2025-08-10 13:57:04.048 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:57:04.049 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:04.049 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.4532ms
2025-08-10 13:57:04.052 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:57:04.053 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:04.053 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:57:04.053 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:57:04.058 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:57:04.065 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:57:04.065 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:57:04.065 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 12.5052ms
2025-08-10 13:57:04.065 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:57:04.065 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 12.8154 ms
2025-08-10 13:57:04.066 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 13.0993ms
2025-08-10 13:57:28.112 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:57:28.112 +03:00 [INF] HTTP GET /chathub responded 200 in 90014.4609 ms
2025-08-10 13:57:28.112 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823358087 - 200 0 text/plain 90014.7534ms
2025-08-10 13:57:28.122 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823448119 - null null
2025-08-10 13:57:28.123 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:28.123 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823448119 - 204 null null 0.2525ms
2025-08-10 13:57:28.126 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823448119 - null null
2025-08-10 13:57:28.126 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:28.126 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:57:50.867 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:57:50.867 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:50.867 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3028ms
2025-08-10 13:57:50.870 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:57:50.870 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:50.870 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:57:50.870 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:57:50.882 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:57:50.892 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:57:50.893 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:57:50.893 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 23.3049ms
2025-08-10 13:57:50.893 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:57:50.894 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 23.7115 ms
2025-08-10 13:57:50.894 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 23.942ms
2025-08-10 13:57:54.828 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:57:54.828 +03:00 [INF] HTTP GET /chathub responded 200 in 26701.8942 ms
2025-08-10 13:57:54.829 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=3ZwPnII9i-nAicwG7Gghkg&_=1754823448119 - 499 null null 26702.4838ms
2025-08-10 13:57:55.111 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:57:55.111 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:57:55.111 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.111 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.111 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2116ms
2025-08-10 13:57:55.111 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2512ms
2025-08-10 13:57:55.126 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:57:55.127 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.127 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:57:55.127 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:57:55.127 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5084 ms
2025-08-10 13:57:55.127 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8595ms
2025-08-10 13:57:55.130 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:57:55.130 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.131 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:57:55.131 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:57:55.139 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:57:55.141 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=HZLnjOXa3cYPrMMNSH1U8Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 13:57:55.141 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.141 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:57:55.141 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:57:55.142 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.4724 ms
2025-08-10 13:57:55.142 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=HZLnjOXa3cYPrMMNSH1U8Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.6462ms
2025-08-10 13:57:55.142 +03:00 [INF] Connection id "0HNEN4JCDLMSD", Request id "0HNEN4JCDLMSD:00000041": the application completed without reading the entire request body.
2025-08-10 13:57:55.145 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:57:55.145 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.145 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1122ms
2025-08-10 13:57:55.147 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:57:55.147 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.147 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:57:55.147 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:57:55.147 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2588 ms
2025-08-10 13:57:55.147 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4233ms
2025-08-10 13:57:55.151 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=10nhns1qFsO5h4y1gPMU2A&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 13:57:55.152 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.152 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:57:55.152 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:57:55.152 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1001 ms
2025-08-10 13:57:55.152 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=10nhns1qFsO5h4y1gPMU2A&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.3745ms
2025-08-10 13:57:55.155 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:57:55.155 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.155 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1832ms
2025-08-10 13:57:55.156 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:57:55.156 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:57:55.156 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 25.1959ms
2025-08-10 13:57:55.156 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:57:55.156 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 25.5747 ms
2025-08-10 13:57:55.156 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 25.9259ms
2025-08-10 13:57:55.158 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:57:55.158 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.158 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:57:55.158 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:57:55.158 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2367 ms
2025-08-10 13:57:55.158 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.471ms
2025-08-10 13:57:55.168 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823475165 - null null
2025-08-10 13:57:55.168 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.168 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823475165 - 204 null null 0.2132ms
2025-08-10 13:57:55.171 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823475165 - null null
2025-08-10 13:57:55.171 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.171 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:57:55.171 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:57:55.171 +03:00 [INF] HTTP GET /chathub responded 200 in 0.5042 ms
2025-08-10 13:57:55.171 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823475165 - 200 0 application/octet-stream 0.7793ms
2025-08-10 13:57:55.176 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823475173 - null null
2025-08-10 13:57:55.176 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg - null null
2025-08-10 13:57:55.176 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.176 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.176 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823475173 - 204 null null 0.1414ms
2025-08-10 13:57:55.176 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg - 204 null null 0.1594ms
2025-08-10 13:57:55.179 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg - text/plain;charset=UTF-8 32
2025-08-10 13:57:55.179 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823475173 - null null
2025-08-10 13:57:55.179 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.179 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.179 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:57:55.179 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:57:55.179 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:57:55.179 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3267 ms
2025-08-10 13:57:55.179 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg - 200 0 text/plain 0.5248ms
2025-08-10 13:57:55.181 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:57:55.181 +03:00 [INF] HTTP GET /chathub responded 200 in 1.8942 ms
2025-08-10 13:57:55.181 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823475173 - 200 3 application/octet-stream 2.1472ms
2025-08-10 13:57:55.187 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823475183 - null null
2025-08-10 13:57:55.187 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.187 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823475183 - 204 null null 0.251ms
2025-08-10 13:57:55.190 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823475183 - null null
2025-08-10 13:57:55.190 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:55.190 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:57:56.497 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg - null null
2025-08-10 13:57:56.497 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 13:57:56.498 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:56.498 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg - 204 null null 0.1928ms
2025-08-10 13:57:56.498 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:56.498 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2611ms
2025-08-10 13:57:56.502 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg - text/plain;charset=UTF-8 103
2025-08-10 13:57:56.502 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:56.502 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:57:56.502 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:57:56.502 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3771 ms
2025-08-10 13:57:56.502 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg - 200 0 text/plain 0.7029ms
2025-08-10 13:57:56.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 13:57:56.503 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:56.503 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:57:56.503 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:57:56.503 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:57:56.503 +03:00 [INF] HTTP GET /chathub responded 200 in 1313.1783 ms
2025-08-10 13:57:56.503 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823475183 - 200 44 application/octet-stream 1313.5343ms
2025-08-10 13:57:56.506 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:57:56.507 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:56.507 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.7455ms
2025-08-10 13:57:56.512 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:57:56.513 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:57:56.513 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:56.513 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:57:56.513 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:57:56.517 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823476513 - null null
2025-08-10 13:57:56.517 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:56.517 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823476513 - 204 null null 0.2995ms
2025-08-10 13:57:56.519 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823476513 - null null
2025-08-10 13:57:56.520 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:57:56.520 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:57:56.520 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:57:56.528 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:57:56.528 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:57:56.528 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 14.9474ms
2025-08-10 13:57:56.528 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:57:56.529 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 15.2740 ms
2025-08-10 13:57:56.529 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 15.6193ms
2025-08-10 13:57:56.600 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 13:57:56.600 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:57:56.600 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 97.3553ms
2025-08-10 13:57:56.600 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:57:56.600 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 97.7426 ms
2025-08-10 13:57:56.600 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 97.9619ms
2025-08-10 13:59:24.050 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:59:24.050 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:24.050 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2886ms
2025-08-10 13:59:24.054 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:59:24.054 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:24.055 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:59:24.055 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:59:24.063 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:59:24.073 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:59:24.074 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:59:24.074 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 18.9134ms
2025-08-10 13:59:24.074 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:59:24.074 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 19.5247 ms
2025-08-10 13:59:24.074 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 19.9249ms
2025-08-10 13:59:26.531 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:59:26.532 +03:00 [INF] HTTP GET /chathub responded 200 in 90011.9603 ms
2025-08-10 13:59:26.532 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823476513 - 200 0 text/plain 90012.2888ms
2025-08-10 13:59:26.538 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823566536 - null null
2025-08-10 13:59:26.538 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:26.539 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823566536 - 204 null null 0.1625ms
2025-08-10 13:59:26.542 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823566536 - null null
2025-08-10 13:59:26.542 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:26.542 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:59:37.091 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:59:37.091 +03:00 [INF] HTTP GET /chathub responded 200 in 10548.8382 ms
2025-08-10 13:59:37.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=eXSGWuml04umhm-xRlWAXg&_=1754823566536 - 499 null null 10549.1741ms
2025-08-10 13:59:37.512 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:59:37.512 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.512 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2184ms
2025-08-10 13:59:37.519 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:59:37.519 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.519 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2038ms
2025-08-10 13:59:37.530 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:59:37.530 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.531 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:59:37.531 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:59:37.531 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.531 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:59:37.531 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 13:59:37.531 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:59:37.531 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.6689 ms
2025-08-10 13:59:37.531 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8289ms
2025-08-10 13:59:37.538 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=UkHC0V6RSHPMIQOE8AQAfw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 13:59:37.538 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.538 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:59:37.538 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:59:37.538 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1108 ms
2025-08-10 13:59:37.538 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=UkHC0V6RSHPMIQOE8AQAfw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.2476ms
2025-08-10 13:59:37.538 +03:00 [INF] Connection id "0HNEN4JCDLMSD", Request id "0HNEN4JCDLMSD:00000059": the application completed without reading the entire request body.
2025-08-10 13:59:37.541 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:59:37.542 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:59:37.542 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.542 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1203ms
2025-08-10 13:59:37.543 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:59:37.543 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.543 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:59:37.543 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:59:37.543 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1587 ms
2025-08-10 13:59:37.543 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.2846ms
2025-08-10 13:59:37.547 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=fV-4RsIoTsGWzNywNE8JCQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 13:59:37.547 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.547 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 13:59:37.547 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 13:59:37.547 +03:00 [INF] HTTP GET /chathub responded 401 in 0.0936 ms
2025-08-10 13:59:37.547 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=fV-4RsIoTsGWzNywNE8JCQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.2677ms
2025-08-10 13:59:37.552 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 13:59:37.552 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.552 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1311ms
2025-08-10 13:59:37.554 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 13:59:37.554 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.554 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 13:59:37.554 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 13:59:37.554 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1829 ms
2025-08-10 13:59:37.554 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.326ms
2025-08-10 13:59:37.557 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823577555 - null null
2025-08-10 13:59:37.557 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.557 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823577555 - 204 null null 0.1171ms
2025-08-10 13:59:37.561 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823577555 - null null
2025-08-10 13:59:37.561 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.561 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:59:37.561 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:59:37.561 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3070 ms
2025-08-10 13:59:37.561 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823577555 - 200 0 application/octet-stream 0.5124ms
2025-08-10 13:59:37.562 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 13:59:37.562 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:59:37.562 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 31.2391ms
2025-08-10 13:59:37.562 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 13:59:37.562 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 31.3867 ms
2025-08-10 13:59:37.562 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 31.5047ms
2025-08-10 13:59:37.565 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823577563 - null null
2025-08-10 13:59:37.565 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.565 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823577563 - 204 null null 0.1542ms
2025-08-10 13:59:37.565 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw - null null
2025-08-10 13:59:37.565 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.565 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw - 204 null null 0.0453ms
2025-08-10 13:59:37.568 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw - text/plain;charset=UTF-8 32
2025-08-10 13:59:37.568 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823577563 - null null
2025-08-10 13:59:37.568 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.568 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.568 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:59:37.568 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:59:37.568 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:59:37.568 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2290 ms
2025-08-10 13:59:37.568 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw - 200 0 text/plain 0.4702ms
2025-08-10 13:59:37.570 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:59:37.570 +03:00 [INF] HTTP GET /chathub responded 200 in 2.2961 ms
2025-08-10 13:59:37.570 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823577563 - 200 3 application/octet-stream 2.4874ms
2025-08-10 13:59:37.577 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823577576 - null null
2025-08-10 13:59:37.578 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.578 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823577576 - 204 null null 0.1504ms
2025-08-10 13:59:37.579 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823577576 - null null
2025-08-10 13:59:37.579 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:37.580 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:59:38.534 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 13:59:38.534 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:38.534 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2373ms
2025-08-10 13:59:38.535 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw - null null
2025-08-10 13:59:38.535 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:38.535 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw - 204 null null 0.1594ms
2025-08-10 13:59:38.538 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw - text/plain;charset=UTF-8 103
2025-08-10 13:59:38.538 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:38.538 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 13:59:38.538 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:38.538 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:59:38.538 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:59:38.539 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:59:38.539 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3351 ms
2025-08-10 13:59:38.539 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 13:59:38.539 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw - 200 0 text/plain 0.621ms
2025-08-10 13:59:38.540 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 13:59:38.540 +03:00 [INF] HTTP GET /chathub responded 200 in 960.1945 ms
2025-08-10 13:59:38.540 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823577576 - 200 44 application/octet-stream 960.5842ms
2025-08-10 13:59:38.545 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:59:38.548 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 13:59:38.549 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:38.549 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3028ms
2025-08-10 13:59:38.552 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 13:59:38.552 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:38.552 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:59:38.552 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 13:59:38.559 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823578555 - null null
2025-08-10 13:59:38.560 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:38.560 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823578555 - 204 null null 0.3825ms
2025-08-10 13:59:38.560 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 13:59:38.565 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823578555 - null null
2025-08-10 13:59:38.565 +03:00 [INF] CORS policy execution successful.
2025-08-10 13:59:38.565 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 13:59:38.568 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 13:59:38.569 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:59:38.569 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 16.3331ms
2025-08-10 13:59:38.569 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 13:59:38.569 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 16.7863 ms
2025-08-10 13:59:38.569 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 17.2094ms
2025-08-10 13:59:38.617 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 13:59:38.618 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 13:59:38.618 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 79.2109ms
2025-08-10 13:59:38.618 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 13:59:38.618 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 79.5190 ms
2025-08-10 13:59:38.618 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 79.8003ms
2025-08-10 14:00:22.423 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:00:22.423 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:22.423 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3421ms
2025-08-10 14:00:22.429 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:00:22.429 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:22.430 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:00:22.430 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:00:22.434 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:00:22.436 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:00:22.436 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:00:22.437 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 6.4164ms
2025-08-10 14:00:22.437 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:00:22.437 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 7.1341 ms
2025-08-10 14:00:22.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 7.5937ms
2025-08-10 14:00:40.886 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:00:40.886 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:40.886 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2985ms
2025-08-10 14:00:40.890 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:00:40.890 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:40.891 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:00:40.891 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:00:40.898 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:00:40.905 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:00:40.906 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:00:40.906 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 15.3333ms
2025-08-10 14:00:40.906 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:00:40.906 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 15.6691 ms
2025-08-10 14:00:40.907 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 16.4656ms
2025-08-10 14:00:47.294 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:00:47.294 +03:00 [INF] HTTP GET /chathub responded 200 in 68728.8471 ms
2025-08-10 14:00:47.294 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=2AJIzNIGgHw9jF1tSYfyNw&_=1754823578555 - 499 null null 68729.2797ms
2025-08-10 14:00:47.507 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:00:47.507 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.508 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.4226ms
2025-08-10 14:00:47.516 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:00:47.516 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.516 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2002ms
2025-08-10 14:00:47.534 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:00:47.534 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.534 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:00:47.535 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:00:47.542 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:00:47.543 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:00:47.544 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.544 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:00:47.544 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:00:47.544 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4966 ms
2025-08-10 14:00:47.544 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7609ms
2025-08-10 14:00:47.560 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=XfwBbtCIfcNwmJutgUNN3g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:00:47.560 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.560 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:00:47.560 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:00:47.560 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1020 ms
2025-08-10 14:00:47.560 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=XfwBbtCIfcNwmJutgUNN3g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.275ms
2025-08-10 14:00:47.560 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:00:47.560 +03:00 [INF] Connection id "0HNEN4JCDLMSD", Request id "0HNEN4JCDLMSD:0000006F": the application completed without reading the entire request body.
2025-08-10 14:00:47.560 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:00:47.560 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 25.4932ms
2025-08-10 14:00:47.560 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:00:47.560 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 25.8443 ms
2025-08-10 14:00:47.560 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 26.1043ms
2025-08-10 14:00:47.568 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:00:47.568 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.568 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1184ms
2025-08-10 14:00:47.569 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:00:47.570 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.570 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:00:47.570 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:00:47.570 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2217 ms
2025-08-10 14:00:47.570 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.3915ms
2025-08-10 14:00:47.576 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=fvefMPJPBUzInuatSARjag&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:00:47.577 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.577 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:00:47.577 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:00:47.577 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1455 ms
2025-08-10 14:00:47.577 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=fvefMPJPBUzInuatSARjag&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 1.032ms
2025-08-10 14:00:47.583 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:00:47.583 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.583 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1372ms
2025-08-10 14:00:47.586 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:00:47.586 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.586 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:00:47.586 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:00:47.586 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2385 ms
2025-08-10 14:00:47.587 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4361ms
2025-08-10 14:00:47.590 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823647588 - null null
2025-08-10 14:00:47.590 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.590 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823647588 - 204 null null 0.1063ms
2025-08-10 14:00:47.591 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823647588 - null null
2025-08-10 14:00:47.591 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.591 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:00:47.592 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:00:47.592 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4053 ms
2025-08-10 14:00:47.592 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823647588 - 200 0 application/octet-stream 0.5759ms
2025-08-10 14:00:47.596 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823647594 - null null
2025-08-10 14:00:47.596 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg - null null
2025-08-10 14:00:47.597 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.597 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.597 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg - 204 null null 0.2482ms
2025-08-10 14:00:47.597 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823647594 - 204 null null 0.2424ms
2025-08-10 14:00:47.599 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg - text/plain;charset=UTF-8 32
2025-08-10 14:00:47.599 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823647594 - null null
2025-08-10 14:00:47.600 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.600 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.600 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:00:47.600 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:00:47.600 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:00:47.600 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3887 ms
2025-08-10 14:00:47.600 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg - 200 0 text/plain 0.6814ms
2025-08-10 14:00:47.601 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:00:47.601 +03:00 [INF] HTTP GET /chathub responded 200 in 1.0580 ms
2025-08-10 14:00:47.601 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823647594 - 200 3 application/octet-stream 1.3431ms
2025-08-10 14:00:47.605 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823647604 - null null
2025-08-10 14:00:47.605 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.605 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823647604 - 204 null null 0.1635ms
2025-08-10 14:00:47.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823647604 - null null
2025-08-10 14:00:47.608 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:47.608 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:00:48.209 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:00:48.209 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg - null null
2025-08-10 14:00:48.209 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:48.210 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:48.210 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg - 204 null null 0.4468ms
2025-08-10 14:00:48.210 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.4523ms
2025-08-10 14:00:48.215 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:00:48.215 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:48.216 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg - text/plain;charset=UTF-8 103
2025-08-10 14:00:48.216 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:00:48.216 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:48.216 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:00:48.217 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:00:48.216 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:00:48.217 +03:00 [INF] HTTP POST /chathub responded 200 in 0.6050 ms
2025-08-10 14:00:48.217 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg - 200 0 text/plain 1.0206ms
2025-08-10 14:00:48.218 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:00:48.218 +03:00 [INF] HTTP GET /chathub responded 200 in 609.9458 ms
2025-08-10 14:00:48.218 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823647604 - 200 44 application/octet-stream 610.4586ms
2025-08-10 14:00:48.218 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:00:48.218 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:48.219 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.6142ms
2025-08-10 14:00:48.223 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:00:48.223 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:48.223 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:00:48.223 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:00:48.224 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:00:48.227 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823648224 - null null
2025-08-10 14:00:48.227 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:48.227 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823648224 - 204 null null 0.2395ms
2025-08-10 14:00:48.228 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:00:48.231 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:00:48.231 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:00:48.232 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 8.2201ms
2025-08-10 14:00:48.232 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:00:48.232 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 9.2263 ms
2025-08-10 14:00:48.233 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 9.7888ms
2025-08-10 14:00:48.239 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823648224 - null null
2025-08-10 14:00:48.240 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:00:48.240 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:00:48.300 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:00:48.300 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:00:48.300 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 83.6491ms
2025-08-10 14:00:48.300 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:00:48.301 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 85.0160 ms
2025-08-10 14:00:48.301 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 85.4043ms
2025-08-10 14:01:06.332 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:01:06.332 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:06.332 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2431ms
2025-08-10 14:01:06.335 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:01:06.335 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:06.336 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:06.336 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:01:06.338 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:06.340 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:01:06.340 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:06.340 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 4.6419ms
2025-08-10 14:01:06.341 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:06.341 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 5.1767 ms
2025-08-10 14:01:06.341 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 5.4118ms
2025-08-10 14:01:08.860 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:08.861 +03:00 [INF] HTTP GET /chathub responded 200 in 20620.9249 ms
2025-08-10 14:01:08.861 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ZpBybmADIp2OsaRlZ9o3Eg&_=1754823648224 - 499 null null 20621.3975ms
2025-08-10 14:01:09.066 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:01:09.066 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:01:09.067 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.067 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.067 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2025ms
2025-08-10 14:01:09.067 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2462ms
2025-08-10 14:01:09.083 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:01:09.083 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.084 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:01:09.084 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:01:09.084 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.8927 ms
2025-08-10 14:01:09.084 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.4176ms
2025-08-10 14:01:09.085 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:01:09.085 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.086 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:01:09.086 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:01:09.087 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:09.089 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:01:09.089 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:09.089 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 3.4454ms
2025-08-10 14:01:09.089 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:01:09.089 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 3.7855 ms
2025-08-10 14:01:09.089 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.0908ms
2025-08-10 14:01:09.093 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=Uh53ogwsgUEKvxvnOHBi1Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:01:09.093 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.093 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:01:09.094 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:01:09.094 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.3159 ms
2025-08-10 14:01:09.094 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=Uh53ogwsgUEKvxvnOHBi1Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.8342ms
2025-08-10 14:01:09.094 +03:00 [INF] Connection id "0HNEN4JCDLMSD", Request id "0HNEN4JCDLMSD:00000085": the application completed without reading the entire request body.
2025-08-10 14:01:09.104 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:01:09.104 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.104 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1765ms
2025-08-10 14:01:09.106 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:01:09.107 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.107 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:01:09.107 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:01:09.107 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.9195 ms
2025-08-10 14:01:09.108 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.1523ms
2025-08-10 14:01:09.116 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=vpToqPohLG9QkOuCfEsg8Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:01:09.116 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.116 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:01:09.116 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:01:09.116 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1386 ms
2025-08-10 14:01:09.116 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=vpToqPohLG9QkOuCfEsg8Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.3784ms
2025-08-10 14:01:09.120 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:01:09.120 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.120 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1983ms
2025-08-10 14:01:09.123 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:01:09.123 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.123 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:01:09.123 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:01:09.123 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1546 ms
2025-08-10 14:01:09.123 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.2788ms
2025-08-10 14:01:09.128 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669125 - null null
2025-08-10 14:01:09.128 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.128 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669125 - 204 null null 0.5425ms
2025-08-10 14:01:09.131 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669125 - null null
2025-08-10 14:01:09.131 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.131 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:09.132 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:09.132 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2316 ms
2025-08-10 14:01:09.132 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669125 - 200 0 application/octet-stream 0.3787ms
2025-08-10 14:01:09.137 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669134 - null null
2025-08-10 14:01:09.137 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw - null null
2025-08-10 14:01:09.137 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.137 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.137 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw - 204 null null 0.0868ms
2025-08-10 14:01:09.137 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669134 - 204 null null 0.1187ms
2025-08-10 14:01:09.141 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw - text/plain;charset=UTF-8 32
2025-08-10 14:01:09.141 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.141 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:09.141 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:09.141 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669134 - null null
2025-08-10 14:01:09.141 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1458 ms
2025-08-10 14:01:09.141 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.141 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw - 200 0 text/plain 0.3114ms
2025-08-10 14:01:09.141 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:09.141 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:09.141 +03:00 [INF] HTTP GET /chathub responded 200 in 0.1617 ms
2025-08-10 14:01:09.141 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669134 - 200 3 application/octet-stream 0.277ms
2025-08-10 14:01:09.150 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669147 - null null
2025-08-10 14:01:09.150 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.150 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669147 - 204 null null 0.1197ms
2025-08-10 14:01:09.153 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669147 - null null
2025-08-10 14:01:09.153 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.153 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:09.802 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:01:09.802 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw - null null
2025-08-10 14:01:09.802 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.803 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.803 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2422ms
2025-08-10 14:01:09.803 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw - 204 null null 0.2581ms
2025-08-10 14:01:09.808 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw - text/plain;charset=UTF-8 103
2025-08-10 14:01:09.809 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.809 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:09.809 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:01:09.809 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.809 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:01:09.810 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.810 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:01:09.810 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:01:09.810 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:09.810 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:09.810 +03:00 [INF] HTTP POST /chathub responded 200 in 1.4625 ms
2025-08-10 14:01:09.810 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:01:09.810 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw - 200 0 text/plain 2.1482ms
2025-08-10 14:01:09.811 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:09.812 +03:00 [INF] HTTP GET /chathub responded 200 in 658.1676 ms
2025-08-10 14:01:09.812 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669147 - 200 44 application/octet-stream 658.8078ms
2025-08-10 14:01:09.814 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:09.814 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:09.816 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:01:09.817 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:09.817 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 6.6597ms
2025-08-10 14:01:09.817 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:09.817 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 7.3399 ms
2025-08-10 14:01:09.817 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 7.7709ms
2025-08-10 14:01:09.819 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:01:09.820 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:09.820 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 9.8573ms
2025-08-10 14:01:09.820 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:01:09.820 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 10.4142 ms
2025-08-10 14:01:09.820 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 10.8238ms
2025-08-10 14:01:09.822 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669818 - null null
2025-08-10 14:01:09.822 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.822 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669818 - 204 null null 0.3713ms
2025-08-10 14:01:09.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669818 - null null
2025-08-10 14:01:09.829 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:09.830 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:14.377 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:01:14.378 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:14.378 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.431ms
2025-08-10 14:01:14.416 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:01:14.416 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:14.417 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:01:14.417 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:01:14.423 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:14.425 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:01:14.426 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:14.426 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 9.2671ms
2025-08-10 14:01:14.426 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:01:14.426 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 10.1458 ms
2025-08-10 14:01:14.426 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 10.6435ms
2025-08-10 14:01:15.153 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw - null null
2025-08-10 14:01:15.153 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:01:15.153 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:15.153 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:15.153 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw - 204 null null 0.3427ms
2025-08-10 14:01:15.153 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.3824ms
2025-08-10 14:01:15.157 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw - text/plain;charset=UTF-8 103
2025-08-10 14:01:15.158 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:15.157 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:01:15.158 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:15.158 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3969ms
2025-08-10 14:01:15.158 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:15.158 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:15.158 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3663 ms
2025-08-10 14:01:15.158 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw - 200 0 text/plain 0.7992ms
2025-08-10 14:01:15.158 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:01:15.159 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:15.159 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:15.159 +03:00 [INF] HTTP GET /chathub responded 200 in 5329.7419 ms
2025-08-10 14:01:15.159 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823669818 - 200 44 application/octet-stream 5330.0781ms
2025-08-10 14:01:15.159 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:01:15.159 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:01:15.162 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:15.163 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:01:15.164 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:15.164 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:15.164 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:01:15.168 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:15.169 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:01:15.170 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823675166 - null null
2025-08-10 14:01:15.170 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:01:15.170 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:15.171 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823675166 - 204 null null 0.5695ms
2025-08-10 14:01:15.171 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:15.171 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:15.171 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 7.0974ms
2025-08-10 14:01:15.172 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:15.172 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 7.8968 ms
2025-08-10 14:01:15.172 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 12.3424ms
2025-08-10 14:01:15.172 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 8.4282ms
2025-08-10 14:01:15.172 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:01:15.172 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 13.0803 ms
2025-08-10 14:01:15.172 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 13.9274ms
2025-08-10 14:01:15.178 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823675166 - null null
2025-08-10 14:01:15.179 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:15.180 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:33.763 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:01:33.763 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:33.763 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1317ms
2025-08-10 14:01:33.766 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:01:33.767 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:33.767 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:33.767 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:01:33.770 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:33.772 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:01:33.772 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:33.772 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 5.5927ms
2025-08-10 14:01:33.772 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:33.772 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 5.8572 ms
2025-08-10 14:01:33.773 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 6.3626ms
2025-08-10 14:01:36.121 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:36.122 +03:00 [INF] HTTP GET /chathub responded 200 in 20942.1461 ms
2025-08-10 14:01:36.122 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=_54NH9TMW8ae4plRCAlFZw&_=1754823675166 - 499 null null 20944.0469ms
2025-08-10 14:01:36.357 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:01:36.357 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.357 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1834ms
2025-08-10 14:01:36.361 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:01:36.362 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.362 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2131ms
2025-08-10 14:01:36.380 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:01:36.380 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.380 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:01:36.380 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:01:36.380 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3048 ms
2025-08-10 14:01:36.381 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6226ms
2025-08-10 14:01:36.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:01:36.384 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.384 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:01:36.384 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:01:36.387 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:36.388 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:01:36.388 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:36.389 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 4.2509ms
2025-08-10 14:01:36.389 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:01:36.389 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 4.4913 ms
2025-08-10 14:01:36.389 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.8151ms
2025-08-10 14:01:36.391 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=WTkrDXBba94WvIk3ykQYYw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:01:36.391 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.391 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:01:36.391 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:01:36.391 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.0943 ms
2025-08-10 14:01:36.391 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=WTkrDXBba94WvIk3ykQYYw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.2321ms
2025-08-10 14:01:36.391 +03:00 [INF] Connection id "0HNEN4JCDLMSD", Request id "0HNEN4JCDLMSD:0000009F": the application completed without reading the entire request body.
2025-08-10 14:01:36.397 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:01:36.397 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.397 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1423ms
2025-08-10 14:01:36.399 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:01:36.399 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.399 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:01:36.400 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:01:36.400 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2729 ms
2025-08-10 14:01:36.400 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.473ms
2025-08-10 14:01:36.406 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=XSg7YEU3JUfxi0tVXgxOGw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:01:36.406 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.406 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:01:36.406 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:01:36.406 +03:00 [INF] HTTP GET /chathub responded 401 in 0.0785 ms
2025-08-10 14:01:36.406 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=XSg7YEU3JUfxi0tVXgxOGw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.2587ms
2025-08-10 14:01:36.409 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:01:36.409 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.409 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1242ms
2025-08-10 14:01:36.411 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:01:36.411 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.412 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:01:36.412 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:01:36.412 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3307 ms
2025-08-10 14:01:36.412 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4164ms
2025-08-10 14:01:36.417 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823696414 - null null
2025-08-10 14:01:36.417 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.418 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823696414 - 204 null null 0.2476ms
2025-08-10 14:01:36.420 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823696414 - null null
2025-08-10 14:01:36.420 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.421 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:36.421 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:36.421 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4935 ms
2025-08-10 14:01:36.421 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823696414 - 200 0 application/octet-stream 0.6771ms
2025-08-10 14:01:36.427 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823696423 - null null
2025-08-10 14:01:36.427 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.427 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q - null null
2025-08-10 14:01:36.427 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823696423 - 204 null null 0.1678ms
2025-08-10 14:01:36.427 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.427 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q - 204 null null 0.0702ms
2025-08-10 14:01:36.431 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q - text/plain;charset=UTF-8 32
2025-08-10 14:01:36.431 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.431 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:36.431 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:36.431 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1819 ms
2025-08-10 14:01:36.431 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q - 200 0 text/plain 0.3119ms
2025-08-10 14:01:36.431 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823696423 - null null
2025-08-10 14:01:36.432 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.432 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:36.432 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:36.432 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2374 ms
2025-08-10 14:01:36.432 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823696423 - 200 3 application/octet-stream 0.4138ms
2025-08-10 14:01:36.440 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823696436 - null null
2025-08-10 14:01:36.440 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.440 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823696436 - 204 null null 0.1062ms
2025-08-10 14:01:36.442 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823696436 - null null
2025-08-10 14:01:36.442 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:36.442 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:37.019 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:01:37.019 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q - null null
2025-08-10 14:01:37.019 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:37.019 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:37.020 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.4847ms
2025-08-10 14:01:37.020 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q - 204 null null 0.5914ms
2025-08-10 14:01:37.024 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q - text/plain;charset=UTF-8 103
2025-08-10 14:01:37.024 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:37.025 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:01:37.025 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:37.025 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:37.025 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:37.025 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:01:37.025 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4055 ms
2025-08-10 14:01:37.025 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:01:37.025 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q - 200 0 text/plain 1.3328ms
2025-08-10 14:01:37.028 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:37.028 +03:00 [INF] HTTP GET /chathub responded 200 in 585.9846 ms
2025-08-10 14:01:37.028 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823696436 - 200 44 application/octet-stream 586.2116ms
2025-08-10 14:01:37.029 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:01:37.030 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:37.030 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:37.030 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:01:37.039 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823697034 - null null
2025-08-10 14:01:37.039 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:37.039 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823697034 - 204 null null 0.2735ms
2025-08-10 14:01:37.042 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:37.043 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:37.044 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823697034 - null null
2025-08-10 14:01:37.044 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:37.044 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:37.053 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:01:37.054 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:37.054 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 24.0605ms
2025-08-10 14:01:37.054 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:37.054 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 24.5735 ms
2025-08-10 14:01:37.054 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 25.1554ms
2025-08-10 14:01:37.127 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:01:37.128 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:37.128 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 102.304ms
2025-08-10 14:01:37.128 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:01:37.128 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 102.7269 ms
2025-08-10 14:01:37.128 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 103.036ms
2025-08-10 14:01:43.123 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:01:43.124 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:43.124 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2386ms
2025-08-10 14:01:43.137 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:01:43.137 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:43.137 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2386ms
2025-08-10 14:01:43.156 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:01:43.156 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:43.157 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:01:43.157 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:01:43.161 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:01:43.162 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:43.162 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:43.162 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:01:43.164 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:43.169 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:43.174 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:01:43.174 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:43.174 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 12.219ms
2025-08-10 14:01:43.174 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:43.174 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 12.7683 ms
2025-08-10 14:01:43.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 13.1677ms
2025-08-10 14:01:43.185 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:01:43.186 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:43.186 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 29.2672ms
2025-08-10 14:01:43.186 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:01:43.186 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 29.8783 ms
2025-08-10 14:01:43.186 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 30.2403ms
2025-08-10 14:01:46.481 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:01:46.481 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:46.481 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:01:46.481 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:01:46.482 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:46.485 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:01:46.486 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:46.486 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 5.3557ms
2025-08-10 14:01:46.487 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:01:46.487 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 6.1463 ms
2025-08-10 14:01:46.487 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 6.4924ms
2025-08-10 14:01:49.661 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:01:49.661 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q - null null
2025-08-10 14:01:49.662 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:49.662 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:49.662 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q - 204 null null 0.62ms
2025-08-10 14:01:49.662 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.5616ms
2025-08-10 14:01:49.663 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:01:49.663 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:49.663 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3695ms
2025-08-10 14:01:49.665 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q - text/plain;charset=UTF-8 103
2025-08-10 14:01:49.665 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:49.665 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:49.665 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:49.665 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:01:49.665 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2104 ms
2025-08-10 14:01:49.665 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:49.665 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q - 200 0 text/plain 0.4543ms
2025-08-10 14:01:49.666 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:01:49.666 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:01:49.666 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:01:49.666 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:49.666 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:01:49.666 +03:00 [INF] HTTP GET /chathub responded 200 in 12622.4319 ms
2025-08-10 14:01:49.666 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823697034 - 200 44 application/octet-stream 12622.6779ms
2025-08-10 14:01:49.667 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:49.667 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:01:49.669 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:49.672 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:01:49.672 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:49.672 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 5.5005ms
2025-08-10 14:01:49.672 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:01:49.672 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 6.0825 ms
2025-08-10 14:01:49.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 6.8459ms
2025-08-10 14:01:49.674 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:01:49.678 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823709675 - null null
2025-08-10 14:01:49.678 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:49.678 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823709675 - 204 null null 0.3052ms
2025-08-10 14:01:49.682 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823709675 - null null
2025-08-10 14:01:49.683 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:01:49.683 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:01:49.746 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:01:49.746 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:01:49.746 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 80.0869ms
2025-08-10 14:01:49.746 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:01:49.746 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 80.7906 ms
2025-08-10 14:01:49.746 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 80.9304ms
2025-08-10 14:02:36.062 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:02:36.062 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:36.062 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.4469ms
2025-08-10 14:02:36.065 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:02:36.065 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:36.065 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:02:36.066 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:02:36.068 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:02:36.069 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:02:36.069 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:02:36.069 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 3.9186ms
2025-08-10 14:02:36.069 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:02:36.069 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 4.2886 ms
2025-08-10 14:02:36.070 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.4943ms
2025-08-10 14:02:38.426 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:02:38.426 +03:00 [INF] HTTP GET /chathub responded 200 in 48742.7729 ms
2025-08-10 14:02:38.426 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=duT-kGy_cqceb5u3G-hX6Q&_=1754823709675 - 499 null null 48743.3169ms
2025-08-10 14:02:38.642 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:02:38.642 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.642 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.3427ms
2025-08-10 14:02:38.658 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:02:38.658 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.658 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2527ms
2025-08-10 14:02:38.663 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:02:38.663 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.663 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:02:38.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:02:38.664 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.664 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:02:38.664 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.6563 ms
2025-08-10 14:02:38.664 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.9537ms
2025-08-10 14:02:38.664 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:02:38.664 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:02:38.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:02:38.668 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:02:38.668 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:02:38.669 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 4.7535ms
2025-08-10 14:02:38.669 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:02:38.669 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 5.1708 ms
2025-08-10 14:02:38.669 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 5.6305ms
2025-08-10 14:02:38.670 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=JFSd0C8tuI1BtwFl2IpTOg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:02:38.670 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.670 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:02:38.670 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:02:38.670 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1253 ms
2025-08-10 14:02:38.671 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=JFSd0C8tuI1BtwFl2IpTOg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.2877ms
2025-08-10 14:02:38.671 +03:00 [INF] Connection id "0HNEN4JCDLMSD", Request id "0HNEN4JCDLMSD:000000B9": the application completed without reading the entire request body.
2025-08-10 14:02:38.680 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:02:38.680 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.680 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1252ms
2025-08-10 14:02:38.682 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:02:38.682 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.682 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:02:38.682 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:02:38.682 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2844 ms
2025-08-10 14:02:38.682 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4344ms
2025-08-10 14:02:38.687 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=YauN1OF38JQZ-Q0gcMVt5Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:02:38.687 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.687 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:02:38.687 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:02:38.687 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1855 ms
2025-08-10 14:02:38.687 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=YauN1OF38JQZ-Q0gcMVt5Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.3762ms
2025-08-10 14:02:38.693 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:02:38.693 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.693 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1183ms
2025-08-10 14:02:38.696 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:02:38.696 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.696 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:02:38.696 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:02:38.696 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5578 ms
2025-08-10 14:02:38.697 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8472ms
2025-08-10 14:02:38.701 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823758699 - null null
2025-08-10 14:02:38.701 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.701 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823758699 - 204 null null 0.1111ms
2025-08-10 14:02:38.704 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823758699 - null null
2025-08-10 14:02:38.704 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.704 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:02:38.705 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:02:38.705 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3836 ms
2025-08-10 14:02:38.705 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823758699 - 200 0 application/octet-stream 0.5158ms
2025-08-10 14:02:38.713 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823758709 - null null
2025-08-10 14:02:38.713 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.713 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw - null null
2025-08-10 14:02:38.713 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823758709 - 204 null null 0.1273ms
2025-08-10 14:02:38.713 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.713 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw - 204 null null 0.4216ms
2025-08-10 14:02:38.717 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw - text/plain;charset=UTF-8 32
2025-08-10 14:02:38.717 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.717 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823758709 - null null
2025-08-10 14:02:38.717 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.717 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:02:38.717 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:02:38.717 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:02:38.717 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1609 ms
2025-08-10 14:02:38.717 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw - 200 0 text/plain 0.3323ms
2025-08-10 14:02:38.717 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:02:38.717 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3194 ms
2025-08-10 14:02:38.717 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823758709 - 200 3 application/octet-stream 0.5018ms
2025-08-10 14:02:38.724 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823758720 - null null
2025-08-10 14:02:38.724 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.724 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823758720 - 204 null null 0.2531ms
2025-08-10 14:02:38.726 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823758720 - null null
2025-08-10 14:02:38.727 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:38.727 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:02:40.328 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:02:40.328 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw - null null
2025-08-10 14:02:40.328 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:40.328 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:40.328 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw - 204 null null 0.3723ms
2025-08-10 14:02:40.328 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.4346ms
2025-08-10 14:02:40.332 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw - text/plain;charset=UTF-8 103
2025-08-10 14:02:40.332 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:40.333 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:02:40.333 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:02:40.333 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2624 ms
2025-08-10 14:02:40.333 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw - 200 0 text/plain 0.6979ms
2025-08-10 14:02:40.333 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:02:40.333 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:02:40.333 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:40.333 +03:00 [INF] HTTP GET /chathub responded 200 in 1606.7719 ms
2025-08-10 14:02:40.333 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823758720 - 200 44 application/octet-stream 1606.943ms
2025-08-10 14:02:40.334 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:02:40.334 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:02:40.336 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:02:40.337 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:02:40.337 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:40.337 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:02:40.337 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:02:40.341 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:02:40.341 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:02:40.341 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:02:40.342 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 8.0587ms
2025-08-10 14:02:40.342 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:02:40.342 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 8.5653 ms
2025-08-10 14:02:40.342 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 8.9482ms
2025-08-10 14:02:40.343 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:02:40.343 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:02:40.343 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 6.0688ms
2025-08-10 14:02:40.343 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:02:40.343 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 6.4612 ms
2025-08-10 14:02:40.343 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 6.8043ms
2025-08-10 14:02:40.346 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823760341 - null null
2025-08-10 14:02:40.346 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:40.346 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823760341 - 204 null null 0.3999ms
2025-08-10 14:02:40.352 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823760341 - null null
2025-08-10 14:02:40.353 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:02:40.353 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:03:41.588 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:03:41.588 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:41.588 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2019ms
2025-08-10 14:03:41.591 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:03:41.592 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:41.592 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:03:41.592 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:03:41.598 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:03:41.604 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:03:41.604 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:03:41.604 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 11.9955ms
2025-08-10 14:03:41.604 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:03:41.604 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 12.3498 ms
2025-08-10 14:03:41.604 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 12.6633ms
2025-08-10 14:03:51.231 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:03:51.231 +03:00 [INF] HTTP GET /chathub responded 200 in 70878.4246 ms
2025-08-10 14:03:51.233 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=j9RPqn8DTRN4aUvoHDkFSw&_=1754823760341 - 499 null null 70880.2802ms
2025-08-10 14:03:51.461 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:03:51.461 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.461 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2985ms
2025-08-10 14:03:51.465 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:03:51.466 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.466 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3631ms
2025-08-10 14:03:51.479 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:03:51.479 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.480 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:03:51.480 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:03:51.482 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:03:51.482 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.483 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:03:51.483 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:03:51.483 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4206 ms
2025-08-10 14:03:51.483 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6401ms
2025-08-10 14:03:51.485 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:03:51.493 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=Y5zotPzpNTK4VQHwygFl5A&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:03:51.493 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.493 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:03:51.493 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:03:51.493 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1336 ms
2025-08-10 14:03:51.493 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=Y5zotPzpNTK4VQHwygFl5A&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.3405ms
2025-08-10 14:03:51.493 +03:00 [INF] Connection id "0HNEN4JCDLMSD", Request id "0HNEN4JCDLMSD:000000CF": the application completed without reading the entire request body.
2025-08-10 14:03:51.497 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:03:51.497 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.497 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1778ms
2025-08-10 14:03:51.498 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:03:51.498 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.499 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:03:51.499 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:03:51.499 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2568 ms
2025-08-10 14:03:51.499 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4196ms
2025-08-10 14:03:51.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qPvF3etMhb4csqY9GtEvew&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:03:51.502 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.502 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:03:51.502 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:03:51.502 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1193 ms
2025-08-10 14:03:51.503 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qPvF3etMhb4csqY9GtEvew&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.4605ms
2025-08-10 14:03:51.504 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:03:51.504 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:03:51.504 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 24.5272ms
2025-08-10 14:03:51.504 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:03:51.504 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 24.9475 ms
2025-08-10 14:03:51.504 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 25.258ms
2025-08-10 14:03:51.506 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:03:51.506 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.506 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1314ms
2025-08-10 14:03:51.508 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:03:51.508 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.509 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:03:51.509 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:03:51.509 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3570 ms
2025-08-10 14:03:51.509 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5814ms
2025-08-10 14:03:51.514 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823831512 - null null
2025-08-10 14:03:51.514 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.514 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823831512 - 204 null null 0.2132ms
2025-08-10 14:03:51.515 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823831512 - null null
2025-08-10 14:03:51.515 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.516 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:03:51.516 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:03:51.516 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2758 ms
2025-08-10 14:03:51.516 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823831512 - 200 0 application/octet-stream 0.4046ms
2025-08-10 14:03:51.520 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823831518 - null null
2025-08-10 14:03:51.520 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw - null null
2025-08-10 14:03:51.520 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.520 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823831518 - 204 null null 0.1707ms
2025-08-10 14:03:51.520 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.520 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw - 204 null null 0.2334ms
2025-08-10 14:03:51.521 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw - text/plain;charset=UTF-8 32
2025-08-10 14:03:51.521 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.521 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823831518 - null null
2025-08-10 14:03:51.521 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.522 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:03:51.522 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:03:51.522 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2332 ms
2025-08-10 14:03:51.522 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw - 200 0 text/plain 0.4054ms
2025-08-10 14:03:51.522 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:03:51.522 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:03:51.522 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3060 ms
2025-08-10 14:03:51.522 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823831518 - 200 3 application/octet-stream 0.5345ms
2025-08-10 14:03:51.530 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823831527 - null null
2025-08-10 14:03:51.530 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.530 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823831527 - 204 null null 0.1872ms
2025-08-10 14:03:51.532 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823831527 - null null
2025-08-10 14:03:51.532 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:51.532 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:03:52.642 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:03:52.642 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:52.643 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.3508ms
2025-08-10 14:03:52.645 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw - null null
2025-08-10 14:03:52.646 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:52.646 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw - 204 null null 0.2929ms
2025-08-10 14:03:52.654 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw - text/plain;charset=UTF-8 103
2025-08-10 14:03:52.654 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:52.655 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:03:52.655 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:03:52.655 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:03:52.655 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:52.655 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:03:52.655 +03:00 [INF] HTTP POST /chathub responded 200 in 0.7007 ms
2025-08-10 14:03:52.655 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:03:52.656 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw - 200 0 text/plain 1.6165ms
2025-08-10 14:03:52.656 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:03:52.656 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:52.657 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 1.8847ms
2025-08-10 14:03:52.659 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:03:52.659 +03:00 [INF] HTTP GET /chathub responded 200 in 1126.5362 ms
2025-08-10 14:03:52.659 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823831527 - 200 44 application/octet-stream 1127.2133ms
2025-08-10 14:03:52.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:03:52.664 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:52.665 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:03:52.665 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:03:52.671 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:03:52.673 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823832668 - null null
2025-08-10 14:03:52.673 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:52.673 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823832668 - 204 null null 0.1823ms
2025-08-10 14:03:52.677 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823832668 - null null
2025-08-10 14:03:52.677 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:03:52.677 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:03:52.677 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:03:52.684 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:03:52.685 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:03:52.685 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 20.3732ms
2025-08-10 14:03:52.686 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:03:52.686 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 21.1543 ms
2025-08-10 14:03:52.686 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 22.1309ms
2025-08-10 14:03:52.747 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:03:52.747 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:03:52.747 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 91.6423ms
2025-08-10 14:03:52.747 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:03:52.747 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 92.1171 ms
2025-08-10 14:03:52.747 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 92.4603ms
2025-08-10 14:05:22.689 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:05:22.689 +03:00 [INF] HTTP GET /chathub responded 200 in 90012.2685 ms
2025-08-10 14:05:22.690 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823832668 - 200 0 text/plain 90012.7781ms
2025-08-10 14:05:22.700 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823922696 - null null
2025-08-10 14:05:22.700 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:05:22.700 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823922696 - 204 null null 0.334ms
2025-08-10 14:05:22.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823922696 - null null
2025-08-10 14:05:22.703 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:05:22.703 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:06:44.715 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:06:44.715 +03:00 [INF] HTTP GET /chathub responded 200 in 82011.7126 ms
2025-08-10 14:06:44.715 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=egfjGHXcbBtbMbLa6jHmWw&_=1754823922696 - 499 null null 82012.0165ms
2025-08-10 14:06:45.239 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:06:45.239 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.239 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.1905ms
2025-08-10 14:06:45.242 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:06:45.242 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.243 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:06:45.244 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:06:45.251 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:06:45.253 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:06:45.253 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.253 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2429ms
2025-08-10 14:06:45.256 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:06:45.256 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.257 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:06:45.257 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:06:45.257 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.9514 ms
2025-08-10 14:06:45.257 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.3107ms
2025-08-10 14:06:45.266 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=pZtFom8XGbEjPSNMFMU0eg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:06:45.266 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.266 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:06:45.266 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:06:45.266 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1548 ms
2025-08-10 14:06:45.266 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=pZtFom8XGbEjPSNMFMU0eg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.4117ms
2025-08-10 14:06:45.267 +03:00 [INF] Connection id "0HNEN4JCDLMSD", Request id "0HNEN4JCDLMSD:000000E7": the application completed without reading the entire request body.
2025-08-10 14:06:45.273 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:06:45.274 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:06:45.274 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 30.1317ms
2025-08-10 14:06:45.274 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:06:45.274 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 31.3433 ms
2025-08-10 14:06:45.274 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 31.7211ms
2025-08-10 14:06:45.274 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:06:45.274 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.274 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1458ms
2025-08-10 14:06:45.277 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:06:45.277 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.277 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:06:45.277 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:06:45.277 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3136 ms
2025-08-10 14:06:45.278 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6157ms
2025-08-10 14:06:45.291 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=emjrKc3_af8cJYoZ1Hcxiw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:06:45.291 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.291 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:06:45.291 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:06:45.291 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1065 ms
2025-08-10 14:06:45.291 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=emjrKc3_af8cJYoZ1Hcxiw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.3808ms
2025-08-10 14:06:45.297 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:06:45.297 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.297 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2675ms
2025-08-10 14:06:45.299 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:06:45.299 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.299 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:06:45.300 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:06:45.300 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1974 ms
2025-08-10 14:06:45.300 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.3953ms
2025-08-10 14:06:45.305 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824005302 - null null
2025-08-10 14:06:45.305 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.305 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824005302 - 204 null null 0.168ms
2025-08-10 14:06:45.307 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824005302 - null null
2025-08-10 14:06:45.307 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.308 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:06:45.308 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:06:45.308 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3544 ms
2025-08-10 14:06:45.308 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824005302 - 200 0 application/octet-stream 0.5094ms
2025-08-10 14:06:45.313 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg - null null
2025-08-10 14:06:45.313 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824005311 - null null
2025-08-10 14:06:45.313 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.313 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.313 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824005311 - 204 null null 0.3273ms
2025-08-10 14:06:45.313 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg - 204 null null 0.2259ms
2025-08-10 14:06:45.316 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg - text/plain;charset=UTF-8 32
2025-08-10 14:06:45.316 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.317 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:06:45.317 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:06:45.317 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2662 ms
2025-08-10 14:06:45.317 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg - 200 0 text/plain 0.4936ms
2025-08-10 14:06:45.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824005311 - null null
2025-08-10 14:06:45.317 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.318 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:06:45.318 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:06:45.318 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4955 ms
2025-08-10 14:06:45.318 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824005311 - 200 3 application/octet-stream 0.7237ms
2025-08-10 14:06:45.324 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824005322 - null null
2025-08-10 14:06:45.325 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.325 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824005322 - 204 null null 0.8501ms
2025-08-10 14:06:45.328 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824005322 - null null
2025-08-10 14:06:45.328 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:06:45.328 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:08:15.331 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:08:15.331 +03:00 [INF] HTTP GET /chathub responded 200 in 90003.2062 ms
2025-08-10 14:08:15.331 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824005322 - 200 0 text/plain 90003.5461ms
2025-08-10 14:08:15.348 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824095335 - null null
2025-08-10 14:08:15.348 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:15.349 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824095335 - 204 null null 0.1883ms
2025-08-10 14:08:15.354 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824095335 - null null
2025-08-10 14:08:15.355 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:15.355 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:08:20.714 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:08:20.715 +03:00 [INF] HTTP GET /chathub responded 200 in 5359.9874 ms
2025-08-10 14:08:20.715 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=LsAVOFenyiLvVNAzCNBPvg&_=1754824095335 - 499 null null 5360.2353ms
2025-08-10 14:08:21.724 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:08:21.724 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.724 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.3219ms
2025-08-10 14:08:21.729 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:08:21.729 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.730 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:08:21.730 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:08:21.734 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:08:21.734 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.734 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2341ms
2025-08-10 14:08:21.742 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:08:21.742 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.742 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:08:21.742 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:08:21.742 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4565 ms
2025-08-10 14:08:21.742 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:08:21.742 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.78ms
2025-08-10 14:08:21.773 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:08:21.773 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:08:21.773 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 43.0647ms
2025-08-10 14:08:21.773 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:08:21.773 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 43.8654 ms
2025-08-10 14:08:21.774 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 44.3396ms
2025-08-10 14:08:21.778 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=dQQGupUVzM_feMuKBQ-1sQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:08:21.778 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.779 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:08:21.779 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:08:21.779 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1940 ms
2025-08-10 14:08:21.779 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=dQQGupUVzM_feMuKBQ-1sQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.4903ms
2025-08-10 14:08:21.779 +03:00 [INF] Connection id "0HNEN4JCDLMSF", Request id "0HNEN4JCDLMSF:00000005": the application completed without reading the entire request body.
2025-08-10 14:08:21.801 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:08:21.801 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.801 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1827ms
2025-08-10 14:08:21.803 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:08:21.803 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.804 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:08:21.804 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:08:21.804 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2781 ms
2025-08-10 14:08:21.804 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.418ms
2025-08-10 14:08:21.811 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=3Esvk6G8a6fnY20tdTbG8w&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:08:21.811 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.811 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:08:21.811 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:08:21.811 +03:00 [INF] HTTP GET /chathub responded 401 in 0.0770 ms
2025-08-10 14:08:21.811 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=3Esvk6G8a6fnY20tdTbG8w&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.2913ms
2025-08-10 14:08:21.815 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:08:21.815 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.815 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1891ms
2025-08-10 14:08:21.816 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:08:21.816 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.817 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:08:21.817 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:08:21.817 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2322 ms
2025-08-10 14:08:21.817 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.3323ms
2025-08-10 14:08:21.823 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824101819 - null null
2025-08-10 14:08:21.823 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.823 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824101819 - 204 null null 0.3087ms
2025-08-10 14:08:21.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824101819 - null null
2025-08-10 14:08:21.825 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.825 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:08:21.825 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:08:21.825 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3030 ms
2025-08-10 14:08:21.825 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824101819 - 200 0 application/octet-stream 0.4703ms
2025-08-10 14:08:21.830 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824101828 - null null
2025-08-10 14:08:21.830 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.830 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824101828 - 204 null null 0.1823ms
2025-08-10 14:08:21.832 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw - null null
2025-08-10 14:08:21.832 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.832 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw - 204 null null 0.1348ms
2025-08-10 14:08:21.833 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824101828 - null null
2025-08-10 14:08:21.833 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.833 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:08:21.834 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw - text/plain;charset=UTF-8 32
2025-08-10 14:08:21.834 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.834 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:08:21.834 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:08:21.834 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2459 ms
2025-08-10 14:08:21.834 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw - 200 0 text/plain 0.419ms
2025-08-10 14:08:21.834 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:08:21.834 +03:00 [INF] HTTP GET /chathub responded 200 in 1.1160 ms
2025-08-10 14:08:21.834 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824101828 - 200 3 application/octet-stream 1.2215ms
2025-08-10 14:08:21.845 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824101843 - null null
2025-08-10 14:08:21.845 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.845 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824101843 - 204 null null 0.164ms
2025-08-10 14:08:21.847 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824101843 - null null
2025-08-10 14:08:21.847 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:21.848 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:08:23.208 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:08:23.208 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:23.209 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.3488ms
2025-08-10 14:08:23.209 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw - null null
2025-08-10 14:08:23.209 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:23.210 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw - 204 null null 0.4468ms
2025-08-10 14:08:23.214 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw - text/plain;charset=UTF-8 103
2025-08-10 14:08:23.214 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:08:23.214 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:23.215 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:23.215 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:08:23.215 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:08:23.215 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2479 ms
2025-08-10 14:08:23.215 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw - 200 0 text/plain 0.5479ms
2025-08-10 14:08:23.215 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:08:23.215 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:08:23.215 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:08:23.216 +03:00 [INF] HTTP GET /chathub responded 200 in 1368.0822 ms
2025-08-10 14:08:23.216 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824101843 - 200 44 application/octet-stream 1368.2513ms
2025-08-10 14:08:23.223 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:08:23.223 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:23.223 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3616ms
2025-08-10 14:08:23.224 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:08:23.230 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:08:23.230 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:23.231 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:08:23.231 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:08:23.244 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824103238 - null null
2025-08-10 14:08:23.244 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:23.244 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824103238 - 204 null null 0.3265ms
2025-08-10 14:08:23.244 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:08:23.249 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824103238 - null null
2025-08-10 14:08:23.249 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:08:23.252 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:08:23.255 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:08:23.256 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:08:23.257 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 26.2171ms
2025-08-10 14:08:23.257 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:08:23.257 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 26.7595 ms
2025-08-10 14:08:23.257 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 27.3208ms
2025-08-10 14:08:23.324 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:08:23.324 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:08:23.325 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 109.2141ms
2025-08-10 14:08:23.325 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:08:23.325 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 109.4908 ms
2025-08-10 14:08:23.325 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 110.3628ms
2025-08-10 14:09:44.515 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:09:44.515 +03:00 [INF] HTTP GET /chathub responded 200 in 81266.0937 ms
2025-08-10 14:09:44.515 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=U6mUizBK2VeVQSx8n8gYEw&_=1754824103238 - 499 null null 81266.7182ms
2025-08-10 14:09:45.269 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:09:45.269 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.269 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3152ms
2025-08-10 14:09:45.279 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:09:45.279 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.279 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.5036ms
2025-08-10 14:09:45.289 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:09:45.289 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.290 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:09:45.290 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:09:45.290 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.7686 ms
2025-08-10 14:09:45.290 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:09:45.290 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.1379ms
2025-08-10 14:09:45.291 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.292 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:09:45.292 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:09:45.308 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=GwHyoJ9qMEDRyrwz7Djgsw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:09:45.308 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.309 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:09:45.309 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:09:45.309 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 1.0404 ms
2025-08-10 14:09:45.309 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=GwHyoJ9qMEDRyrwz7Djgsw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 1.6361ms
2025-08-10 14:09:45.309 +03:00 [INF] Connection id "0HNEN4JCDLMSF", Request id "0HNEN4JCDLMSF:0000001B": the application completed without reading the entire request body.
2025-08-10 14:09:45.310 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:09:45.322 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:09:45.322 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.322 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2558ms
2025-08-10 14:09:45.325 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:09:45.325 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.325 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:09:45.325 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:09:45.325 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2642 ms
2025-08-10 14:09:45.325 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6418ms
2025-08-10 14:09:45.330 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=vhLotxqASBG9IyatRi4Y0Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:09:45.331 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.331 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:09:45.331 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:09:45.331 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1759 ms
2025-08-10 14:09:45.331 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=vhLotxqASBG9IyatRi4Y0Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.3636ms
2025-08-10 14:09:45.331 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:09:45.331 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:09:45.332 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 39.7847ms
2025-08-10 14:09:45.332 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:09:45.332 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 40.3046 ms
2025-08-10 14:09:45.332 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 41.5988ms
2025-08-10 14:09:45.337 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:09:45.337 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.337 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.6287ms
2025-08-10 14:09:45.340 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:09:45.340 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.340 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:09:45.340 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:09:45.340 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2488 ms
2025-08-10 14:09:45.340 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5005ms
2025-08-10 14:09:45.350 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824185346 - null null
2025-08-10 14:09:45.350 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.350 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824185346 - 204 null null 0.3222ms
2025-08-10 14:09:45.355 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824185346 - null null
2025-08-10 14:09:45.355 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.355 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:09:45.355 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:09:45.355 +03:00 [INF] HTTP GET /chathub responded 200 in 0.6553 ms
2025-08-10 14:09:45.356 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824185346 - 200 0 application/octet-stream 0.9684ms
2025-08-10 14:09:45.361 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824185359 - null null
2025-08-10 14:09:45.361 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.361 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824185359 - 204 null null 0.2026ms
2025-08-10 14:09:45.363 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA - null null
2025-08-10 14:09:45.363 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.363 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA - 204 null null 0.1439ms
2025-08-10 14:09:45.365 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824185359 - null null
2025-08-10 14:09:45.365 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.365 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA - text/plain;charset=UTF-8 32
2025-08-10 14:09:45.366 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.366 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:09:45.366 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:09:45.366 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:09:45.366 +03:00 [INF] HTTP POST /chathub responded 200 in 0.6999 ms
2025-08-10 14:09:45.366 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA - 200 0 text/plain 0.8775ms
2025-08-10 14:09:45.366 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:09:45.366 +03:00 [INF] HTTP GET /chathub responded 200 in 1.1080 ms
2025-08-10 14:09:45.366 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824185359 - 200 3 application/octet-stream 1.3981ms
2025-08-10 14:09:45.379 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824185375 - null null
2025-08-10 14:09:45.379 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.380 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824185375 - 204 null null 0.236ms
2025-08-10 14:09:45.382 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824185375 - null null
2025-08-10 14:09:45.382 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:45.383 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:09:46.191 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:09:46.191 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:46.191 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.3903ms
2025-08-10 14:09:46.195 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA - null null
2025-08-10 14:09:46.195 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:46.195 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA - 204 null null 0.5425ms
2025-08-10 14:09:46.199 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:09:46.199 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:46.200 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:09:46.200 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:09:46.200 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA - text/plain;charset=UTF-8 103
2025-08-10 14:09:46.201 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:46.202 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:09:46.202 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:09:46.202 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2913 ms
2025-08-10 14:09:46.202 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA - 200 0 text/plain 1.2373ms
2025-08-10 14:09:46.203 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:09:46.203 +03:00 [INF] HTTP GET /chathub responded 200 in 821.0491 ms
2025-08-10 14:09:46.204 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824185375 - 200 44 application/octet-stream 821.3148ms
2025-08-10 14:09:46.211 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:09:46.212 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:09:46.213 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:46.213 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2894ms
2025-08-10 14:09:46.220 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:09:46.220 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:46.221 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:09:46.221 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:09:46.231 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:09:46.239 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:09:46.239 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:09:46.239 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 18.4846ms
2025-08-10 14:09:46.239 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:09:46.239 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 19.3836 ms
2025-08-10 14:09:46.239 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 20.1041ms
2025-08-10 14:09:46.240 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824186230 - null null
2025-08-10 14:09:46.240 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:46.240 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824186230 - 204 null null 0.1924ms
2025-08-10 14:09:46.245 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824186230 - null null
2025-08-10 14:09:46.245 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:09:46.245 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:09:46.291 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:09:46.292 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:09:46.292 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 91.2401ms
2025-08-10 14:09:46.292 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:09:46.292 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 91.5402 ms
2025-08-10 14:09:46.292 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 92.6351ms
2025-08-10 14:10:56.489 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:10:56.489 +03:00 [INF] HTTP GET /chathub responded 200 in 70243.9019 ms
2025-08-10 14:10:56.489 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=9qDepgUCfrIX_KMBpu_2nA&_=1754824186230 - 499 null null 70244.2524ms
2025-08-10 14:10:57.290 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:10:57.290 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.290 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2352ms
2025-08-10 14:10:57.305 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:10:57.305 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.305 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1767ms
2025-08-10 14:10:57.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:10:57.310 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.310 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:10:57.310 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:10:57.310 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.310 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:10:57.311 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:10:57.311 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:10:57.311 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3384 ms
2025-08-10 14:10:57.311 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6991ms
2025-08-10 14:10:57.324 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:10:57.331 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=2toMaoFR4E7ewOX-M5Bx0g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:10:57.331 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.331 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:10:57.331 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:10:57.331 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.2181 ms
2025-08-10 14:10:57.331 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=2toMaoFR4E7ewOX-M5Bx0g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.5256ms
2025-08-10 14:10:57.331 +03:00 [INF] Connection id "0HNEN4JCDLMSF", Request id "0HNEN4JCDLMSF:00000031": the application completed without reading the entire request body.
2025-08-10 14:10:57.341 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:10:57.341 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:10:57.341 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 30.8568ms
2025-08-10 14:10:57.341 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:10:57.341 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 31.6259 ms
2025-08-10 14:10:57.342 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 31.9584ms
2025-08-10 14:10:57.358 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:10:57.359 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.359 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2654ms
2025-08-10 14:10:57.362 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:10:57.362 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.362 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:10:57.362 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:10:57.362 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4342 ms
2025-08-10 14:10:57.362 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.773ms
2025-08-10 14:10:57.397 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=jdhds40I8eVOkQn3JeB8qg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:10:57.397 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.397 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:10:57.398 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:10:57.398 +03:00 [INF] HTTP GET /chathub responded 401 in 0.9518 ms
2025-08-10 14:10:57.398 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=jdhds40I8eVOkQn3JeB8qg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 1.2614ms
2025-08-10 14:10:57.408 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:10:57.408 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.408 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2676ms
2025-08-10 14:10:57.411 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:10:57.411 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.412 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:10:57.412 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:10:57.412 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2833 ms
2025-08-10 14:10:57.412 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5154ms
2025-08-10 14:10:57.425 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824257419 - null null
2025-08-10 14:10:57.425 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.425 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824257419 - 204 null null 0.1854ms
2025-08-10 14:10:57.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824257419 - null null
2025-08-10 14:10:57.428 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.428 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:10:57.428 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:10:57.428 +03:00 [INF] HTTP GET /chathub responded 200 in 0.5372 ms
2025-08-10 14:10:57.428 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824257419 - 200 0 application/octet-stream 0.849ms
2025-08-10 14:10:57.439 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824257432 - null null
2025-08-10 14:10:57.440 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.440 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824257432 - 204 null null 0.2271ms
2025-08-10 14:10:57.444 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ - null null
2025-08-10 14:10:57.444 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.444 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ - 204 null null 0.2501ms
2025-08-10 14:10:57.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824257432 - null null
2025-08-10 14:10:57.445 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.445 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:10:57.450 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ - text/plain;charset=UTF-8 32
2025-08-10 14:10:57.450 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.451 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:10:57.452 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:10:57.452 +03:00 [INF] HTTP POST /chathub responded 200 in 1.1603 ms
2025-08-10 14:10:57.452 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ - 200 0 text/plain 1.5867ms
2025-08-10 14:10:57.452 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:10:57.452 +03:00 [INF] HTTP GET /chathub responded 200 in 6.8795 ms
2025-08-10 14:10:57.452 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824257432 - 200 3 application/octet-stream 7.1542ms
2025-08-10 14:10:57.474 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824257464 - null null
2025-08-10 14:10:57.474 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.474 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824257464 - 204 null null 0.2599ms
2025-08-10 14:10:57.478 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824257464 - null null
2025-08-10 14:10:57.478 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:57.478 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:10:58.114 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:10:58.114 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:58.115 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.7716ms
2025-08-10 14:10:58.118 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ - null null
2025-08-10 14:10:58.118 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:58.118 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ - 204 null null 0.2399ms
2025-08-10 14:10:58.119 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:10:58.119 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:58.119 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:10:58.119 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:10:58.121 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ - text/plain;charset=UTF-8 103
2025-08-10 14:10:58.121 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:58.121 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:10:58.121 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:10:58.121 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2671 ms
2025-08-10 14:10:58.121 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ - 200 0 text/plain 0.5192ms
2025-08-10 14:10:58.122 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:10:58.122 +03:00 [INF] HTTP GET /chathub responded 200 in 643.7726 ms
2025-08-10 14:10:58.122 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824257464 - 200 44 application/octet-stream 644.0787ms
2025-08-10 14:10:58.126 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:10:58.135 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:10:58.136 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:58.136 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1883ms
2025-08-10 14:10:58.140 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:10:58.140 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:58.140 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:10:58.140 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:10:58.148 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824258143 - null null
2025-08-10 14:10:58.149 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:58.149 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824258143 - 204 null null 1.3552ms
2025-08-10 14:10:58.149 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:10:58.156 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:10:58.156 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:10:58.156 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 16.2997ms
2025-08-10 14:10:58.156 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:10:58.156 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 16.6323 ms
2025-08-10 14:10:58.156 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 16.9321ms
2025-08-10 14:10:58.157 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824258143 - null null
2025-08-10 14:10:58.157 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:10:58.157 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:10:58.197 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:10:58.198 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:10:58.198 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 78.4829ms
2025-08-10 14:10:58.198 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:10:58.198 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 78.7803 ms
2025-08-10 14:10:58.198 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 79.0149ms
2025-08-10 14:11:07.686 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:11:07.686 +03:00 [INF] HTTP GET /chathub responded 200 in 9529.4108 ms
2025-08-10 14:11:07.686 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=VKpIaFa8cotE5TYhpgDAsQ&_=1754824258143 - 499 null null 9529.7038ms
2025-08-10 14:11:08.303 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:11:08.303 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.303 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2893ms
2025-08-10 14:11:08.308 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:11:08.308 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.309 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1723ms
2025-08-10 14:11:08.323 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:11:08.323 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.323 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:11:08.323 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:11:08.328 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:11:08.328 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:11:08.329 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.329 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:11:08.329 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:11:08.329 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3489 ms
2025-08-10 14:11:08.329 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6163ms
2025-08-10 14:11:08.339 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=XV-3YaQ1UvwOfxF4Lu8UhQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:11:08.339 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.339 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:11:08.340 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:11:08.340 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.2117 ms
2025-08-10 14:11:08.340 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=XV-3YaQ1UvwOfxF4Lu8UhQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.5763ms
2025-08-10 14:11:08.340 +03:00 [INF] Connection id "0HNEN4JCDLMSF", Request id "0HNEN4JCDLMSF:00000047": the application completed without reading the entire request body.
2025-08-10 14:11:08.345 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:11:08.345 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:11:08.345 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 21.5677ms
2025-08-10 14:11:08.345 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:11:08.345 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 22.0379 ms
2025-08-10 14:11:08.345 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 22.3848ms
2025-08-10 14:11:08.349 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:11:08.349 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.349 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2257ms
2025-08-10 14:11:08.352 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:11:08.352 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.352 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:11:08.352 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:11:08.352 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2349 ms
2025-08-10 14:11:08.352 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4255ms
2025-08-10 14:11:08.363 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=-Xgz9oewBPPmF9H7O4EHtg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:11:08.364 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.364 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:11:08.364 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:11:08.364 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1150 ms
2025-08-10 14:11:08.364 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=-Xgz9oewBPPmF9H7O4EHtg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.3499ms
2025-08-10 14:11:08.369 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:11:08.369 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.369 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1726ms
2025-08-10 14:11:08.371 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:11:08.371 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.372 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:11:08.372 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:11:08.372 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2342 ms
2025-08-10 14:11:08.372 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4833ms
2025-08-10 14:11:08.378 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824268375 - null null
2025-08-10 14:11:08.378 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.378 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824268375 - 204 null null 0.1956ms
2025-08-10 14:11:08.381 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824268375 - null null
2025-08-10 14:11:08.381 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.381 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:11:08.381 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:11:08.382 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3455 ms
2025-08-10 14:11:08.382 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824268375 - 200 0 application/octet-stream 0.5613ms
2025-08-10 14:11:08.388 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824268385 - null null
2025-08-10 14:11:08.389 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.389 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824268385 - 204 null null 0.1636ms
2025-08-10 14:11:08.391 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA - null null
2025-08-10 14:11:08.391 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824268385 - null null
2025-08-10 14:11:08.392 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.392 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.392 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA - 204 null null 0.1938ms
2025-08-10 14:11:08.392 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:11:08.394 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA - text/plain;charset=UTF-8 32
2025-08-10 14:11:08.394 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.394 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:11:08.394 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:11:08.394 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2201 ms
2025-08-10 14:11:08.394 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA - 200 0 text/plain 0.4442ms
2025-08-10 14:11:08.394 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:11:08.394 +03:00 [INF] HTTP GET /chathub responded 200 in 2.6684 ms
2025-08-10 14:11:08.394 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824268385 - 200 3 application/octet-stream 2.9395ms
2025-08-10 14:11:08.407 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824268403 - null null
2025-08-10 14:11:08.407 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.407 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824268403 - 204 null null 0.1912ms
2025-08-10 14:11:08.410 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824268403 - null null
2025-08-10 14:11:08.410 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:08.410 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:11:16.784 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:11:16.784 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:16.784 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2278ms
2025-08-10 14:11:16.786 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA - null null
2025-08-10 14:11:16.786 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:16.787 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA - 204 null null 0.3018ms
2025-08-10 14:11:16.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:11:16.788 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:16.789 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:11:16.789 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:11:16.789 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA - text/plain;charset=UTF-8 103
2025-08-10 14:11:16.789 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:16.790 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:11:16.790 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:11:16.790 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2112 ms
2025-08-10 14:11:16.790 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA - 200 0 text/plain 0.3976ms
2025-08-10 14:11:16.790 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:11:16.790 +03:00 [INF] HTTP GET /chathub responded 200 in 8379.8673 ms
2025-08-10 14:11:16.790 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824268403 - 200 44 application/octet-stream 8380.1362ms
2025-08-10 14:11:16.800 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:11:16.803 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:11:16.803 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:16.803 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2774ms
2025-08-10 14:11:16.808 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:11:16.808 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:16.809 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:11:16.809 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:11:16.825 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:11:16.834 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824276826 - null null
2025-08-10 14:11:16.834 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:16.834 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824276826 - 204 null null 0.4407ms
2025-08-10 14:11:16.839 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:11:16.839 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824276826 - null null
2025-08-10 14:11:16.839 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:11:16.839 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:11:16.839 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:11:16.840 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 30.5256ms
2025-08-10 14:11:16.840 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:11:16.840 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 31.2909 ms
2025-08-10 14:11:16.840 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 31.9576ms
2025-08-10 14:11:16.908 +03:00 [INF] Executed DbCommand (105ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:11:16.909 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:11:16.909 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 120.1553ms
2025-08-10 14:11:16.909 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:11:16.909 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 120.8454 ms
2025-08-10 14:11:16.910 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 121.2225ms
2025-08-10 14:12:08.630 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:12:08.630 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:08.631 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.582ms
2025-08-10 14:12:08.636 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:12:08.636 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:08.637 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:12:08.637 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:12:08.651 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:12:08.665 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:12:08.666 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:12:08.666 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 28.5843ms
2025-08-10 14:12:08.666 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:12:08.666 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 29.3132 ms
2025-08-10 14:12:08.666 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 29.8674ms
2025-08-10 14:12:15.719 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:12:15.719 +03:00 [INF] HTTP GET /chathub responded 200 in 58880.2215 ms
2025-08-10 14:12:15.719 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=EEG67nISZmZsFBes4dVTfA&_=1754824276826 - 499 null null 58880.6148ms
2025-08-10 14:12:16.308 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:12:16.309 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.309 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2943ms
2025-08-10 14:12:16.310 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:12:16.311 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.311 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3059ms
2025-08-10 14:12:16.315 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:12:16.315 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.316 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:12:16.316 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:12:16.318 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:12:16.319 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.319 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:12:16.319 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:12:16.319 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4092 ms
2025-08-10 14:12:16.319 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6847ms
2025-08-10 14:12:16.321 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:12:16.343 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:12:16.343 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=wsATUea9yZCy-23xgE6c9Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:12:16.343 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.343 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:12:16.343 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:12:16.343 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:12:16.343 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1110 ms
2025-08-10 14:12:16.343 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=wsATUea9yZCy-23xgE6c9Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.3034ms
2025-08-10 14:12:16.343 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 27.7672ms
2025-08-10 14:12:16.343 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:12:16.344 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 28.0891 ms
2025-08-10 14:12:16.344 +03:00 [INF] Connection id "0HNEN4JCDLMSF", Request id "0HNEN4JCDLMSF:0000005D": the application completed without reading the entire request body.
2025-08-10 14:12:16.344 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 28.3603ms
2025-08-10 14:12:16.353 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:12:16.353 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.353 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2379ms
2025-08-10 14:12:16.356 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:12:16.357 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.357 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:12:16.357 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:12:16.357 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4203 ms
2025-08-10 14:12:16.357 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8129ms
2025-08-10 14:12:16.365 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=6yv7T3rYA5GWdVDFJFhEAw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:12:16.366 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.366 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:12:16.366 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:12:16.366 +03:00 [INF] HTTP GET /chathub responded 401 in 0.0828 ms
2025-08-10 14:12:16.366 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=6yv7T3rYA5GWdVDFJFhEAw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.2587ms
2025-08-10 14:12:16.370 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:12:16.370 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.370 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1593ms
2025-08-10 14:12:16.373 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:12:16.373 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.373 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:12:16.374 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:12:16.374 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2517 ms
2025-08-10 14:12:16.374 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5212ms
2025-08-10 14:12:16.379 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824336376 - null null
2025-08-10 14:12:16.379 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.379 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824336376 - 204 null null 0.1597ms
2025-08-10 14:12:16.380 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824336376 - null null
2025-08-10 14:12:16.380 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.381 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:12:16.382 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:12:16.382 +03:00 [INF] HTTP GET /chathub responded 200 in 1.7655 ms
2025-08-10 14:12:16.382 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824336376 - 200 0 application/octet-stream 1.9213ms
2025-08-10 14:12:16.387 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824336385 - null null
2025-08-10 14:12:16.387 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.387 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824336385 - 204 null null 0.1809ms
2025-08-10 14:12:16.388 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ - null null
2025-08-10 14:12:16.388 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.388 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ - 204 null null 0.3496ms
2025-08-10 14:12:16.392 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824336385 - null null
2025-08-10 14:12:16.392 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.392 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ - text/plain;charset=UTF-8 32
2025-08-10 14:12:16.392 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:12:16.392 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.393 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:12:16.393 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:12:16.393 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1583 ms
2025-08-10 14:12:16.393 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ - 200 0 text/plain 0.4179ms
2025-08-10 14:12:16.393 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:12:16.393 +03:00 [INF] HTTP GET /chathub responded 200 in 0.5865 ms
2025-08-10 14:12:16.393 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824336385 - 200 3 application/octet-stream 1.0167ms
2025-08-10 14:12:16.400 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824336398 - null null
2025-08-10 14:12:16.400 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.400 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824336398 - 204 null null 0.1647ms
2025-08-10 14:12:16.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824336398 - null null
2025-08-10 14:12:16.403 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.403 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:12:16.993 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:12:16.993 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.993 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.5238ms
2025-08-10 14:12:16.994 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ - null null
2025-08-10 14:12:16.995 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:16.995 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ - 204 null null 0.2483ms
2025-08-10 14:12:16.999 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ - text/plain;charset=UTF-8 103
2025-08-10 14:12:16.999 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:12:16.999 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:17.000 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:12:17.000 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:12:17.000 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:17.000 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4757 ms
2025-08-10 14:12:17.000 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ - 200 0 text/plain 1.0317ms
2025-08-10 14:12:17.000 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:12:17.000 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:12:17.001 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:12:17.001 +03:00 [INF] HTTP GET /chathub responded 200 in 597.8748 ms
2025-08-10 14:12:17.001 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824336398 - 200 44 application/octet-stream 598.0712ms
2025-08-10 14:12:17.013 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:12:17.014 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:17.014 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3004ms
2025-08-10 14:12:17.017 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:12:17.020 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:12:17.020 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:17.021 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:12:17.021 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:12:17.033 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:12:17.039 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824337035 - null null
2025-08-10 14:12:17.039 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:17.040 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824337035 - 204 null null 0.3298ms
2025-08-10 14:12:17.042 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:12:17.043 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:12:17.043 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 22.2787ms
2025-08-10 14:12:17.043 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:12:17.043 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 22.6084 ms
2025-08-10 14:12:17.043 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 22.9167ms
2025-08-10 14:12:17.044 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824337035 - null null
2025-08-10 14:12:17.044 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:12:17.044 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:12:17.099 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:12:17.100 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:12:17.100 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 99.5815ms
2025-08-10 14:12:17.100 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:12:17.100 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 99.9850 ms
2025-08-10 14:12:17.100 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 101.0046ms
2025-08-10 14:13:47.054 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:13:47.055 +03:00 [INF] HTTP GET /chathub responded 200 in 90010.8574 ms
2025-08-10 14:13:47.055 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824337035 - 200 0 text/plain 90011.3112ms
2025-08-10 14:13:47.089 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824427073 - null null
2025-08-10 14:13:47.090 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:13:47.090 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824427073 - 204 null null 0.2261ms
2025-08-10 14:13:47.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824427073 - null null
2025-08-10 14:13:47.093 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:13:47.093 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:14:29.457 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:14:29.457 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:29.457 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2229ms
2025-08-10 14:14:29.461 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:14:29.461 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:29.462 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:14:29.462 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:14:29.469 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:14:29.476 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:14:29.477 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:14:29.477 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 15.399ms
2025-08-10 14:14:29.477 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:14:29.477 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 15.8655 ms
2025-08-10 14:14:29.477 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 16.0974ms
2025-08-10 14:14:35.174 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:14:35.175 +03:00 [INF] HTTP GET /chathub responded 200 in 48081.7104 ms
2025-08-10 14:14:35.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=b9HkWgBSV4Fg1WxtE2ACfQ&_=1754824427073 - 499 null null 48082.2041ms
2025-08-10 14:14:35.824 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:14:35.825 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.825 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.1839ms
2025-08-10 14:14:35.830 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:14:35.830 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.830 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3964ms
2025-08-10 14:14:35.836 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:14:35.837 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.837 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:14:35.838 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:14:35.841 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:14:35.842 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.842 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:14:35.842 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:14:35.842 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3477 ms
2025-08-10 14:14:35.842 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5946ms
2025-08-10 14:14:35.844 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:14:35.849 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=Li66ip19AgKi0Kv9lvsz5Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:14:35.849 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.850 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:14:35.850 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:14:35.850 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.4748 ms
2025-08-10 14:14:35.850 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=Li66ip19AgKi0Kv9lvsz5Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.6716ms
2025-08-10 14:14:35.850 +03:00 [INF] Connection id "0HNEN4JCDLMSH", Request id "0HNEN4JCDLMSH:00000003": the application completed without reading the entire request body.
2025-08-10 14:14:35.860 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:14:35.860 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.860 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3071ms
2025-08-10 14:14:35.863 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:14:35.863 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.863 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:14:35.863 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:14:35.863 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2688 ms
2025-08-10 14:14:35.863 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5273ms
2025-08-10 14:14:35.864 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:14:35.864 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:14:35.864 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 26.4273ms
2025-08-10 14:14:35.864 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:14:35.864 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 27.1974 ms
2025-08-10 14:14:35.864 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 27.7206ms
2025-08-10 14:14:35.879 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=-Jrom3p_LQTruCFTFDWMKQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:14:35.879 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.880 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:14:35.880 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:14:35.880 +03:00 [INF] HTTP GET /chathub responded 401 in 0.6324 ms
2025-08-10 14:14:35.880 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=-Jrom3p_LQTruCFTFDWMKQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.8721ms
2025-08-10 14:14:35.885 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:14:35.885 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.885 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2181ms
2025-08-10 14:14:35.888 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:14:35.888 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.888 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:14:35.888 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:14:35.888 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2558 ms
2025-08-10 14:14:35.888 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4685ms
2025-08-10 14:14:35.895 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824475892 - null null
2025-08-10 14:14:35.895 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.896 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824475892 - 204 null null 0.152ms
2025-08-10 14:14:35.897 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824475892 - null null
2025-08-10 14:14:35.898 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.898 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:14:35.898 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:14:35.898 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3816 ms
2025-08-10 14:14:35.898 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824475892 - 200 0 application/octet-stream 0.5694ms
2025-08-10 14:14:35.907 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824475903 - null null
2025-08-10 14:14:35.907 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.907 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824475903 - 204 null null 0.1997ms
2025-08-10 14:14:35.910 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg - null null
2025-08-10 14:14:35.910 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824475903 - null null
2025-08-10 14:14:35.910 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.910 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.910 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg - 204 null null 0.1783ms
2025-08-10 14:14:35.911 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:14:35.915 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg - text/plain;charset=UTF-8 32
2025-08-10 14:14:35.915 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.915 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:14:35.915 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:14:35.915 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3324 ms
2025-08-10 14:14:35.915 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg - 200 0 text/plain 0.6048ms
2025-08-10 14:14:35.915 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:14:35.915 +03:00 [INF] HTTP GET /chathub responded 200 in 4.9383 ms
2025-08-10 14:14:35.915 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824475903 - 200 3 application/octet-stream 5.2342ms
2025-08-10 14:14:35.926 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824475923 - null null
2025-08-10 14:14:35.926 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.926 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824475923 - 204 null null 0.1332ms
2025-08-10 14:14:35.930 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824475923 - null null
2025-08-10 14:14:35.930 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:35.930 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:14:36.881 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:14:36.881 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:36.881 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.1641ms
2025-08-10 14:14:36.883 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg - null null
2025-08-10 14:14:36.883 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:36.883 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg - 204 null null 0.1545ms
2025-08-10 14:14:36.885 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:14:36.885 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:36.885 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:14:36.885 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:14:36.886 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg - text/plain;charset=UTF-8 103
2025-08-10 14:14:36.886 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:36.886 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:14:36.886 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:14:36.886 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2463 ms
2025-08-10 14:14:36.886 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg - 200 0 text/plain 0.4213ms
2025-08-10 14:14:36.888 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:14:36.888 +03:00 [INF] HTTP GET /chathub responded 200 in 957.6983 ms
2025-08-10 14:14:36.888 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824475923 - 200 44 application/octet-stream 957.9848ms
2025-08-10 14:14:36.891 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:14:36.894 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:14:36.894 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:36.894 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1804ms
2025-08-10 14:14:36.899 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:14:36.899 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:36.899 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:14:36.900 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:14:36.902 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:14:36.904 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:14:36.905 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:14:36.905 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 5.6309ms
2025-08-10 14:14:36.905 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:14:36.905 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 5.9967 ms
2025-08-10 14:14:36.906 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 6.3236ms
2025-08-10 14:14:36.914 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824476909 - null null
2025-08-10 14:14:36.914 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:36.914 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824476909 - 204 null null 0.2273ms
2025-08-10 14:14:36.917 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824476909 - null null
2025-08-10 14:14:36.918 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:14:36.918 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:14:36.954 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:14:36.954 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:14:36.954 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 69.1516ms
2025-08-10 14:14:36.954 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:14:36.954 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 69.3637 ms
2025-08-10 14:14:36.954 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 69.58ms
2025-08-10 14:15:12.514 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:15:12.514 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:12.514 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.5333ms
2025-08-10 14:15:12.526 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:15:12.526 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:12.527 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:15:12.527 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:15:12.543 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:15:12.555 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:15:12.555 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:15:12.556 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 28.3893ms
2025-08-10 14:15:12.556 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:15:12.556 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 29.2142 ms
2025-08-10 14:15:12.556 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 30.3124ms
2025-08-10 14:15:43.690 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:15:43.691 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:43.691 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3059ms
2025-08-10 14:15:43.696 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:15:43.696 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:43.697 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:15:43.697 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:15:43.698 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:15:43.700 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:15:43.701 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:15:43.701 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 3.8727ms
2025-08-10 14:15:43.701 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:15:43.701 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 4.2227 ms
2025-08-10 14:15:43.701 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.5972ms
2025-08-10 14:15:44.730 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:15:44.730 +03:00 [INF] HTTP GET /chathub responded 200 in 67812.0770 ms
2025-08-10 14:15:44.730 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=iG1FqNpnMh194fBB3qwmCg&_=1754824476909 - 499 null null 67812.4322ms
2025-08-10 14:15:45.600 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:15:45.601 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.601 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.6851ms
2025-08-10 14:15:45.616 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:15:45.616 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.617 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 1.1562ms
2025-08-10 14:15:45.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:15:45.630 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.630 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:15:45.630 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:15:45.635 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:15:45.636 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.636 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:15:45.636 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:15:45.636 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4990 ms
2025-08-10 14:15:45.636 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8495ms
2025-08-10 14:15:45.639 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:15:45.644 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=tnBLBKBWOq6TXkz5xSezYg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:15:45.644 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.644 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:15:45.644 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:15:45.644 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1171 ms
2025-08-10 14:15:45.644 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=tnBLBKBWOq6TXkz5xSezYg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.2986ms
2025-08-10 14:15:45.644 +03:00 [INF] Connection id "0HNEN4JCDLMSH", Request id "0HNEN4JCDLMSH:00000019": the application completed without reading the entire request body.
2025-08-10 14:15:45.655 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:15:45.655 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.655 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2077ms
2025-08-10 14:15:45.658 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:15:45.658 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:15:45.658 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:15:45.658 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 27.4355ms
2025-08-10 14:15:45.658 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:15:45.658 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.658 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 27.7884 ms
2025-08-10 14:15:45.658 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 28.0694ms
2025-08-10 14:15:45.658 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:15:45.658 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:15:45.658 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3339 ms
2025-08-10 14:15:45.658 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5196ms
2025-08-10 14:15:45.673 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=sZruQpKI62kAeI9oTzaErQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:15:45.673 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.674 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:15:45.674 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:15:45.674 +03:00 [INF] HTTP GET /chathub responded 401 in 0.0659 ms
2025-08-10 14:15:45.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=sZruQpKI62kAeI9oTzaErQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.2547ms
2025-08-10 14:15:45.678 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:15:45.678 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.678 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.188ms
2025-08-10 14:15:45.680 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:15:45.680 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.680 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:15:45.680 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:15:45.680 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3041 ms
2025-08-10 14:15:45.680 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4872ms
2025-08-10 14:15:45.688 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824545683 - null null
2025-08-10 14:15:45.688 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.688 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824545683 - 204 null null 0.2547ms
2025-08-10 14:15:45.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824545683 - null null
2025-08-10 14:15:45.691 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.692 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:15:45.692 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:15:45.692 +03:00 [INF] HTTP GET /chathub responded 200 in 1.0481 ms
2025-08-10 14:15:45.692 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824545683 - 200 0 application/octet-stream 1.6149ms
2025-08-10 14:15:45.702 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824545697 - null null
2025-08-10 14:15:45.703 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.703 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824545697 - 204 null null 0.245ms
2025-08-10 14:15:45.705 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg - null null
2025-08-10 14:15:45.705 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.705 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg - 204 null null 0.2191ms
2025-08-10 14:15:45.708 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824545697 - null null
2025-08-10 14:15:45.708 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.708 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:15:45.708 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg - text/plain;charset=UTF-8 32
2025-08-10 14:15:45.709 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.709 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:15:45.709 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:15:45.709 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1142 ms
2025-08-10 14:15:45.709 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg - 200 0 text/plain 0.2349ms
2025-08-10 14:15:45.709 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:15:45.709 +03:00 [INF] HTTP GET /chathub responded 200 in 0.7441 ms
2025-08-10 14:15:45.709 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824545697 - 200 3 application/octet-stream 0.9447ms
2025-08-10 14:15:45.718 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824545714 - null null
2025-08-10 14:15:45.719 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.719 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824545714 - 204 null null 0.2433ms
2025-08-10 14:15:45.721 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824545714 - null null
2025-08-10 14:15:45.721 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:45.722 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:15:47.278 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:15:47.278 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:47.278 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2422ms
2025-08-10 14:15:47.282 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg - null null
2025-08-10 14:15:47.282 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:47.282 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg - 204 null null 0.2461ms
2025-08-10 14:15:47.284 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:15:47.284 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:47.285 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:15:47.285 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:15:47.288 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg - text/plain;charset=UTF-8 103
2025-08-10 14:15:47.289 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:47.289 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:15:47.289 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:15:47.289 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4017 ms
2025-08-10 14:15:47.289 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg - 200 0 text/plain 0.9046ms
2025-08-10 14:15:47.291 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:15:47.291 +03:00 [INF] HTTP GET /chathub responded 200 in 1569.3497 ms
2025-08-10 14:15:47.291 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824545714 - 200 44 application/octet-stream 1569.5888ms
2025-08-10 14:15:47.296 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:15:47.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:15:47.297 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:47.298 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:15:47.298 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:15:47.314 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:15:47.323 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:15:47.324 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:15:47.324 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 26.1154ms
2025-08-10 14:15:47.324 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:15:47.324 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 26.8817 ms
2025-08-10 14:15:47.325 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 27.6968ms
2025-08-10 14:15:47.333 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824547322 - null null
2025-08-10 14:15:47.333 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:47.333 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824547322 - 204 null null 0.3939ms
2025-08-10 14:15:47.339 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824547322 - null null
2025-08-10 14:15:47.339 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:15:47.339 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:15:47.388 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:15:47.388 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:15:47.388 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 103.4034ms
2025-08-10 14:15:47.388 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:15:47.388 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 103.7679 ms
2025-08-10 14:15:47.388 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 104.0613ms
2025-08-10 14:17:17.351 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:17:17.351 +03:00 [INF] HTTP GET /chathub responded 200 in 90012.3430 ms
2025-08-10 14:17:17.352 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824547322 - 200 0 text/plain 90012.7934ms
2025-08-10 14:17:17.369 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824637364 - null null
2025-08-10 14:17:17.369 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:17:17.369 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824637364 - 204 null null 0.1537ms
2025-08-10 14:17:17.373 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824637364 - null null
2025-08-10 14:17:17.374 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:17:17.374 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:18:19.214 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:18:19.214 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:19.214 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3225ms
2025-08-10 14:18:19.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:18:19.217 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:19.217 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:18:19.217 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:18:19.224 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:18:19.234 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:18:19.234 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:18:19.234 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 16.9326ms
2025-08-10 14:18:19.234 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:18:19.234 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 17.2454 ms
2025-08-10 14:18:19.234 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 17.5744ms
2025-08-10 14:18:29.810 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:18:29.810 +03:00 [INF] HTTP GET /chathub responded 200 in 72436.4203 ms
2025-08-10 14:18:29.810 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ITtTcEf45P5DxdyNriMNyg&_=1754824637364 - 499 null null 72436.8387ms
2025-08-10 14:18:30.508 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:18:30.508 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.508 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.3298ms
2025-08-10 14:18:30.513 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:18:30.513 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.513 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2932ms
2025-08-10 14:18:30.524 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:18:30.524 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.525 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:18:30.525 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:18:30.526 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:18:30.526 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.526 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:18:30.527 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:18:30.527 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3706 ms
2025-08-10 14:18:30.527 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6923ms
2025-08-10 14:18:30.532 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:18:30.535 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=SL9drt4ywo1u1kQQPQR-lw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:18:30.536 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.536 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:18:30.536 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:18:30.536 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1332 ms
2025-08-10 14:18:30.536 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=SL9drt4ywo1u1kQQPQR-lw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 1.0579ms
2025-08-10 14:18:30.537 +03:00 [INF] Connection id "0HNEN4JCDLMSH", Request id "0HNEN4JCDLMSH:00000031": the application completed without reading the entire request body.
2025-08-10 14:18:30.547 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:18:30.547 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.547 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3251ms
2025-08-10 14:18:30.550 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:18:30.550 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.550 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:18:30.550 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:18:30.550 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2022 ms
2025-08-10 14:18:30.550 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.3804ms
2025-08-10 14:18:30.553 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:18:30.553 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:18:30.553 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 28.3604ms
2025-08-10 14:18:30.553 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:18:30.553 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 29.0289 ms
2025-08-10 14:18:30.553 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 29.4303ms
2025-08-10 14:18:30.557 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8WOPNoVy8prQQnq0_Pgapg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:18:30.558 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.558 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:18:30.558 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:18:30.558 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1525 ms
2025-08-10 14:18:30.558 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8WOPNoVy8prQQnq0_Pgapg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.5445ms
2025-08-10 14:18:30.568 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:18:30.568 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.568 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1548ms
2025-08-10 14:18:30.571 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:18:30.571 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.571 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:18:30.571 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:18:30.571 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3565 ms
2025-08-10 14:18:30.571 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5402ms
2025-08-10 14:18:30.577 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824710574 - null null
2025-08-10 14:18:30.577 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.577 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824710574 - 204 null null 0.1633ms
2025-08-10 14:18:30.579 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824710574 - null null
2025-08-10 14:18:30.579 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.580 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:18:30.582 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:18:30.582 +03:00 [INF] HTTP GET /chathub responded 200 in 2.6457 ms
2025-08-10 14:18:30.582 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824710574 - 200 0 application/octet-stream 2.8935ms
2025-08-10 14:18:30.588 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824710585 - null null
2025-08-10 14:18:30.588 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.588 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824710585 - 204 null null 0.2178ms
2025-08-10 14:18:30.592 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w - null null
2025-08-10 14:18:30.592 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.592 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w - 204 null null 0.2047ms
2025-08-10 14:18:30.593 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824710585 - null null
2025-08-10 14:18:30.593 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.594 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:18:30.595 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w - text/plain;charset=UTF-8 32
2025-08-10 14:18:30.595 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.595 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:18:30.595 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:18:30.595 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1870 ms
2025-08-10 14:18:30.596 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w - 200 0 text/plain 0.5107ms
2025-08-10 14:18:30.599 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:18:30.599 +03:00 [INF] HTTP GET /chathub responded 200 in 5.9971 ms
2025-08-10 14:18:30.600 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824710585 - 200 3 application/octet-stream 6.7082ms
2025-08-10 14:18:30.606 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824710602 - null null
2025-08-10 14:18:30.606 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.606 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824710602 - 204 null null 0.3923ms
2025-08-10 14:18:30.609 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824710602 - null null
2025-08-10 14:18:30.609 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:30.609 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:18:31.349 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:18:31.349 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:31.349 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2194ms
2025-08-10 14:18:31.353 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w - null null
2025-08-10 14:18:31.353 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:31.354 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w - 204 null null 0.3477ms
2025-08-10 14:18:31.354 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:18:31.355 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:31.355 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:18:31.355 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:18:31.357 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w - text/plain;charset=UTF-8 103
2025-08-10 14:18:31.357 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:31.357 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:18:31.357 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:18:31.358 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3848 ms
2025-08-10 14:18:31.358 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w - 200 0 text/plain 0.7671ms
2025-08-10 14:18:31.358 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:18:31.358 +03:00 [INF] HTTP GET /chathub responded 200 in 749.0137 ms
2025-08-10 14:18:31.358 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824710602 - 200 44 application/octet-stream 749.3877ms
2025-08-10 14:18:31.364 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:18:31.370 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:18:31.371 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:31.371 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3118ms
2025-08-10 14:18:31.382 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:18:31.382 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:31.382 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:18:31.382 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:18:31.391 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:18:31.397 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:18:31.397 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:18:31.397 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 14.7635ms
2025-08-10 14:18:31.397 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:18:31.397 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 15.2786 ms
2025-08-10 14:18:31.397 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 15.7348ms
2025-08-10 14:18:31.398 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824711393 - null null
2025-08-10 14:18:31.398 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:31.398 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824711393 - 204 null null 0.1673ms
2025-08-10 14:18:31.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824711393 - null null
2025-08-10 14:18:31.403 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:18:31.403 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:18:31.435 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:18:31.436 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:18:31.436 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 80.4412ms
2025-08-10 14:18:31.436 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:18:31.436 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 81.2906 ms
2025-08-10 14:18:31.436 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 81.7264ms
2025-08-10 14:19:22.459 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:19:22.460 +03:00 [INF] HTTP GET /chathub responded 200 in 51056.7207 ms
2025-08-10 14:19:22.460 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=qTeHzOEMxsgemtCYH4CS6w&_=1754824711393 - 499 null null 51057.2331ms
2025-08-10 14:19:23.124 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:19:23.124 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.124 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.1817ms
2025-08-10 14:19:23.128 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:19:23.128 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.128 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2005ms
2025-08-10 14:19:23.142 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:19:23.142 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.143 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:19:23.143 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:19:23.143 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:19:23.143 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.143 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:19:23.143 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:19:23.143 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1706 ms
2025-08-10 14:19:23.143 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4211ms
2025-08-10 14:19:23.148 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:19:23.149 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=b_3YPdeNs79uK_gClmq7PA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:19:23.149 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.149 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:19:23.149 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:19:23.149 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.0774 ms
2025-08-10 14:19:23.149 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=b_3YPdeNs79uK_gClmq7PA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.3344ms
2025-08-10 14:19:23.149 +03:00 [INF] Connection id "0HNEN4JCDLMSH", Request id "0HNEN4JCDLMSH:00000047": the application completed without reading the entire request body.
2025-08-10 14:19:23.156 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:19:23.156 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.156 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2105ms
2025-08-10 14:19:23.159 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:19:23.159 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.160 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:19:23.160 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:19:23.160 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2052 ms
2025-08-10 14:19:23.160 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.3746ms
2025-08-10 14:19:23.165 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:19:23.165 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:19:23.165 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 22.1444ms
2025-08-10 14:19:23.165 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:19:23.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ty1PQ-AjFfFDw6b0FcJcgg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:19:23.165 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 22.5636 ms
2025-08-10 14:19:23.165 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.165 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 22.8544ms
2025-08-10 14:19:23.165 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:19:23.165 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:19:23.165 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1094 ms
2025-08-10 14:19:23.165 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ty1PQ-AjFfFDw6b0FcJcgg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.296ms
2025-08-10 14:19:23.170 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:19:23.170 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.170 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2233ms
2025-08-10 14:19:23.172 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:19:23.172 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.172 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:19:23.173 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:19:23.173 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2490 ms
2025-08-10 14:19:23.173 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4691ms
2025-08-10 14:19:23.178 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763175 - null null
2025-08-10 14:19:23.178 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.178 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763175 - 204 null null 0.1444ms
2025-08-10 14:19:23.181 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763175 - null null
2025-08-10 14:19:23.181 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.181 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:19:23.182 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:19:23.182 +03:00 [INF] HTTP GET /chathub responded 200 in 0.9987 ms
2025-08-10 14:19:23.182 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763175 - 200 0 application/octet-stream 1.2809ms
2025-08-10 14:19:23.191 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763188 - null null
2025-08-10 14:19:23.192 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.192 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763188 - 204 null null 0.6112ms
2025-08-10 14:19:23.194 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w - null null
2025-08-10 14:19:23.194 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.194 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w - 204 null null 0.2027ms
2025-08-10 14:19:23.196 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763188 - null null
2025-08-10 14:19:23.196 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.196 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:19:23.198 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w - text/plain;charset=UTF-8 32
2025-08-10 14:19:23.198 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.198 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:19:23.198 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:19:23.198 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1422 ms
2025-08-10 14:19:23.198 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w - 200 0 text/plain 0.3039ms
2025-08-10 14:19:23.198 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:19:23.198 +03:00 [INF] HTTP GET /chathub responded 200 in 2.2029 ms
2025-08-10 14:19:23.198 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763188 - 200 3 application/octet-stream 2.4359ms
2025-08-10 14:19:23.208 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763203 - null null
2025-08-10 14:19:23.208 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.208 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763203 - 204 null null 0.1875ms
2025-08-10 14:19:23.210 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763203 - null null
2025-08-10 14:19:23.210 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.211 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:19:23.894 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:19:23.895 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.895 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.6236ms
2025-08-10 14:19:23.898 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w - null null
2025-08-10 14:19:23.899 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.899 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w - 204 null null 0.2934ms
2025-08-10 14:19:23.904 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w - text/plain;charset=UTF-8 103
2025-08-10 14:19:23.905 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.905 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:19:23.905 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:19:23.905 +03:00 [INF] HTTP POST /chathub responded 200 in 0.5207 ms
2025-08-10 14:19:23.905 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w - 200 0 text/plain 1.066ms
2025-08-10 14:19:23.906 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:19:23.906 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.906 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:19:23.906 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:19:23.906 +03:00 [INF] HTTP GET /chathub responded 200 in 695.9245 ms
2025-08-10 14:19:23.907 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:19:23.907 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763203 - 200 44 application/octet-stream 696.2852ms
2025-08-10 14:19:23.918 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:19:23.920 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:19:23.920 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.920 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3469ms
2025-08-10 14:19:23.928 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:19:23.928 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.928 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:19:23.928 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:19:23.941 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:19:23.949 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:19:23.949 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:19:23.950 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 21.239ms
2025-08-10 14:19:23.950 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:19:23.950 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 21.7274 ms
2025-08-10 14:19:23.950 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763941 - null null
2025-08-10 14:19:23.950 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.950 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763941 - 204 null null 0.1648ms
2025-08-10 14:19:23.950 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 22.0737ms
2025-08-10 14:19:23.958 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763941 - null null
2025-08-10 14:19:23.958 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:19:23.958 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:19:23.988 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:19:23.988 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:19:23.988 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 81.2657ms
2025-08-10 14:19:23.988 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:19:23.988 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 81.9891 ms
2025-08-10 14:19:23.988 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 82.3199ms
2025-08-10 14:20:28.192 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:20:28.192 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:28.192 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2405ms
2025-08-10 14:20:28.196 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:20:28.197 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:28.197 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:20:28.197 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:20:28.204 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:20:28.210 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:20:28.210 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:20:28.210 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 13.6186ms
2025-08-10 14:20:28.211 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:20:28.211 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 13.9652 ms
2025-08-10 14:20:28.211 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 14.2927ms
2025-08-10 14:20:39.922 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:20:39.922 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:39.922 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2211ms
2025-08-10 14:20:39.928 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:20:39.928 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:39.929 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:20:39.929 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:20:39.931 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:20:39.933 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:20:39.933 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:20:39.933 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 3.7933ms
2025-08-10 14:20:39.933 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:20:39.933 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 4.9419 ms
2025-08-10 14:20:39.933 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 5.2871ms
2025-08-10 14:20:42.122 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:20:42.122 +03:00 [INF] HTTP GET /chathub responded 200 in 78163.9501 ms
2025-08-10 14:20:42.122 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=YOgsFvZDnB17jHH2RjN12w&_=1754824763941 - 499 null null 78164.2796ms
2025-08-10 14:20:42.759 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:20:42.759 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.759 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.24ms
2025-08-10 14:20:42.766 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:20:42.767 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.767 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3491ms
2025-08-10 14:20:42.780 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:20:42.780 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.780 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:20:42.780 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:20:42.784 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:20:42.784 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.784 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:20:42.785 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:20:42.785 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 1.0840 ms
2025-08-10 14:20:42.785 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.4012ms
2025-08-10 14:20:42.786 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:20:42.793 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=yBdwDZTmuJ12GhVt0FYBww&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:20:42.793 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.793 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:20:42.793 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:20:42.793 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1093 ms
2025-08-10 14:20:42.793 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=yBdwDZTmuJ12GhVt0FYBww&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.3217ms
2025-08-10 14:20:42.793 +03:00 [INF] Connection id "0HNEN4JCDLMSH", Request id "0HNEN4JCDLMSH:0000005D": the application completed without reading the entire request body.
2025-08-10 14:20:42.802 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:20:42.802 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.802 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.244ms
2025-08-10 14:20:42.804 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:20:42.804 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:20:42.804 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.804 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:20:42.805 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 24.1364ms
2025-08-10 14:20:42.805 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:20:42.805 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 24.4874 ms
2025-08-10 14:20:42.805 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 24.7439ms
2025-08-10 14:20:42.805 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:20:42.805 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:20:42.805 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.7742 ms
2025-08-10 14:20:42.805 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.9906ms
2025-08-10 14:20:42.820 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=g737EtjZy6s7DMoREtGF2g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:20:42.820 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.820 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:20:42.820 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:20:42.820 +03:00 [INF] HTTP GET /chathub responded 401 in 0.0902 ms
2025-08-10 14:20:42.820 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=g737EtjZy6s7DMoREtGF2g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.3266ms
2025-08-10 14:20:42.825 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:20:42.825 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.825 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1643ms
2025-08-10 14:20:42.827 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:20:42.827 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.827 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:20:42.827 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:20:42.827 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2439 ms
2025-08-10 14:20:42.827 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5249ms
2025-08-10 14:20:42.833 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824842830 - null null
2025-08-10 14:20:42.833 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.833 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824842830 - 204 null null 0.1304ms
2025-08-10 14:20:42.836 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824842830 - null null
2025-08-10 14:20:42.836 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.836 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:20:42.836 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:20:42.836 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2670 ms
2025-08-10 14:20:42.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824842830 - 200 0 application/octet-stream 0.4468ms
2025-08-10 14:20:42.842 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824842839 - null null
2025-08-10 14:20:42.842 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.842 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824842839 - 204 null null 0.4297ms
2025-08-10 14:20:42.843 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ - null null
2025-08-10 14:20:42.843 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.843 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ - 204 null null 0.1811ms
2025-08-10 14:20:42.847 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824842839 - null null
2025-08-10 14:20:42.847 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.847 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ - text/plain;charset=UTF-8 32
2025-08-10 14:20:42.847 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.847 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:20:42.847 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:20:42.847 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:20:42.847 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1719 ms
2025-08-10 14:20:42.847 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ - 200 0 text/plain 0.6072ms
2025-08-10 14:20:42.847 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:20:42.847 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3541 ms
2025-08-10 14:20:42.847 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824842839 - 200 3 application/octet-stream 0.6056ms
2025-08-10 14:20:42.858 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824842855 - null null
2025-08-10 14:20:42.858 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.858 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824842855 - 204 null null 0.1482ms
2025-08-10 14:20:42.863 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824842855 - null null
2025-08-10 14:20:42.863 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:42.864 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:20:43.785 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:20:43.785 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:43.785 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.3793ms
2025-08-10 14:20:43.788 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ - null null
2025-08-10 14:20:43.788 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:43.788 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ - 204 null null 0.2429ms
2025-08-10 14:20:43.791 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:20:43.791 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:43.791 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:20:43.792 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:20:43.792 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ - text/plain;charset=UTF-8 103
2025-08-10 14:20:43.792 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:43.792 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:20:43.792 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:20:43.792 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3673 ms
2025-08-10 14:20:43.793 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ - 200 0 text/plain 0.8036ms
2025-08-10 14:20:43.793 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:20:43.793 +03:00 [INF] HTTP GET /chathub responded 200 in 929.6938 ms
2025-08-10 14:20:43.793 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824842855 - 200 44 application/octet-stream 930.0158ms
2025-08-10 14:20:43.800 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:20:43.805 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:20:43.805 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:43.806 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:20:43.806 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:20:43.809 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:20:43.811 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:20:43.812 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:20:43.812 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 5.9227ms
2025-08-10 14:20:43.812 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:20:43.812 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 6.4622 ms
2025-08-10 14:20:43.812 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 7.0224ms
2025-08-10 14:20:43.839 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824843833 - null null
2025-08-10 14:20:43.839 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:43.839 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824843833 - 204 null null 0.398ms
2025-08-10 14:20:43.844 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824843833 - null null
2025-08-10 14:20:43.844 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:20:43.845 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:20:43.886 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:20:43.886 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:20:43.886 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 94.8256ms
2025-08-10 14:20:43.886 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:20:43.886 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 95.3454 ms
2025-08-10 14:20:43.887 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 95.7234ms
2025-08-10 14:21:58.262 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:21:58.262 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:21:58.262 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3124ms
2025-08-10 14:21:58.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:21:58.266 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:21:58.266 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:21:58.266 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:21:58.274 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:21:58.280 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:21:58.280 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:21:58.280 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 14.1107ms
2025-08-10 14:21:58.280 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:21:58.280 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 14.5466 ms
2025-08-10 14:21:58.281 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 14.9613ms
2025-08-10 14:22:13.847 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:22:13.847 +03:00 [INF] HTTP GET /chathub responded 200 in 90002.6464 ms
2025-08-10 14:22:13.847 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824843833 - 200 0 text/plain 90003.0154ms
2025-08-10 14:22:13.859 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824933856 - null null
2025-08-10 14:22:13.859 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:22:13.859 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824933856 - 204 null null 0.1239ms
2025-08-10 14:22:13.861 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824933856 - null null
2025-08-10 14:22:13.862 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:22:13.862 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:22:14.494 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:22:14.495 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:22:14.495 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2601ms
2025-08-10 14:22:14.497 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:22:14.497 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:22:14.498 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:22:14.498 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:22:14.500 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:22:14.501 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:22:14.501 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:22:14.501 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 3.6845ms
2025-08-10 14:22:14.501 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:22:14.501 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 3.9780 ms
2025-08-10 14:22:14.502 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.1909ms
2025-08-10 14:23:43.865 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:23:43.865 +03:00 [INF] HTTP GET /chathub responded 200 in 90003.7927 ms
2025-08-10 14:23:43.866 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754824933856 - 200 0 text/plain 90004.3323ms
2025-08-10 14:23:43.878 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754825023875 - null null
2025-08-10 14:23:43.878 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:23:43.878 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754825023875 - 204 null null 0.3279ms
2025-08-10 14:23:43.882 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754825023875 - null null
2025-08-10 14:23:43.882 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:23:43.883 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:25:13.290 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:25:13.290 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:13.290 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3397ms
2025-08-10 14:25:13.294 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:25:13.294 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:13.295 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:25:13.295 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:25:13.303 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:25:13.310 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:25:13.311 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:25:13.311 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 15.9843ms
2025-08-10 14:25:13.311 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:25:13.311 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 16.5782 ms
2025-08-10 14:25:13.311 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 17.2347ms
2025-08-10 14:25:13.885 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:25:13.885 +03:00 [INF] HTTP GET /chathub responded 200 in 90002.6117 ms
2025-08-10 14:25:13.885 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754825023875 - 200 0 text/plain 90003.0482ms
2025-08-10 14:25:13.901 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754825113897 - null null
2025-08-10 14:25:13.901 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:13.901 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754825113897 - 204 null null 0.1675ms
2025-08-10 14:25:13.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754825113897 - null null
2025-08-10 14:25:13.905 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:13.905 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:25:23.685 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:25:23.685 +03:00 [INF] HTTP GET /chathub responded 200 in 9779.9039 ms
2025-08-10 14:25:23.685 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=xB82v8ahTWqeXcgr0hUIqQ&_=1754825113897 - 499 null null 9780.1346ms
2025-08-10 14:25:24.065 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:25:24.065 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.065 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2025ms
2025-08-10 14:25:24.074 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:25:24.074 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.074 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1855ms
2025-08-10 14:25:24.082 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:25:24.082 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:25:24.082 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.082 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.082 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:25:24.082 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:25:24.082 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:25:24.082 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:25:24.082 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3069 ms
2025-08-10 14:25:24.082 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.517ms
2025-08-10 14:25:24.087 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:25:24.092 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=PPIa772Vz7M9YXQgIz1SvQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:25:24.092 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.092 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:25:24.092 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:25:24.092 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.0728 ms
2025-08-10 14:25:24.092 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=PPIa772Vz7M9YXQgIz1SvQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.2539ms
2025-08-10 14:25:24.092 +03:00 [INF] Connection id "0HNEN4JCDLMSH", Request id "0HNEN4JCDLMSH:00000079": the application completed without reading the entire request body.
2025-08-10 14:25:24.097 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:25:24.097 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.097 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1525ms
2025-08-10 14:25:24.098 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:25:24.098 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.098 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:25:24.098 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:25:24.098 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1465 ms
2025-08-10 14:25:24.098 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.255ms
2025-08-10 14:25:24.107 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:25:24.107 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:25:24.107 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 25.0585ms
2025-08-10 14:25:24.107 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:25:24.107 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 25.2888 ms
2025-08-10 14:25:24.107 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 25.5843ms
2025-08-10 14:25:24.108 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=D5bdRR29Fygo4-g2C2HbLg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:25:24.108 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.108 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:25:24.108 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:25:24.108 +03:00 [INF] HTTP GET /chathub responded 401 in 0.0665 ms
2025-08-10 14:25:24.108 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=D5bdRR29Fygo4-g2C2HbLg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.202ms
2025-08-10 14:25:24.116 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:25:24.116 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.116 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1675ms
2025-08-10 14:25:24.122 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:25:24.122 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.122 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:25:24.122 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:25:24.122 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1864 ms
2025-08-10 14:25:24.122 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.352ms
2025-08-10 14:25:24.127 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124124 - null null
2025-08-10 14:25:24.127 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.127 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124124 - 204 null null 0.108ms
2025-08-10 14:25:24.128 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124124 - null null
2025-08-10 14:25:24.128 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.128 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:25:24.128 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:25:24.128 +03:00 [INF] HTTP GET /chathub responded 200 in 0.1884 ms
2025-08-10 14:25:24.128 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124124 - 200 0 application/octet-stream 0.3014ms
2025-08-10 14:25:24.132 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124130 - null null
2025-08-10 14:25:24.132 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g - null null
2025-08-10 14:25:24.133 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.133 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.133 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124130 - 204 null null 0.1757ms
2025-08-10 14:25:24.133 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g - 204 null null 0.1847ms
2025-08-10 14:25:24.139 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124130 - null null
2025-08-10 14:25:24.139 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.139 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g - text/plain;charset=UTF-8 32
2025-08-10 14:25:24.140 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.140 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:25:24.140 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:25:24.140 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:25:24.140 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1505 ms
2025-08-10 14:25:24.140 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g - 200 0 text/plain 0.308ms
2025-08-10 14:25:24.140 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:25:24.140 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4017 ms
2025-08-10 14:25:24.140 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124130 - 200 3 application/octet-stream 0.649ms
2025-08-10 14:25:24.146 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124144 - null null
2025-08-10 14:25:24.146 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.146 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124144 - 204 null null 0.1153ms
2025-08-10 14:25:24.147 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124144 - null null
2025-08-10 14:25:24.147 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.147 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:25:24.766 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:25:24.766 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.766 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.1628ms
2025-08-10 14:25:24.766 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g - null null
2025-08-10 14:25:24.766 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.766 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g - 204 null null 0.2874ms
2025-08-10 14:25:24.769 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g - text/plain;charset=UTF-8 103
2025-08-10 14:25:24.769 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.769 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:25:24.769 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.769 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:25:24.769 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:25:24.769 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:25:24.769 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2009 ms
2025-08-10 14:25:24.769 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g - 200 0 text/plain 0.411ms
2025-08-10 14:25:24.770 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:25:24.771 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:25:24.771 +03:00 [INF] HTTP GET /chathub responded 200 in 623.9526 ms
2025-08-10 14:25:24.771 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124144 - 200 44 application/octet-stream 624.114ms
2025-08-10 14:25:24.775 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:25:24.775 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.775 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.154ms
2025-08-10 14:25:24.775 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:25:24.778 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:25:24.778 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.778 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:25:24.778 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:25:24.780 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:25:24.781 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:25:24.782 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:25:24.782 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 3.9742ms
2025-08-10 14:25:24.782 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:25:24.782 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 4.2322 ms
2025-08-10 14:25:24.782 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.5482ms
2025-08-10 14:25:24.785 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124781 - null null
2025-08-10 14:25:24.785 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.785 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124781 - 204 null null 0.2781ms
2025-08-10 14:25:24.789 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124781 - null null
2025-08-10 14:25:24.789 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:24.790 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:25:24.847 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:25:24.849 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:25:24.849 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 79.5755ms
2025-08-10 14:25:24.849 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:25:24.849 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 79.9344 ms
2025-08-10 14:25:24.849 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 80.153ms
2025-08-10 14:25:54.724 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:25:54.724 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:54.724 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1975ms
2025-08-10 14:25:54.728 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:25:54.728 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:54.728 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:25:54.728 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:25:54.734 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:25:54.739 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:25:54.740 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:25:54.740 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 11.2635ms
2025-08-10 14:25:54.740 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:25:54.740 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 11.4966 ms
2025-08-10 14:25:54.740 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 11.7721ms
2025-08-10 14:25:59.582 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:25:59.582 +03:00 [INF] HTTP GET /chathub responded 200 in 34792.3807 ms
2025-08-10 14:25:59.582 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=e4HeYj7u4EV7lWkMbv0e8g&_=1754825124781 - 499 null null 34793.3194ms
2025-08-10 14:25:59.803 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:25:59.803 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.803 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.1906ms
2025-08-10 14:25:59.812 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:25:59.812 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.812 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1752ms
2025-08-10 14:25:59.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:25:59.829 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.829 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:25:59.829 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:25:59.833 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:25:59.837 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:25:59.837 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.837 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:25:59.837 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:25:59.837 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1916 ms
2025-08-10 14:25:59.837 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.3377ms
2025-08-10 14:25:59.842 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=yjYnFS5PBL4jiB8q7HdmmA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:25:59.842 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.842 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:25:59.842 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:25:59.842 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.0928 ms
2025-08-10 14:25:59.842 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=yjYnFS5PBL4jiB8q7HdmmA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.2682ms
2025-08-10 14:25:59.842 +03:00 [INF] Connection id "0HNEN4JCDLMSH", Request id "0HNEN4JCDLMSH:0000008F": the application completed without reading the entire request body.
2025-08-10 14:25:59.846 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:25:59.847 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.847 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3495ms
2025-08-10 14:25:59.853 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:25:59.853 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:25:59.853 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 23.7406ms
2025-08-10 14:25:59.853 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:25:59.853 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 24.0348 ms
2025-08-10 14:25:59.853 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 24.286ms
2025-08-10 14:25:59.864 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:25:59.865 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.865 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:25:59.865 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:25:59.865 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3060 ms
2025-08-10 14:25:59.865 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.583ms
2025-08-10 14:25:59.873 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=j6Mbzp5Dsf1bi2YUG5o2yA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:25:59.873 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.873 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:25:59.873 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:25:59.873 +03:00 [INF] HTTP GET /chathub responded 401 in 0.0761 ms
2025-08-10 14:25:59.874 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=j6Mbzp5Dsf1bi2YUG5o2yA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.33ms
2025-08-10 14:25:59.877 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:25:59.877 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.877 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1141ms
2025-08-10 14:25:59.879 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:25:59.879 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.879 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:25:59.879 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:25:59.879 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1588 ms
2025-08-10 14:25:59.879 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.2642ms
2025-08-10 14:25:59.891 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825159886 - null null
2025-08-10 14:25:59.891 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.891 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825159886 - 204 null null 0.1598ms
2025-08-10 14:25:59.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825159886 - null null
2025-08-10 14:25:59.895 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.895 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:25:59.895 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:25:59.895 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4310 ms
2025-08-10 14:25:59.895 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825159886 - 200 0 application/octet-stream 0.5896ms
2025-08-10 14:25:59.905 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825159898 - null null
2025-08-10 14:25:59.905 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA - null null
2025-08-10 14:25:59.905 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.905 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.905 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825159898 - 204 null null 0.1736ms
2025-08-10 14:25:59.905 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA - 204 null null 0.1791ms
2025-08-10 14:25:59.908 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA - text/plain;charset=UTF-8 32
2025-08-10 14:25:59.908 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.908 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:25:59.908 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825159898 - null null
2025-08-10 14:25:59.908 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.908 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:25:59.909 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:25:59.909 +03:00 [INF] HTTP POST /chathub responded 200 in 0.6210 ms
2025-08-10 14:25:59.909 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA - 200 0 text/plain 0.7215ms
2025-08-10 14:25:59.909 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:25:59.909 +03:00 [INF] HTTP GET /chathub responded 200 in 0.5691 ms
2025-08-10 14:25:59.909 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825159898 - 200 3 application/octet-stream 0.6731ms
2025-08-10 14:25:59.913 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825159912 - null null
2025-08-10 14:25:59.914 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.914 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825159912 - 204 null null 0.1425ms
2025-08-10 14:25:59.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825159912 - null null
2025-08-10 14:25:59.926 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:25:59.926 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:26:00.669 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:26:00.670 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:00.669 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA - null null
2025-08-10 14:26:00.670 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.1594ms
2025-08-10 14:26:00.670 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:00.670 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA - 204 null null 0.2364ms
2025-08-10 14:26:00.672 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:26:00.672 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA - text/plain;charset=UTF-8 103
2025-08-10 14:26:00.673 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:00.673 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:00.673 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:26:00.673 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:26:00.673 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:26:00.673 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4364 ms
2025-08-10 14:26:00.673 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:26:00.673 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA - 200 0 text/plain 0.6712ms
2025-08-10 14:26:00.674 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:26:00.674 +03:00 [INF] HTTP GET /chathub responded 200 in 747.8957 ms
2025-08-10 14:26:00.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825159912 - 200 44 application/octet-stream 748.1673ms
2025-08-10 14:26:00.676 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:26:00.677 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:00.677 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.457ms
2025-08-10 14:26:00.679 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:26:00.679 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:26:00.679 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:00.679 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:26:00.679 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:26:00.682 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:26:00.683 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:26:00.683 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:26:00.683 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 3.9376ms
2025-08-10 14:26:00.683 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:26:00.683 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 4.1788 ms
2025-08-10 14:26:00.683 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.4529ms
2025-08-10 14:26:00.684 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825160682 - null null
2025-08-10 14:26:00.684 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:00.684 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825160682 - 204 null null 0.1414ms
2025-08-10 14:26:00.687 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825160682 - null null
2025-08-10 14:26:00.687 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:00.688 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:26:00.743 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:26:00.743 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:26:00.743 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 70.4035ms
2025-08-10 14:26:00.743 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:26:00.744 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 70.9235 ms
2025-08-10 14:26:00.744 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 71.217ms
2025-08-10 14:26:37.501 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:26:37.501 +03:00 [INF] HTTP GET /chathub responded 200 in 36813.1257 ms
2025-08-10 14:26:37.501 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=D6vunRRSmSDr2qzck6f8nA&_=1754825160682 - 499 null null 36813.8293ms
2025-08-10 14:26:37.757 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:26:37.758 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.758 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.273ms
2025-08-10 14:26:37.758 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:26:37.758 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.758 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1283ms
2025-08-10 14:26:37.770 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:26:37.770 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.770 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:26:37.770 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:26:37.772 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:26:37.773 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:26:37.773 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.773 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:26:37.774 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:26:37.774 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4007 ms
2025-08-10 14:26:37.774 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6856ms
2025-08-10 14:26:37.774 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:26:37.774 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:26:37.774 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 3.993ms
2025-08-10 14:26:37.775 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:26:37.775 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 4.4394 ms
2025-08-10 14:26:37.775 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.8707ms
2025-08-10 14:26:37.799 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=a4L6ODgwQA2K5XULdpupsw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:26:37.799 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.799 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:26:37.799 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:26:37.799 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1445 ms
2025-08-10 14:26:37.799 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=a4L6ODgwQA2K5XULdpupsw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.4604ms
2025-08-10 14:26:37.799 +03:00 [INF] Connection id "0HNEN4JCDLMSH", Request id "0HNEN4JCDLMSH:000000A5": the application completed without reading the entire request body.
2025-08-10 14:26:37.804 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:26:37.804 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.804 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1369ms
2025-08-10 14:26:37.806 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:26:37.806 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.806 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:26:37.806 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:26:37.806 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1834 ms
2025-08-10 14:26:37.806 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.3356ms
2025-08-10 14:26:37.810 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wMVW2r2M3kVS2Xgmhsb0_Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:26:37.811 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.811 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:26:37.811 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:26:37.811 +03:00 [INF] HTTP GET /chathub responded 401 in 0.2126 ms
2025-08-10 14:26:37.811 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wMVW2r2M3kVS2Xgmhsb0_Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.8632ms
2025-08-10 14:26:37.815 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:26:37.815 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.815 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1282ms
2025-08-10 14:26:37.817 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:26:37.817 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.818 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:26:37.818 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:26:37.818 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1769 ms
2025-08-10 14:26:37.818 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.3038ms
2025-08-10 14:26:37.821 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825197819 - null null
2025-08-10 14:26:37.821 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.821 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825197819 - 204 null null 0.1285ms
2025-08-10 14:26:37.823 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825197819 - null null
2025-08-10 14:26:37.823 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.823 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:26:37.823 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:26:37.823 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2090 ms
2025-08-10 14:26:37.823 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825197819 - 200 0 application/octet-stream 0.3575ms
2025-08-10 14:26:37.828 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg - null null
2025-08-10 14:26:37.828 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825197825 - null null
2025-08-10 14:26:37.828 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.829 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.829 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825197825 - 204 null null 0.2956ms
2025-08-10 14:26:37.829 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg - 204 null null 0.3033ms
2025-08-10 14:26:37.833 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg - text/plain;charset=UTF-8 32
2025-08-10 14:26:37.833 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.833 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:26:37.833 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825197825 - null null
2025-08-10 14:26:37.833 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.833 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:26:37.833 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3299 ms
2025-08-10 14:26:37.833 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg - 200 0 text/plain 0.6087ms
2025-08-10 14:26:37.833 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:26:37.833 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:26:37.834 +03:00 [INF] HTTP GET /chathub responded 200 in 0.1534 ms
2025-08-10 14:26:37.834 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825197825 - 200 3 application/octet-stream 0.2671ms
2025-08-10 14:26:37.838 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825197837 - null null
2025-08-10 14:26:37.838 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.839 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825197837 - 204 null null 0.129ms
2025-08-10 14:26:37.840 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825197837 - null null
2025-08-10 14:26:37.840 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:37.841 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:26:39.299 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg - null null
2025-08-10 14:26:39.299 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:26:39.299 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:39.299 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:39.299 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2976ms
2025-08-10 14:26:39.299 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg - 204 null null 0.4258ms
2025-08-10 14:26:39.303 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg - text/plain;charset=UTF-8 103
2025-08-10 14:26:39.303 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:39.303 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:26:39.303 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:26:39.303 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:39.303 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:26:39.303 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2530 ms
2025-08-10 14:26:39.303 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg - 200 0 text/plain 0.5039ms
2025-08-10 14:26:39.304 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:26:39.304 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:26:39.305 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:26:39.305 +03:00 [INF] HTTP GET /chathub responded 200 in 1464.8290 ms
2025-08-10 14:26:39.305 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825197837 - 200 44 application/octet-stream 1464.9891ms
2025-08-10 14:26:39.307 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:26:39.308 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:26:39.308 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:39.308 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1632ms
2025-08-10 14:26:39.312 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:26:39.313 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:39.313 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:26:39.313 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:26:39.314 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:26:39.314 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:26:39.315 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 10.9886ms
2025-08-10 14:26:39.315 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:26:39.315 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 11.4075 ms
2025-08-10 14:26:39.315 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 11.7541ms
2025-08-10 14:26:39.315 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:26:39.318 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:26:39.319 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:26:39.319 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 6.3599ms
2025-08-10 14:26:39.319 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:26:39.319 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 6.7329 ms
2025-08-10 14:26:39.320 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 7.1287ms
2025-08-10 14:26:39.323 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825199315 - null null
2025-08-10 14:26:39.323 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:39.323 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825199315 - 204 null null 0.3424ms
2025-08-10 14:26:39.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825199315 - null null
2025-08-10 14:26:39.342 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:26:39.343 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:28:06.831 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:28:06.831 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:06.831 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.4282ms
2025-08-10 14:28:06.836 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:28:06.837 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:06.837 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:28:06.837 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:28:06.848 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:28:06.857 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:28:06.857 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:28:06.857 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 20.0492ms
2025-08-10 14:28:06.857 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:28:06.857 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 20.4986 ms
2025-08-10 14:28:06.857 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 20.8818ms
2025-08-10 14:28:09.355 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:28:09.355 +03:00 [INF] HTTP GET /chathub responded 200 in 90013.0285 ms
2025-08-10 14:28:09.356 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825199315 - 200 0 text/plain 90013.6793ms
2025-08-10 14:28:09.372 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825289366 - null null
2025-08-10 14:28:09.372 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:09.372 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825289366 - 204 null null 0.2611ms
2025-08-10 14:28:09.376 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825289366 - null null
2025-08-10 14:28:09.376 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:09.377 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:28:10.206 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:28:10.206 +03:00 [INF] HTTP GET /chathub responded 200 in 829.3063 ms
2025-08-10 14:28:10.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=2whWnqOqxYtDGEdoqhyilg&_=1754825289366 - 499 null null 829.6713ms
2025-08-10 14:28:10.920 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:28:10.920 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:10.920 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.1882ms
2025-08-10 14:28:10.924 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:28:10.924 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:10.925 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2429ms
2025-08-10 14:28:10.931 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:28:10.932 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:10.932 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:28:10.932 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:28:10.933 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:28:10.933 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:10.933 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:28:10.934 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:28:10.934 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4158 ms
2025-08-10 14:28:10.934 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7294ms
2025-08-10 14:28:10.949 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=qtZP_n3ltG1PSMp7PFPYnQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:28:10.949 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:10.949 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:28:10.950 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:28:10.950 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.2658 ms
2025-08-10 14:28:10.950 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=qtZP_n3ltG1PSMp7PFPYnQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.58ms
2025-08-10 14:28:10.950 +03:00 [INF] Connection id "0HNEN4JCDLMSH", Request id "0HNEN4JCDLMSH:000000BD": the application completed without reading the entire request body.
2025-08-10 14:28:10.952 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:28:10.973 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:28:10.973 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:28:10.973 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 40.4828ms
2025-08-10 14:28:10.973 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:28:10.973 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 40.9993 ms
2025-08-10 14:28:10.973 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 41.6367ms
2025-08-10 14:28:11.029 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:28:11.030 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.030 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.272ms
2025-08-10 14:28:11.033 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:28:11.033 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.033 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:28:11.034 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:28:11.034 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4778 ms
2025-08-10 14:28:11.034 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8621ms
2025-08-10 14:28:11.043 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=slvAbGSjuRo51_GelBblDQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:28:11.043 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.043 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:28:11.043 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:28:11.043 +03:00 [INF] HTTP GET /chathub responded 401 in 0.2102 ms
2025-08-10 14:28:11.043 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=slvAbGSjuRo51_GelBblDQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.517ms
2025-08-10 14:28:11.057 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:28:11.057 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.057 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2641ms
2025-08-10 14:28:11.061 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:28:11.061 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.061 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:28:11.061 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:28:11.061 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3522 ms
2025-08-10 14:28:11.061 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6136ms
2025-08-10 14:28:11.074 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291067 - null null
2025-08-10 14:28:11.074 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.075 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291067 - 204 null null 0.225ms
2025-08-10 14:28:11.077 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291067 - null null
2025-08-10 14:28:11.077 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.077 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:28:11.078 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:28:11.078 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2887 ms
2025-08-10 14:28:11.078 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291067 - 200 0 application/octet-stream 0.5183ms
2025-08-10 14:28:11.090 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291082 - null null
2025-08-10 14:28:11.090 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.090 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291082 - 204 null null 0.2956ms
2025-08-10 14:28:11.091 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ - null null
2025-08-10 14:28:11.091 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.091 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ - 204 null null 0.1779ms
2025-08-10 14:28:11.096 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291082 - null null
2025-08-10 14:28:11.096 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.096 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:28:11.098 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ - text/plain;charset=UTF-8 32
2025-08-10 14:28:11.098 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.098 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:28:11.098 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:28:11.098 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3081 ms
2025-08-10 14:28:11.098 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ - 200 0 text/plain 0.5743ms
2025-08-10 14:28:11.098 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:28:11.098 +03:00 [INF] HTTP GET /chathub responded 200 in 2.0899 ms
2025-08-10 14:28:11.098 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291082 - 200 3 application/octet-stream 2.6482ms
2025-08-10 14:28:11.114 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291107 - null null
2025-08-10 14:28:11.114 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.114 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291107 - 204 null null 0.3872ms
2025-08-10 14:28:11.118 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291107 - null null
2025-08-10 14:28:11.118 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.118 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:28:11.757 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:28:11.757 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.757 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2622ms
2025-08-10 14:28:11.760 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ - null null
2025-08-10 14:28:11.760 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.760 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ - 204 null null 0.2763ms
2025-08-10 14:28:11.764 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:28:11.764 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.764 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:28:11.764 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:28:11.764 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ - text/plain;charset=UTF-8 103
2025-08-10 14:28:11.765 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.765 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:28:11.765 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:28:11.765 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1969 ms
2025-08-10 14:28:11.765 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ - 200 0 text/plain 0.3945ms
2025-08-10 14:28:11.771 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:28:11.771 +03:00 [INF] HTTP GET /chathub responded 200 in 653.3126 ms
2025-08-10 14:28:11.771 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291107 - 200 44 application/octet-stream 653.692ms
2025-08-10 14:28:11.778 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:28:11.782 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:28:11.783 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.783 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:28:11.784 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:28:11.795 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:28:11.811 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:28:11.811 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:28:11.812 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 28.0231ms
2025-08-10 14:28:11.812 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:28:11.812 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 28.7821 ms
2025-08-10 14:28:11.812 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 29.6248ms
2025-08-10 14:28:11.820 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291814 - null null
2025-08-10 14:28:11.820 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.821 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291814 - 204 null null 0.3841ms
2025-08-10 14:28:11.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291814 - null null
2025-08-10 14:28:11.825 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:28:11.825 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:28:11.875 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:28:11.875 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:28:11.875 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 111.2039ms
2025-08-10 14:28:11.875 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:28:11.875 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 111.6629 ms
2025-08-10 14:28:11.876 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 112.0538ms
2025-08-10 14:29:41.829 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:29:41.830 +03:00 [INF] HTTP GET /chathub responded 200 in 90004.5517 ms
2025-08-10 14:29:41.830 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825291814 - 200 0 text/plain 90005.008ms
2025-08-10 14:29:41.856 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825381849 - null null
2025-08-10 14:29:41.856 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:29:41.856 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825381849 - 204 null null 0.2478ms
2025-08-10 14:29:41.862 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825381849 - null null
2025-08-10 14:29:41.863 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:29:41.863 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:31:04.529 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:31:04.529 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:31:04.529 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3169ms
2025-08-10 14:31:04.539 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:31:04.539 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:31:04.540 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:31:04.540 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:31:04.546 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:31:04.554 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:31:04.555 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:31:04.555 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 14.9448ms
2025-08-10 14:31:04.555 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:31:04.555 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 15.4062 ms
2025-08-10 14:31:04.555 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 15.7717ms
2025-08-10 14:31:11.876 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:31:11.876 +03:00 [INF] HTTP GET /chathub responded 200 in 90013.3678 ms
2025-08-10 14:31:11.876 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825381849 - 200 0 text/plain 90013.6961ms
2025-08-10 14:31:11.888 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825471882 - null null
2025-08-10 14:31:11.888 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:31:11.888 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825471882 - 204 null null 0.1857ms
2025-08-10 14:31:11.891 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825471882 - null null
2025-08-10 14:31:11.891 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:31:11.891 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:32:36.289 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:32:36.289 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:32:36.289 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2243ms
2025-08-10 14:32:36.314 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:32:36.314 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:32:36.315 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:32:36.315 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:32:36.322 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:32:36.335 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:32:36.335 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:32:36.336 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 20.497ms
2025-08-10 14:32:36.336 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:32:36.336 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 21.1176 ms
2025-08-10 14:32:36.336 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 21.5041ms
2025-08-10 14:32:41.897 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:32:41.897 +03:00 [INF] HTTP GET /chathub responded 200 in 90006.3591 ms
2025-08-10 14:32:41.897 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825471882 - 200 0 text/plain 90006.6337ms
2025-08-10 14:32:41.912 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825561906 - null null
2025-08-10 14:32:41.913 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:32:41.913 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825561906 - 204 null null 0.3912ms
2025-08-10 14:32:41.916 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825561906 - null null
2025-08-10 14:32:41.916 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:32:41.916 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:34:11.920 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:34:11.920 +03:00 [INF] HTTP GET /chathub responded 200 in 90004.3405 ms
2025-08-10 14:34:11.921 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825561906 - 200 0 text/plain 90004.663ms
2025-08-10 14:34:11.935 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825651929 - null null
2025-08-10 14:34:11.935 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:11.935 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825651929 - 204 null null 0.1604ms
2025-08-10 14:34:11.939 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825651929 - null null
2025-08-10 14:34:11.939 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:11.940 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:34:12.739 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:34:12.739 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:12.739 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2657ms
2025-08-10 14:34:12.745 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:34:12.745 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:12.747 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:34:12.747 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:34:12.765 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:34:12.776 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:34:12.776 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:34:12.776 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 29.2912ms
2025-08-10 14:34:12.776 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:34:12.776 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 30.8655 ms
2025-08-10 14:34:12.776 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 31.1741ms
2025-08-10 14:34:18.753 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:34:18.754 +03:00 [INF] HTTP GET /chathub responded 200 in 6814.1832 ms
2025-08-10 14:34:18.754 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wOpVv7r4dYJ_rIc6IaTHvQ&_=1754825651929 - 499 null null 6814.5995ms
2025-08-10 14:34:19.358 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:34:19.358 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.358 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.3477ms
2025-08-10 14:34:19.365 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:34:19.365 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.365 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2296ms
2025-08-10 14:34:19.369 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:34:19.369 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.370 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:34:19.370 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:34:19.375 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:34:19.376 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:34:19.376 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.377 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:34:19.377 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:34:19.377 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2491 ms
2025-08-10 14:34:19.377 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4557ms
2025-08-10 14:34:19.393 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:34:19.394 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:34:19.394 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 24.1937ms
2025-08-10 14:34:19.394 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:34:19.394 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 24.5977 ms
2025-08-10 14:34:19.394 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 24.8728ms
2025-08-10 14:34:19.421 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=vNbzbczvDm4KOg47PwL4GA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:34:19.421 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.421 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:34:19.421 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:34:19.421 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1111 ms
2025-08-10 14:34:19.421 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=vNbzbczvDm4KOg47PwL4GA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.3636ms
2025-08-10 14:34:19.421 +03:00 [INF] Connection id "0HNEN4JCDLMSH", Request id "0HNEN4JCDLMSH:000000DB": the application completed without reading the entire request body.
2025-08-10 14:34:19.433 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:34:19.433 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.433 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2331ms
2025-08-10 14:34:19.435 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:34:19.435 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.435 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:34:19.436 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:34:19.436 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2335 ms
2025-08-10 14:34:19.436 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.429ms
2025-08-10 14:34:19.441 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=A7hd1Iz7W6ydWlzG5gPEHA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:34:19.442 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.442 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:34:19.442 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:34:19.442 +03:00 [INF] HTTP GET /chathub responded 401 in 0.3431 ms
2025-08-10 14:34:19.442 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=A7hd1Iz7W6ydWlzG5gPEHA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.9117ms
2025-08-10 14:34:19.448 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:34:19.448 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.448 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2008ms
2025-08-10 14:34:19.450 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:34:19.450 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.450 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:34:19.450 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:34:19.450 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2332 ms
2025-08-10 14:34:19.450 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4446ms
2025-08-10 14:34:19.457 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825659454 - null null
2025-08-10 14:34:19.457 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.457 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825659454 - 204 null null 0.1526ms
2025-08-10 14:34:19.461 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825659454 - null null
2025-08-10 14:34:19.461 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.461 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:34:19.462 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:34:19.462 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2588 ms
2025-08-10 14:34:19.462 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825659454 - 200 0 application/octet-stream 0.4567ms
2025-08-10 14:34:19.469 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825659465 - null null
2025-08-10 14:34:19.469 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.469 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825659465 - 204 null null 0.2437ms
2025-08-10 14:34:19.471 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg - null null
2025-08-10 14:34:19.471 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.471 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg - 204 null null 0.1751ms
2025-08-10 14:34:19.472 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825659465 - null null
2025-08-10 14:34:19.472 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.473 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:34:19.473 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg - text/plain;charset=UTF-8 32
2025-08-10 14:34:19.474 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.474 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:34:19.474 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:34:19.474 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1547 ms
2025-08-10 14:34:19.474 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg - 200 0 text/plain 0.375ms
2025-08-10 14:34:19.474 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:34:19.474 +03:00 [INF] HTTP GET /chathub responded 200 in 1.3242 ms
2025-08-10 14:34:19.474 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825659465 - 200 3 application/octet-stream 1.4954ms
2025-08-10 14:34:19.485 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825659482 - null null
2025-08-10 14:34:19.485 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.485 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825659482 - 204 null null 0.218ms
2025-08-10 14:34:19.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825659482 - null null
2025-08-10 14:34:19.488 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:19.488 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:34:20.050 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:34:20.051 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:20.051 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2857ms
2025-08-10 14:34:20.054 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg - null null
2025-08-10 14:34:20.055 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:20.055 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg - 204 null null 0.2489ms
2025-08-10 14:34:20.056 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:34:20.056 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:20.057 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:34:20.057 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:34:20.060 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg - text/plain;charset=UTF-8 103
2025-08-10 14:34:20.060 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:20.060 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:34:20.060 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:34:20.060 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3913 ms
2025-08-10 14:34:20.061 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg - 200 0 text/plain 0.7661ms
2025-08-10 14:34:20.063 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:34:20.063 +03:00 [INF] HTTP GET /chathub responded 200 in 575.4907 ms
2025-08-10 14:34:20.063 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825659482 - 200 44 application/octet-stream 575.9326ms
2025-08-10 14:34:20.064 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:34:20.091 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:34:20.092 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:20.092 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.6842ms
2025-08-10 14:34:20.099 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:34:20.099 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:20.100 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:34:20.100 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:34:20.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:34:20.106 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:34:20.106 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:34:20.106 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 6.5121ms
2025-08-10 14:34:20.106 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:34:20.106 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 7.0073 ms
2025-08-10 14:34:20.106 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 7.4315ms
2025-08-10 14:34:20.122 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825660117 - null null
2025-08-10 14:34:20.122 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:20.122 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825660117 - 204 null null 0.2439ms
2025-08-10 14:34:20.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825660117 - null null
2025-08-10 14:34:20.127 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:20.127 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:34:20.154 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:34:20.154 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:34:20.154 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 96.744ms
2025-08-10 14:34:20.154 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:34:20.154 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 97.4931 ms
2025-08-10 14:34:20.154 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 97.8502ms
2025-08-10 14:34:47.543 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:34:47.543 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:47.543 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2942ms
2025-08-10 14:34:47.546 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:34:47.546 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:34:47.546 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:34:47.547 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:34:47.553 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:34:47.559 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:34:47.560 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:34:47.560 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 13.0812ms
2025-08-10 14:34:47.560 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:34:47.560 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 13.3955 ms
2025-08-10 14:34:47.560 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 13.7201ms
2025-08-10 14:35:07.776 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:35:07.776 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:07.776 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1799ms
2025-08-10 14:35:07.780 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:35:07.780 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:07.781 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:35:07.781 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:35:07.783 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:35:07.784 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:35:07.785 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:35:07.786 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 4.6704ms
2025-08-10 14:35:07.786 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:35:07.786 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 5.1670 ms
2025-08-10 14:35:07.786 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 6.021ms
2025-08-10 14:35:10.826 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:35:10.826 +03:00 [INF] HTTP GET /chathub responded 200 in 50698.6511 ms
2025-08-10 14:35:10.826 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=otMSOdcP45jZw3TiUT4lvg&_=1754825660117 - 499 null null 50699.0584ms
2025-08-10 14:35:11.125 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:35:11.125 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.125 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.1862ms
2025-08-10 14:35:11.131 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:35:11.132 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.132 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2485ms
2025-08-10 14:35:11.145 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:35:11.145 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:35:11.145 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.145 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.145 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:35:11.145 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:35:11.145 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:35:11.145 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:35:11.145 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2979 ms
2025-08-10 14:35:11.145 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5784ms
2025-08-10 14:35:11.151 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:35:11.152 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=gMZQJSHoQuWqtxBVb5Aelw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:35:11.152 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.152 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:35:11.152 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:35:11.152 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.0748 ms
2025-08-10 14:35:11.152 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=gMZQJSHoQuWqtxBVb5Aelw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.2178ms
2025-08-10 14:35:11.152 +03:00 [INF] Connection id "0HNEN4JCDLMSH", Request id "0HNEN4JCDLMSH:000000F1": the application completed without reading the entire request body.
2025-08-10 14:35:11.156 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:35:11.156 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.156 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1436ms
2025-08-10 14:35:11.159 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:35:11.159 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.159 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:35:11.159 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:35:11.159 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.6117 ms
2025-08-10 14:35:11.160 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.0501ms
2025-08-10 14:35:11.163 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=NiDOHNbqsgq4oLNPV0bS9g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:35:11.163 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.163 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:35:11.163 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:35:11.163 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1091 ms
2025-08-10 14:35:11.164 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=NiDOHNbqsgq4oLNPV0bS9g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.309ms
2025-08-10 14:35:11.166 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:35:11.166 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.166 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1157ms
2025-08-10 14:35:11.168 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:35:11.168 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.168 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:35:11.168 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:35:11.168 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1463 ms
2025-08-10 14:35:11.168 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.2525ms
2025-08-10 14:35:11.169 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:35:11.170 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:35:11.170 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 24.3457ms
2025-08-10 14:35:11.170 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:35:11.170 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 24.6743 ms
2025-08-10 14:35:11.170 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 24.9568ms
2025-08-10 14:35:11.171 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825711169 - null null
2025-08-10 14:35:11.171 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.171 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825711169 - 204 null null 0.1192ms
2025-08-10 14:35:11.173 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825711169 - null null
2025-08-10 14:35:11.173 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.173 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:35:11.173 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:35:11.174 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2402 ms
2025-08-10 14:35:11.174 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825711169 - 200 0 application/octet-stream 0.4241ms
2025-08-10 14:35:11.181 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825711178 - null null
2025-08-10 14:35:11.181 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.181 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw - null null
2025-08-10 14:35:11.181 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825711178 - 204 null null 0.1201ms
2025-08-10 14:35:11.181 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.181 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw - 204 null null 0.0698ms
2025-08-10 14:35:11.184 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw - text/plain;charset=UTF-8 32
2025-08-10 14:35:11.184 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.184 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:35:11.184 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:35:11.184 +03:00 [INF] HTTP POST /chathub responded 200 in 0.1455 ms
2025-08-10 14:35:11.184 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw - 200 0 text/plain 0.2273ms
2025-08-10 14:35:11.184 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825711178 - null null
2025-08-10 14:35:11.184 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.184 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:35:11.184 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:35:11.184 +03:00 [INF] HTTP GET /chathub responded 200 in 0.0813 ms
2025-08-10 14:35:11.184 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825711178 - 200 3 application/octet-stream 0.1262ms
2025-08-10 14:35:11.189 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825711187 - null null
2025-08-10 14:35:11.189 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.189 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825711187 - 204 null null 0.1157ms
2025-08-10 14:35:11.193 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825711187 - null null
2025-08-10 14:35:11.193 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:11.193 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:35:12.227 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:35:12.227 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:12.227 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.3197ms
2025-08-10 14:35:12.227 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw - null null
2025-08-10 14:35:12.227 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:12.227 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw - 204 null null 0.2106ms
2025-08-10 14:35:12.232 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw - text/plain;charset=UTF-8 103
2025-08-10 14:35:12.232 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:12.232 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:35:12.232 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:35:12.232 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:35:12.232 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:12.232 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3552 ms
2025-08-10 14:35:12.232 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:35:12.232 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw - 200 0 text/plain 0.9114ms
2025-08-10 14:35:12.233 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:35:12.233 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:35:12.233 +03:00 [INF] HTTP GET /chathub responded 200 in 1039.9221 ms
2025-08-10 14:35:12.233 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825711187 - 200 44 application/octet-stream 1040.2671ms
2025-08-10 14:35:12.237 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:35:12.238 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:12.238 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:35:12.238 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:35:12.240 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:35:12.240 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:35:12.243 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:35:12.243 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:35:12.243 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 5.2797ms
2025-08-10 14:35:12.243 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:35:12.243 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 5.6970 ms
2025-08-10 14:35:12.244 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 6.0757ms
2025-08-10 14:35:12.251 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825712245 - null null
2025-08-10 14:35:12.251 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:12.251 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825712245 - 204 null null 0.3714ms
2025-08-10 14:35:12.258 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825712245 - null null
2025-08-10 14:35:12.258 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:12.259 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:35:12.316 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:35:12.316 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:35:12.316 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 83.7899ms
2025-08-10 14:35:12.316 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:35:12.316 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 84.1018 ms
2025-08-10 14:35:12.316 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 84.3891ms
2025-08-10 14:35:26.696 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:35:26.696 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:26.697 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.182ms
2025-08-10 14:35:26.700 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:35:26.700 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:35:26.700 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:35:26.700 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:35:26.701 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:35:26.703 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:35:26.703 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:35:26.703 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 3.0214ms
2025-08-10 14:35:26.703 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:35:26.703 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 3.2195 ms
2025-08-10 14:35:26.703 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 3.4186ms
2025-08-10 14:36:27.998 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:36:27.998 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:27.998 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.882ms
2025-08-10 14:36:28.086 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:36:28.087 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:28.087 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:36:28.087 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:36:28.093 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:36:28.100 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:36:28.100 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:36:28.100 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 13.1108ms
2025-08-10 14:36:28.101 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:36:28.101 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 13.7707 ms
2025-08-10 14:36:28.101 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 14.3138ms
2025-08-10 14:36:32.671 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:36:32.671 +03:00 [INF] HTTP GET /chathub responded 200 in 80412.1004 ms
2025-08-10 14:36:32.671 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=451RreiBRABU4hPnZn7_Bw&_=1754825712245 - 499 null null 80412.6163ms
2025-08-10 14:36:32.898 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:36:32.898 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.898 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1813ms
2025-08-10 14:36:32.906 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:36:32.906 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.906 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.1687ms
2025-08-10 14:36:32.914 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:36:32.914 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.914 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:36:32.914 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:36:32.914 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5504 ms
2025-08-10 14:36:32.914 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8369ms
2025-08-10 14:36:32.915 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:36:32.915 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.915 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:36:32.915 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:36:32.920 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:36:32.920 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=CkwbcsjBNIK6o0nO0SdFpw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:36:32.920 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.920 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:36:32.920 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:36:32.920 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.0921 ms
2025-08-10 14:36:32.921 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=CkwbcsjBNIK6o0nO0SdFpw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.224ms
2025-08-10 14:36:32.921 +03:00 [INF] Connection id "0HNEN4JCDLMSH", Request id "0HNEN4JCDLMSH:00000107": the application completed without reading the entire request body.
2025-08-10 14:36:32.924 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:36:32.924 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.924 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2478ms
2025-08-10 14:36:32.929 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:36:32.929 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.930 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:36:32.930 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:36:32.930 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.6314 ms
2025-08-10 14:36:32.930 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.9018ms
2025-08-10 14:36:32.934 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=jjRgoY35nbhunrifiBfIWw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:36:32.934 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.934 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:36:32.934 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:36:32.934 +03:00 [INF] HTTP GET /chathub responded 401 in 0.0655 ms
2025-08-10 14:36:32.934 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=jjRgoY35nbhunrifiBfIWw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.219ms
2025-08-10 14:36:32.936 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:36:32.936 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:36:32.936 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 21.0473ms
2025-08-10 14:36:32.936 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:36:32.936 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 21.4108 ms
2025-08-10 14:36:32.936 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 21.6421ms
2025-08-10 14:36:32.938 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:36:32.938 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.938 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1607ms
2025-08-10 14:36:32.942 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:36:32.942 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.942 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:36:32.942 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:36:32.942 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1729 ms
2025-08-10 14:36:32.942 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.3881ms
2025-08-10 14:36:32.950 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825792946 - null null
2025-08-10 14:36:32.950 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.950 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825792946 - 204 null null 0.1844ms
2025-08-10 14:36:32.953 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825792946 - null null
2025-08-10 14:36:32.953 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.954 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:36:32.954 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:36:32.954 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2023 ms
2025-08-10 14:36:32.954 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825792946 - 200 0 application/octet-stream 0.37ms
2025-08-10 14:36:32.959 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825792956 - null null
2025-08-10 14:36:32.959 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g - null null
2025-08-10 14:36:32.959 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.959 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.959 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825792956 - 204 null null 0.126ms
2025-08-10 14:36:32.959 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g - 204 null null 0.1326ms
2025-08-10 14:36:32.961 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825792956 - null null
2025-08-10 14:36:32.961 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.961 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:36:32.962 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g - text/plain;charset=UTF-8 32
2025-08-10 14:36:32.962 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.962 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:36:32.962 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:36:32.962 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3246 ms
2025-08-10 14:36:32.962 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g - 200 0 text/plain 0.5469ms
2025-08-10 14:36:32.962 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:36:32.962 +03:00 [INF] HTTP GET /chathub responded 200 in 1.2670 ms
2025-08-10 14:36:32.962 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825792956 - 200 3 application/octet-stream 1.4096ms
2025-08-10 14:36:32.968 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825792966 - null null
2025-08-10 14:36:32.968 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.968 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825792966 - 204 null null 0.1188ms
2025-08-10 14:36:32.969 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825792966 - null null
2025-08-10 14:36:32.969 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:32.969 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:36:33.558 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g - null null
2025-08-10 14:36:33.558 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:33.558 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:36:33.558 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g - 204 null null 0.2059ms
2025-08-10 14:36:33.558 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:33.559 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.5442ms
2025-08-10 14:36:33.562 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g - text/plain;charset=UTF-8 103
2025-08-10 14:36:33.562 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:33.562 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:36:33.562 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:36:33.562 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2461 ms
2025-08-10 14:36:33.562 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g - 200 0 text/plain 0.6871ms
2025-08-10 14:36:33.563 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:36:33.563 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:36:33.563 +03:00 [INF] HTTP GET /chathub responded 200 in 594.1590 ms
2025-08-10 14:36:33.563 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:33.564 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825792966 - 200 44 application/octet-stream 594.5688ms
2025-08-10 14:36:33.564 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:36:33.564 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:36:33.567 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:36:33.567 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:33.567 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2759ms
2025-08-10 14:36:33.571 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:36:33.571 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:33.571 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:36:33.571 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:36:33.572 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:36:33.575 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:36:33.576 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825793573 - null null
2025-08-10 14:36:33.577 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:33.577 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825793573 - 204 null null 0.2476ms
2025-08-10 14:36:33.578 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:36:33.578 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:36:33.578 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 6.9874ms
2025-08-10 14:36:33.579 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:36:33.579 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 7.6641 ms
2025-08-10 14:36:33.579 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 8.1418ms
2025-08-10 14:36:33.586 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825793573 - null null
2025-08-10 14:36:33.586 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:33.587 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:36:33.645 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:36:33.646 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:36:33.646 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 81.7863ms
2025-08-10 14:36:33.646 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:36:33.646 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 82.3883 ms
2025-08-10 14:36:33.646 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 83.1725ms
2025-08-10 14:36:58.184 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:36:58.184 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:58.184 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2519ms
2025-08-10 14:36:58.186 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:36:58.187 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:36:58.187 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:36:58.187 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:36:58.195 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:36:58.202 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:36:58.202 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:36:58.202 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 14.9616ms
2025-08-10 14:36:58.202 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:36:58.202 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 15.2386 ms
2025-08-10 14:36:58.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 15.4906ms
2025-08-10 14:37:51.202 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:37:51.202 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:51.202 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2965ms
2025-08-10 14:37:51.207 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:37:51.208 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:51.208 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:37:51.208 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:37:51.211 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:37:51.213 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:37:51.213 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:37:51.214 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 5.4258ms
2025-08-10 14:37:51.214 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:37:51.214 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 5.8946 ms
2025-08-10 14:37:51.214 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 6.2898ms
2025-08-10 14:37:54.441 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:37:54.442 +03:00 [INF] HTTP GET /chathub responded 200 in 80855.2328 ms
2025-08-10 14:37:54.442 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=5d-vTpSvQSftKbCVhVhN9g&_=1754825793573 - 499 null null 80855.8517ms
2025-08-10 14:37:54.775 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:37:54.775 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.775 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2747ms
2025-08-10 14:37:54.788 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:37:54.788 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.789 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2236ms
2025-08-10 14:37:54.811 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:37:54.811 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.812 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:37:54.812 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:37:54.820 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:37:54.820 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.821 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:37:54.821 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:37:54.821 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 1.0362 ms
2025-08-10 14:37:54.821 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.4714ms
2025-08-10 14:37:54.823 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:37:54.827 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=Vh44JcjZIFajTEJ0YriKWA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:37:54.827 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.827 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:37:54.827 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:37:54.827 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1715 ms
2025-08-10 14:37:54.827 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=Vh44JcjZIFajTEJ0YriKWA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.4234ms
2025-08-10 14:37:54.827 +03:00 [INF] Connection id "0HNEN4JCDLMSJ", Request id "0HNEN4JCDLMSJ:00000003": the application completed without reading the entire request body.
2025-08-10 14:37:54.831 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:37:54.831 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.832 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.413ms
2025-08-10 14:37:54.837 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:37:54.837 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.837 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:37:54.837 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:37:54.837 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2097 ms
2025-08-10 14:37:54.837 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4589ms
2025-08-10 14:37:54.842 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=84vuyHLsUOFds5_4xYdyQw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:37:54.842 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.842 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:37:54.842 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:37:54.842 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:37:54.842 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1795 ms
2025-08-10 14:37:54.842 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=84vuyHLsUOFds5_4xYdyQw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.5446ms
2025-08-10 14:37:54.842 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:37:54.842 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 30.306ms
2025-08-10 14:37:54.842 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:37:54.842 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 30.8566 ms
2025-08-10 14:37:54.842 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 31.2783ms
2025-08-10 14:37:54.846 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:37:54.846 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.846 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2707ms
2025-08-10 14:37:54.849 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:37:54.849 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.850 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:37:54.850 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:37:54.850 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.7429 ms
2025-08-10 14:37:54.850 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.1447ms
2025-08-10 14:37:54.855 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825874853 - null null
2025-08-10 14:37:54.855 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.855 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825874853 - 204 null null 0.1468ms
2025-08-10 14:37:54.857 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825874853 - null null
2025-08-10 14:37:54.857 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.857 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:37:54.857 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:37:54.857 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2784 ms
2025-08-10 14:37:54.857 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825874853 - 200 0 application/octet-stream 0.5451ms
2025-08-10 14:37:54.862 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw - null null
2025-08-10 14:37:54.862 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825874860 - null null
2025-08-10 14:37:54.862 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.862 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.862 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825874860 - 204 null null 0.1484ms
2025-08-10 14:37:54.862 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw - 204 null null 0.1394ms
2025-08-10 14:37:54.865 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw - text/plain;charset=UTF-8 32
2025-08-10 14:37:54.865 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.865 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:37:54.865 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:37:54.865 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825874860 - null null
2025-08-10 14:37:54.865 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3484 ms
2025-08-10 14:37:54.865 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.865 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw - 200 0 text/plain 0.6827ms
2025-08-10 14:37:54.865 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:37:54.865 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:37:54.866 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2310 ms
2025-08-10 14:37:54.866 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825874860 - 200 3 application/octet-stream 0.3822ms
2025-08-10 14:37:54.872 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825874869 - null null
2025-08-10 14:37:54.872 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.872 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825874869 - 204 null null 0.2918ms
2025-08-10 14:37:54.876 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825874869 - null null
2025-08-10 14:37:54.876 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:54.876 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:37:55.417 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:37:55.418 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:55.418 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2206ms
2025-08-10 14:37:55.417 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw - null null
2025-08-10 14:37:55.418 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:55.418 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw - 204 null null 0.4002ms
2025-08-10 14:37:55.421 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw - text/plain;charset=UTF-8 103
2025-08-10 14:37:55.421 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:55.421 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:37:55.421 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:37:55.421 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:37:55.421 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:55.421 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4956 ms
2025-08-10 14:37:55.422 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:37:55.422 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw - 200 0 text/plain 0.9381ms
2025-08-10 14:37:55.422 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:37:55.423 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:37:55.424 +03:00 [INF] HTTP GET /chathub responded 200 in 547.9627 ms
2025-08-10 14:37:55.424 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825874869 - 200 44 application/octet-stream 548.2084ms
2025-08-10 14:37:55.426 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:37:55.426 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:55.427 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:37:55.427 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:37:55.435 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:37:55.435 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825875432 - null null
2025-08-10 14:37:55.436 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:55.436 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825875432 - 204 null null 0.4105ms
2025-08-10 14:37:55.437 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:37:55.439 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825875432 - null null
2025-08-10 14:37:55.440 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:37:55.440 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:37:55.448 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:37:55.448 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:37:55.449 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 21.7371ms
2025-08-10 14:37:55.449 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:37:55.449 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 22.1818 ms
2025-08-10 14:37:55.449 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 22.6406ms
2025-08-10 14:37:55.528 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:37:55.528 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:37:55.529 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 106.5257ms
2025-08-10 14:37:55.529 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:37:55.529 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 107.2226 ms
2025-08-10 14:37:55.529 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 107.4567ms
2025-08-10 14:38:40.877 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:38:40.878 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:38:40.878 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.9809ms
2025-08-10 14:38:40.882 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:38:40.882 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:38:40.882 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:38:40.883 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:38:40.889 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:38:40.895 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:38:40.895 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:38:40.896 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 13.0371ms
2025-08-10 14:38:40.896 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:38:40.896 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 13.5108 ms
2025-08-10 14:38:40.896 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 13.8745ms
2025-08-10 14:39:03.583 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:39:03.583 +03:00 [INF] HTTP GET /chathub responded 200 in 68143.4277 ms
2025-08-10 14:39:03.583 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=QT_ZXY3QPqxWzmHvnTulaw&_=1754825875432 - 499 null null 68144.1061ms
2025-08-10 14:39:03.830 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:39:03.830 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:39:03.830 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.830 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2293ms
2025-08-10 14:39:03.831 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.831 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.8276ms
2025-08-10 14:39:03.852 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:39:03.853 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.853 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:39:03.853 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:39:03.853 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4723 ms
2025-08-10 14:39:03.853 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8391ms
2025-08-10 14:39:03.857 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:39:03.857 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.858 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:39:03.858 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 14:39:03.865 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=g47Ey_3KzSm5TS9Z6LmN4Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:39:03.865 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.865 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:39:03.865 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:39:03.865 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1458 ms
2025-08-10 14:39:03.865 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=g47Ey_3KzSm5TS9Z6LmN4Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.5982ms
2025-08-10 14:39:03.865 +03:00 [INF] Connection id "0HNEN4JCDLMSJ", Request id "0HNEN4JCDLMSJ:00000019": the application completed without reading the entire request body.
2025-08-10 14:39:03.867 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:39:03.871 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:39:03.871 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.871 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1155ms
2025-08-10 14:39:03.873 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:39:03.873 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.873 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:39:03.874 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:39:03.874 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2155 ms
2025-08-10 14:39:03.874 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.4415ms
2025-08-10 14:39:03.877 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=dXkvqnm3esehN6DaKngjww&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:39:03.877 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.877 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:39:03.877 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:39:03.877 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1231 ms
2025-08-10 14:39:03.877 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=dXkvqnm3esehN6DaKngjww&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.2965ms
2025-08-10 14:39:03.881 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:39:03.881 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.881 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1898ms
2025-08-10 14:39:03.883 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:39:03.883 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.884 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:39:03.884 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:39:03.884 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.1593 ms
2025-08-10 14:39:03.884 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.309ms
2025-08-10 14:39:03.886 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 14:39:03.887 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:39:03.887 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 28.4248ms
2025-08-10 14:39:03.887 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 14:39:03.887 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 29.7014 ms
2025-08-10 14:39:03.887 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 29.902ms
2025-08-10 14:39:03.887 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825943885 - null null
2025-08-10 14:39:03.887 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.887 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825943885 - 204 null null 0.1246ms
2025-08-10 14:39:03.890 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825943885 - null null
2025-08-10 14:39:03.890 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.890 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:39:03.890 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:39:03.890 +03:00 [INF] HTTP GET /chathub responded 200 in 0.2697 ms
2025-08-10 14:39:03.890 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825943885 - 200 0 application/octet-stream 0.4405ms
2025-08-10 14:39:03.895 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825943892 - null null
2025-08-10 14:39:03.895 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ - null null
2025-08-10 14:39:03.895 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.895 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.895 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ - 204 null null 0.1825ms
2025-08-10 14:39:03.895 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825943892 - 204 null null 0.1629ms
2025-08-10 14:39:03.898 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ - text/plain;charset=UTF-8 32
2025-08-10 14:39:03.898 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825943892 - null null
2025-08-10 14:39:03.898 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.898 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.898 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:39:03.899 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:39:03.899 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:39:03.899 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2538 ms
2025-08-10 14:39:03.899 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ - 200 0 text/plain 0.541ms
2025-08-10 14:39:03.899 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:39:03.899 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3803 ms
2025-08-10 14:39:03.899 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825943892 - 200 3 application/octet-stream 0.6086ms
2025-08-10 14:39:03.904 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825943902 - null null
2025-08-10 14:39:03.904 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.904 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825943902 - 204 null null 0.2271ms
2025-08-10 14:39:03.909 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825943902 - null null
2025-08-10 14:39:03.909 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:03.910 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:39:04.439 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ - null null
2025-08-10 14:39:04.439 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:04.439 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 14:39:04.439 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ - 204 null null 0.1694ms
2025-08-10 14:39:04.439 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:04.439 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2934ms
2025-08-10 14:39:04.443 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ - text/plain;charset=UTF-8 103
2025-08-10 14:39:04.443 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:04.443 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:39:04.443 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:39:04.443 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3470 ms
2025-08-10 14:39:04.443 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:39:04.443 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ - 200 0 text/plain 0.6671ms
2025-08-10 14:39:04.443 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:04.444 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3831ms
2025-08-10 14:39:04.444 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 14:39:04.444 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:04.445 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:39:04.445 +03:00 [INF] HTTP GET /chathub responded 200 in 535.9018 ms
2025-08-10 14:39:04.445 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:39:04.446 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 14:39:04.445 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825943902 - 200 44 application/octet-stream 536.2309ms
2025-08-10 14:39:04.449 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:39:04.449 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:04.450 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:39:04.450 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:39:04.453 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825944450 - null null
2025-08-10 14:39:04.453 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:04.453 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825944450 - 204 null null 0.2007ms
2025-08-10 14:39:04.457 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:39:04.459 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825944450 - null null
2025-08-10 14:39:04.459 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:04.460 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:39:04.463 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:39:04.468 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:39:04.468 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:39:04.468 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 18.3598ms
2025-08-10 14:39:04.468 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:39:04.468 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 18.6855 ms
2025-08-10 14:39:04.468 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 19.1174ms
2025-08-10 14:39:04.517 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 14:39:04.518 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:39:04.518 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 71.9263ms
2025-08-10 14:39:04.518 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 14:39:04.518 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 73.4562 ms
2025-08-10 14:39:04.518 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 73.8051ms
2025-08-10 14:39:10.898 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:39:10.898 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:10.899 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.1521ms
2025-08-10 14:39:10.900 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:39:10.900 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:10.900 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:39:10.901 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:39:10.906 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:39:10.914 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:39:10.914 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:39:10.914 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 13.5735ms
2025-08-10 14:39:10.914 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:39:10.914 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 13.7984 ms
2025-08-10 14:39:10.914 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 13.9737ms
2025-08-10 14:39:45.550 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 14:39:45.551 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:45.551 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2238ms
2025-08-10 14:39:45.553 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 14:39:45.554 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:39:45.554 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:39:45.554 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 14:39:45.556 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 14:39:45.557 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 14:39:45.557 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 14:39:45.557 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 3.4626ms
2025-08-10 14:39:45.557 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 14:39:45.558 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 3.8994 ms
2025-08-10 14:39:45.558 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 4.0987ms
2025-08-10 14:40:34.462 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:40:34.463 +03:00 [INF] HTTP GET /chathub responded 200 in 90003.1585 ms
2025-08-10 14:40:34.463 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754825944450 - 200 0 text/plain 90003.4527ms
2025-08-10 14:40:34.480 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826034476 - null null
2025-08-10 14:40:34.480 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:40:34.480 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826034476 - 204 null null 0.1834ms
2025-08-10 14:40:34.483 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826034476 - null null
2025-08-10 14:40:34.484 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:40:34.484 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:42:04.491 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:42:04.491 +03:00 [INF] HTTP GET /chathub responded 200 in 90007.3185 ms
2025-08-10 14:42:04.491 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826034476 - 200 0 text/plain 90007.7057ms
2025-08-10 14:42:04.502 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826124498 - null null
2025-08-10 14:42:04.502 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:42:04.502 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826124498 - 204 null null 0.1899ms
2025-08-10 14:42:04.506 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826124498 - null null
2025-08-10 14:42:04.506 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:42:04.506 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:43:34.509 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:43:34.509 +03:00 [INF] HTTP GET /chathub responded 200 in 90003.4963 ms
2025-08-10 14:43:34.510 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826124498 - 200 0 text/plain 90003.787ms
2025-08-10 14:43:34.529 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826214521 - null null
2025-08-10 14:43:34.529 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:43:34.530 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826214521 - 204 null null 0.3157ms
2025-08-10 14:43:34.534 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826214521 - null null
2025-08-10 14:43:34.535 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:43:34.535 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:45:04.548 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:45:04.548 +03:00 [INF] HTTP GET /chathub responded 200 in 90012.9529 ms
2025-08-10 14:45:04.548 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826214521 - 200 0 text/plain 90013.3165ms
2025-08-10 14:45:04.566 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826304558 - null null
2025-08-10 14:45:04.566 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:45:04.566 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826304558 - 204 null null 0.2368ms
2025-08-10 14:45:04.576 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826304558 - null null
2025-08-10 14:45:04.577 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:45:04.579 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:46:05.708 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:46:05.709 +03:00 [INF] HTTP GET /chathub responded 200 in 61131.7266 ms
2025-08-10 14:46:05.709 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ELlwkYjQcnD2YZaBpct_WQ&_=1754826304558 - 499 null null 61132.8914ms
2025-08-10 14:47:15.786 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:47:15.786 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:15.787 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 1.0636ms
2025-08-10 14:47:15.812 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:47:15.812 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:15.812 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:47:15.812 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:47:15.812 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4770 ms
2025-08-10 14:47:15.812 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8257ms
2025-08-10 14:47:16.074 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=y02G7nW07FvHi3m-PlsluQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:47:16.074 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.074 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:47:16.074 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:47:16.074 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.2182 ms
2025-08-10 14:47:16.074 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=y02G7nW07FvHi3m-PlsluQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.6214ms
2025-08-10 14:47:16.074 +03:00 [INF] Connection id "0HNEN4JCDLMSL", Request id "0HNEN4JCDLMSL:00000003": the application completed without reading the entire request body.
2025-08-10 14:47:16.155 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:47:16.155 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.155 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3165ms
2025-08-10 14:47:16.158 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:47:16.158 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.159 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:47:16.159 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:47:16.159 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5516 ms
2025-08-10 14:47:16.159 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8809ms
2025-08-10 14:47:16.184 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ZZ2wshpfNK_figX4-8ZyDQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - null null
2025-08-10 14:47:16.184 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.185 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 14:47:16.185 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 14:47:16.185 +03:00 [INF] HTTP GET /chathub responded 401 in 0.2046 ms
2025-08-10 14:47:16.185 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ZZ2wshpfNK_figX4-8ZyDQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MjYzMjgsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.uSUGvUMmwBIMCRhGffGTSsB6Nv3oyd4MkxColPfghvo - 401 0 null 0.5926ms
2025-08-10 14:47:16.190 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 14:47:16.190 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.190 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2117ms
2025-08-10 14:47:16.193 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 14:47:16.194 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.194 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 14:47:16.194 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 14:47:16.194 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2832 ms
2025-08-10 14:47:16.194 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5378ms
2025-08-10 14:47:16.214 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754826436210 - null null
2025-08-10 14:47:16.214 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.215 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754826436210 - 204 null null 0.185ms
2025-08-10 14:47:16.219 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754826436210 - null null
2025-08-10 14:47:16.219 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.220 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:47:16.220 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:47:16.220 +03:00 [INF] HTTP GET /chathub responded 200 in 0.6302 ms
2025-08-10 14:47:16.220 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754826436210 - 200 0 application/octet-stream 1.5375ms
2025-08-10 14:47:16.253 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754826436249 - null null
2025-08-10 14:47:16.253 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.253 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754826436249 - 204 null null 0.3018ms
2025-08-10 14:47:16.258 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA - null null
2025-08-10 14:47:16.258 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.258 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA - 204 null null 0.3915ms
2025-08-10 14:47:16.262 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754826436249 - null null
2025-08-10 14:47:16.262 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA - text/plain;charset=UTF-8 32
2025-08-10 14:47:16.262 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.262 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.263 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:47:16.263 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 14:47:16.263 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:47:16.263 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4949 ms
2025-08-10 14:47:16.263 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 14:47:16.263 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA - 200 0 text/plain 1.0131ms
2025-08-10 14:47:16.263 +03:00 [INF] HTTP GET /chathub responded 200 in 0.7182 ms
2025-08-10 14:47:16.263 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754826436249 - 200 3 application/octet-stream 1.3146ms
2025-08-10 14:47:16.302 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754826436298 - null null
2025-08-10 14:47:16.302 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.302 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754826436298 - 204 null null 0.3489ms
2025-08-10 14:47:16.307 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754826436298 - null null
2025-08-10 14:47:16.308 +03:00 [INF] CORS policy execution successful.
2025-08-10 14:47:16.308 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:13:49.205 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:13:49.205 +03:00 [INF] HTTP GET /chathub responded 200 in 5192897.1868 ms
2025-08-10 16:13:49.205 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754826436298 - 499 null null 5192897.5577ms
2025-08-10 16:13:52.397 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754831632370 - null null
2025-08-10 16:13:52.397 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:13:52.397 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754831632370 - 204 null null 0.2941ms
2025-08-10 16:13:52.404 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754831632370 - null null
2025-08-10 16:13:52.404 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:13:52.418 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/10/2025 11:45:28 AM', Current time (UTC): '8/10/2025 1:13:52 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-10 16:13:52.438 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/10/2025 11:45:28 AM', Current time (UTC): '8/10/2025 1:13:52 PM'.
2025-08-10 16:13:52.438 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:13:52.440 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:13:52.440 +03:00 [INF] HTTP GET /chathub responded 401 in 35.1862 ms
2025-08-10 16:13:52.440 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=4XgWMJsmorbbeS_qhItWKA&_=1754831632370 - 401 0 null 35.4952ms
2025-08-10 16:13:52.585 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:13:52.585 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:13:52.585 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3617ms
2025-08-10 16:13:52.591 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:13:52.591 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:13:52.592 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/10/2025 11:45:28 AM', Current time (UTC): '8/10/2025 1:13:52 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-10 16:13:52.593 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/10/2025 11:45:28 AM', Current time (UTC): '8/10/2025 1:13:52 PM'.
2025-08-10 16:13:52.593 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:13:52.593 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:13:52.593 +03:00 [INF] HTTP POST /chathub/negotiate responded 401 in 1.6574 ms
2025-08-10 16:13:52.593 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 401 0 null 2.0362ms
2025-08-10 16:13:56.876 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:13:56.877 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:13:56.877 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.4182ms
2025-08-10 16:13:56.890 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:13:56.890 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:13:56.893 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/10/2025 11:45:28 AM', Current time (UTC): '8/10/2025 1:13:56 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-10 16:13:56.896 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/10/2025 11:45:28 AM', Current time (UTC): '8/10/2025 1:13:56 PM'.
2025-08-10 16:13:56.896 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:13:56.896 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:13:56.896 +03:00 [INF] HTTP POST /chathub/negotiate responded 401 in 5.7805 ms
2025-08-10 16:13:56.896 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 401 0 null 6.0926ms
2025-08-10 16:14:07.683 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:14:07.683 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:14:07.684 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.4263ms
2025-08-10 16:14:07.693 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:14:07.693 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:14:07.696 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/10/2025 11:45:28 AM', Current time (UTC): '8/10/2025 1:14:07 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-10 16:14:07.697 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/10/2025 11:45:28 AM', Current time (UTC): '8/10/2025 1:14:07 PM'.
2025-08-10 16:14:07.697 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:14:07.697 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:14:07.697 +03:00 [INF] HTTP POST /chathub/negotiate responded 401 in 4.0401 ms
2025-08-10 16:14:07.697 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 401 0 null 4.4496ms
2025-08-10 16:14:39.890 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:14:39.891 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:14:39.891 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.4058ms
2025-08-10 16:14:39.894 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:14:39.895 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:14:39.896 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/10/2025 11:45:28 AM', Current time (UTC): '8/10/2025 1:14:39 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-10 16:14:39.896 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/10/2025 11:45:28 AM', Current time (UTC): '8/10/2025 1:14:39 PM'.
2025-08-10 16:14:39.896 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:14:39.896 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:14:39.896 +03:00 [INF] HTTP POST /chathub/negotiate responded 401 in 1.8062 ms
2025-08-10 16:14:39.897 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 401 0 null 2.1542ms
2025-08-10 16:22:00.425 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - null null
2025-08-10 16:22:00.427 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:00.427 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - 204 null null 2.4305ms
2025-08-10 16:22:00.431 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Login - application/json 35
2025-08-10 16:22:00.431 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:00.433 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 16:22:00.442 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Commands.Users.LoginUser.LoginUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:22:00.566 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__request_UserName_0='?' (Size = 4000), @__request_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__request_UserName_0 AND [u].[Password] = @__request_Password_1
2025-08-10 16:22:00.596 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[Application.Commands.Users.LoginUser.GetLoggedUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 16:22:00.597 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI) in 154.4528ms
2025-08-10 16:22:00.597 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 16:22:00.597 +03:00 [INF] HTTP POST /api/Users/Login responded 200 in 165.7212 ms
2025-08-10 16:22:00.598 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Login - 200 null application/json; charset=utf-8 166.7489ms
2025-08-10 16:22:00.690 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 16:22:00.690 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:00.690 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.5228ms
2025-08-10 16:22:00.698 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-08-10 16:22:00.698 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:00.698 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.2852ms
2025-08-10 16:22:00.717 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:22:00.717 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:00.717 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.3164ms
2025-08-10 16:22:00.744 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 16:22:00.744 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:00.745 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 16:22:00.746 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 16:22:00.751 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-08-10 16:22:00.751 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:00.755 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:22:00.755 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:00.756 +03:00 [INF] HTTP GET /api/Users responded 404 in 1.6195 ms
2025-08-10 16:22:00.756 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:22:00.756 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 5.2471ms
2025-08-10 16:22:00.756 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 16:22:00.759 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-08-10 16:22:00.763 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 16:22:00.764 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:22:00.764 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 18.5161ms
2025-08-10 16:22:00.764 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 16:22:00.764 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 19.6666 ms
2025-08-10 16:22:00.764 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 20.168ms
2025-08-10 16:22:00.770 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:22:00.807 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 16:22:00.808 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:22:00.811 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 55.1731ms
2025-08-10 16:22:00.811 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:22:00.811 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 55.9689 ms
2025-08-10 16:22:00.812 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 499 null application/json; charset=utf-8 56.4525ms
2025-08-10 16:22:02.934 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:22:02.934 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:02.934 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:22:02.935 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 16:22:02.937 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:22:02.943 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 16:22:02.943 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:22:02.943 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 8.7561ms
2025-08-10 16:22:02.944 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:22:02.944 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 9.3652 ms
2025-08-10 16:22:02.944 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 9.7594ms
2025-08-10 16:22:02.953 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:22:02.953 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:02.953 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3104ms
2025-08-10 16:22:02.985 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:22:02.985 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:02.985 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:22:02.986 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:22:02.986 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.7572 ms
2025-08-10 16:22:02.986 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.0434ms
2025-08-10 16:22:02.996 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=x4FhFf_Ytj4DClP_kRC9KQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:22:02.996 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:02.996 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:22:02.996 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:22:02.996 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1984 ms
2025-08-10 16:22:02.996 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=x4FhFf_Ytj4DClP_kRC9KQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.5685ms
2025-08-10 16:22:02.996 +03:00 [INF] Connection id "0HNEN4JCDLMSR", Request id "0HNEN4JCDLMSR:00000003": the application completed without reading the entire request body.
2025-08-10 16:22:03.001 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:22:03.001 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:03.001 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.5902ms
2025-08-10 16:22:03.003 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:22:03.003 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:03.005 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:22:03.005 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:22:03.005 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 1.0407 ms
2025-08-10 16:22:03.006 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 2.464ms
2025-08-10 16:22:03.014 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=C8MiGuqswYJ9KOFDQV8P0A&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:22:03.014 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:03.015 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:22:03.015 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:22:03.015 +03:00 [INF] HTTP GET /chathub responded 401 in 0.4786 ms
2025-08-10 16:22:03.015 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=C8MiGuqswYJ9KOFDQV8P0A&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.8853ms
2025-08-10 16:22:03.022 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:22:03.022 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:03.022 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.4353ms
2025-08-10 16:22:03.027 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:22:03.027 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:03.027 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:22:03.027 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:22:03.027 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4234 ms
2025-08-10 16:22:03.028 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8007ms
2025-08-10 16:22:03.034 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832123030 - null null
2025-08-10 16:22:03.034 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:03.034 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832123030 - 204 null null 0.3264ms
2025-08-10 16:22:03.038 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832123030 - null null
2025-08-10 16:22:03.038 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:03.039 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:22:03.040 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:22:03.041 +03:00 [INF] HTTP GET /chathub responded 200 in 1.8935 ms
2025-08-10 16:22:03.041 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832123030 - 200 0 application/octet-stream 2.4937ms
2025-08-10 16:22:03.051 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832123047 - null null
2025-08-10 16:22:03.051 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:03.051 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832123047 - 204 null null 0.2714ms
2025-08-10 16:22:03.051 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw - null null
2025-08-10 16:22:03.051 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:03.051 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw - 204 null null 0.22ms
2025-08-10 16:22:03.053 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw - text/plain;charset=UTF-8 32
2025-08-10 16:22:03.053 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832123047 - null null
2025-08-10 16:22:03.054 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:03.054 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:03.054 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:22:03.054 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:22:03.054 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:22:03.054 +03:00 [INF] HTTP POST /chathub responded 200 in 0.5974 ms
2025-08-10 16:22:03.054 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw - 200 0 text/plain 0.9497ms
2025-08-10 16:22:03.055 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:22:03.055 +03:00 [INF] HTTP GET /chathub responded 200 in 0.9254 ms
2025-08-10 16:22:03.055 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832123047 - 200 3 application/octet-stream 1.4538ms
2025-08-10 16:22:03.064 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832123062 - null null
2025-08-10 16:22:03.065 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:03.065 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832123062 - 204 null null 0.4285ms
2025-08-10 16:22:03.067 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832123062 - null null
2025-08-10 16:22:03.067 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:03.067 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:22:04.062 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 16:22:04.062 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:04.062 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.3699ms
2025-08-10 16:22:04.062 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw - null null
2025-08-10 16:22:04.062 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:04.062 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw - 204 null null 0.0758ms
2025-08-10 16:22:04.064 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw - text/plain;charset=UTF-8 103
2025-08-10 16:22:04.064 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:04.064 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:22:04.064 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:22:04.064 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4022 ms
2025-08-10 16:22:04.064 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw - 200 0 text/plain 0.6122ms
2025-08-10 16:22:04.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 16:22:04.064 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:04.065 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:22:04.065 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 16:22:04.067 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:22:04.068 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:04.068 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.179ms
2025-08-10 16:22:04.069 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:22:04.069 +03:00 [INF] HTTP GET /chathub responded 200 in 1002.2124 ms
2025-08-10 16:22:04.069 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832123062 - 200 44 application/octet-stream 1002.7381ms
2025-08-10 16:22:04.070 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:22:04.070 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:04.071 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:22:04.071 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:22:04.072 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:22:04.077 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832124074 - null null
2025-08-10 16:22:04.077 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:04.077 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832124074 - 204 null null 0.2591ms
2025-08-10 16:22:04.080 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832124074 - null null
2025-08-10 16:22:04.080 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:04.081 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:22:04.082 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:22:04.089 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:22:04.089 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:22:04.090 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 18.8817ms
2025-08-10 16:22:04.090 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:22:04.090 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 19.3253 ms
2025-08-10 16:22:04.090 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 20.2273ms
2025-08-10 16:22:04.177 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 16:22:04.179 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:22:04.179 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 114.2263ms
2025-08-10 16:22:04.179 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:22:04.179 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 114.6863 ms
2025-08-10 16:22:04.179 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 114.9946ms
2025-08-10 16:22:22.994 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:22:22.994 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:22.994 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2777ms
2025-08-10 16:22:22.998 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:22:22.999 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:22:22.999 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:22:22.999 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:22:23.008 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:22:23.017 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:22:23.017 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:22:23.017 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 17.7076ms
2025-08-10 16:22:23.017 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:22:23.017 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 18.4659 ms
2025-08-10 16:22:23.017 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 18.8767ms
2025-08-10 16:23:34.095 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:23:34.095 +03:00 [INF] HTTP GET /chathub responded 200 in 90013.9591 ms
2025-08-10 16:23:34.095 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832124074 - 200 0 text/plain 90015.1467ms
2025-08-10 16:23:34.114 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832214111 - null null
2025-08-10 16:23:34.114 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:23:34.115 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832214111 - 204 null null 0.3078ms
2025-08-10 16:23:34.118 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832214111 - null null
2025-08-10 16:23:34.118 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:23:34.118 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:24:23.334 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:24:23.335 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:24:23.335 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.4066ms
2025-08-10 16:24:23.338 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:24:23.338 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:24:23.339 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:24:23.339 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:24:23.350 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:24:23.362 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:24:23.362 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:24:23.362 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 23.1554ms
2025-08-10 16:24:23.362 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:24:23.362 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 23.7172 ms
2025-08-10 16:24:23.362 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 24.1909ms
2025-08-10 16:25:04.132 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:25:04.133 +03:00 [INF] HTTP GET /chathub responded 200 in 90014.7382 ms
2025-08-10 16:25:04.133 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832214111 - 200 0 text/plain 90015.1086ms
2025-08-10 16:25:04.145 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832304142 - null null
2025-08-10 16:25:04.145 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:25:04.145 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832304142 - 204 null null 0.2053ms
2025-08-10 16:25:04.147 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832304142 - null null
2025-08-10 16:25:04.147 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:25:04.148 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:26:34.151 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:26:34.151 +03:00 [INF] HTTP GET /chathub responded 200 in 90003.5195 ms
2025-08-10 16:26:34.151 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832304142 - 200 0 text/plain 90003.9263ms
2025-08-10 16:26:34.163 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832394159 - null null
2025-08-10 16:26:34.163 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:26:34.163 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832394159 - 204 null null 0.2207ms
2025-08-10 16:26:34.166 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832394159 - null null
2025-08-10 16:26:34.166 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:26:34.166 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:27:01.933 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:27:01.934 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:27:01.934 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3118ms
2025-08-10 16:27:01.938 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:27:01.938 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:27:01.938 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:27:01.938 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:27:01.948 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:27:01.955 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:27:01.955 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:27:01.956 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 17.0742ms
2025-08-10 16:27:01.956 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:27:01.956 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 17.5359 ms
2025-08-10 16:27:01.956 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 17.9277ms
2025-08-10 16:27:18.447 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:27:18.447 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:27:18.447 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2881ms
2025-08-10 16:27:18.450 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:27:18.451 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:27:18.452 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:27:18.452 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:27:18.462 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:27:18.473 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:27:18.473 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:27:18.473 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 21.1752ms
2025-08-10 16:27:18.473 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:27:18.473 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 21.9342 ms
2025-08-10 16:27:18.473 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 22.8ms
2025-08-10 16:27:25.266 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:27:25.266 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:27:25.266 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3145ms
2025-08-10 16:27:25.270 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:27:25.270 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:27:25.270 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:27:25.271 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:27:25.278 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:27:25.288 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:27:25.289 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:27:25.289 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 18.2739ms
2025-08-10 16:27:25.289 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:27:25.289 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 18.6980 ms
2025-08-10 16:27:25.289 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 19.1048ms
2025-08-10 16:27:43.122 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:27:43.123 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:27:43.123 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3378ms
2025-08-10 16:27:43.126 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:27:43.126 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:27:43.127 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:27:43.127 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:27:43.134 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:27:43.142 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:27:43.142 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:27:43.142 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 15.6294ms
2025-08-10 16:27:43.142 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:27:43.143 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 16.0670 ms
2025-08-10 16:27:43.143 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 16.476ms
2025-08-10 16:27:53.738 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:27:53.738 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:27:53.738 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3004ms
2025-08-10 16:27:53.741 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:27:53.741 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:27:53.741 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:27:53.742 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:27:53.750 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:27:53.755 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:27:53.756 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:27:53.756 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 14.2459ms
2025-08-10 16:27:53.756 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:27:53.756 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 14.6164 ms
2025-08-10 16:27:53.756 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 14.943ms
2025-08-10 16:28:00.046 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:28:00.046 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:00.046 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.8656ms
2025-08-10 16:28:00.049 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:28:00.049 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:00.050 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:28:00.050 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:28:00.058 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:28:00.068 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:28:00.068 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:28:00.068 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 18.7408ms
2025-08-10 16:28:00.069 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:28:00.069 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 19.2671 ms
2025-08-10 16:28:00.069 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 19.711ms
2025-08-10 16:28:04.170 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:04.170 +03:00 [INF] HTTP GET /chathub responded 200 in 90003.7538 ms
2025-08-10 16:28:04.170 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832394159 - 200 0 text/plain 90004.0746ms
2025-08-10 16:28:04.177 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832484174 - null null
2025-08-10 16:28:04.177 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:04.177 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832484174 - 204 null null 0.47ms
2025-08-10 16:28:04.180 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832484174 - null null
2025-08-10 16:28:04.181 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:04.181 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:21.111 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:21.111 +03:00 [INF] HTTP GET /chathub responded 200 in 16930.3784 ms
2025-08-10 16:28:21.111 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=AZPac0xOarxlY_7HgniAIw&_=1754832484174 - 499 null null 16930.7988ms
2025-08-10 16:28:21.669 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:28:21.670 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.670 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.3559ms
2025-08-10 16:28:21.676 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:28:21.676 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.676 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2489ms
2025-08-10 16:28:21.689 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:28:21.689 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.689 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:28:21.689 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 16:28:21.692 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:28:21.692 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.692 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:28:21.692 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:28:21.692 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4074 ms
2025-08-10 16:28:21.693 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7877ms
2025-08-10 16:28:21.697 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:28:21.698 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=XsAzkbnOgMgkMjicZnbhtw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:28:21.698 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.698 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:28:21.698 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:28:21.698 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1355 ms
2025-08-10 16:28:21.698 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=XsAzkbnOgMgkMjicZnbhtw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.3603ms
2025-08-10 16:28:21.698 +03:00 [INF] Connection id "0HNEN4JCDLMSR", Request id "0HNEN4JCDLMSR:00000021": the application completed without reading the entire request body.
2025-08-10 16:28:21.703 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:28:21.703 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.703 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2094ms
2025-08-10 16:28:21.706 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:28:21.706 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.706 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:28:21.706 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:28:21.706 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3068 ms
2025-08-10 16:28:21.706 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5739ms
2025-08-10 16:28:21.710 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=4qyLKxnJQ1uLyNN8Apawvg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:28:21.715 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.715 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:28:21.715 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:28:21.715 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1886 ms
2025-08-10 16:28:21.715 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=4qyLKxnJQ1uLyNN8Apawvg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 4.9026ms
2025-08-10 16:28:21.719 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 16:28:21.719 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:28:21.719 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 30.0958ms
2025-08-10 16:28:21.720 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:28:21.720 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 30.5621 ms
2025-08-10 16:28:21.720 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 30.9455ms
2025-08-10 16:28:21.723 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:28:21.723 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.723 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2382ms
2025-08-10 16:28:21.726 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:28:21.726 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.726 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:28:21.726 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:28:21.727 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.6153 ms
2025-08-10 16:28:21.727 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.9134ms
2025-08-10 16:28:21.739 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832501737 - null null
2025-08-10 16:28:21.739 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.739 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832501737 - 204 null null 0.245ms
2025-08-10 16:28:21.743 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832501737 - null null
2025-08-10 16:28:21.743 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.743 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:21.743 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:21.743 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3941 ms
2025-08-10 16:28:21.743 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832501737 - 200 0 application/octet-stream 0.6507ms
2025-08-10 16:28:21.750 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832501747 - null null
2025-08-10 16:28:21.751 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA - null null
2025-08-10 16:28:21.751 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.751 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.751 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA - 204 null null 0.2729ms
2025-08-10 16:28:21.751 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832501747 - 204 null null 0.831ms
2025-08-10 16:28:21.755 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA - text/plain;charset=UTF-8 32
2025-08-10 16:28:21.755 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832501747 - null null
2025-08-10 16:28:21.755 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.755 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.756 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:21.756 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:21.756 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:21.756 +03:00 [INF] HTTP POST /chathub responded 200 in 0.7054 ms
2025-08-10 16:28:21.756 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA - 200 0 text/plain 1.0478ms
2025-08-10 16:28:21.756 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:21.756 +03:00 [INF] HTTP GET /chathub responded 200 in 0.8559 ms
2025-08-10 16:28:21.756 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832501747 - 200 3 application/octet-stream 1.0702ms
2025-08-10 16:28:21.766 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832501763 - null null
2025-08-10 16:28:21.766 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.766 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832501763 - 204 null null 0.3979ms
2025-08-10 16:28:21.771 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832501763 - null null
2025-08-10 16:28:21.771 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:21.771 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:23.061 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 16:28:23.061 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:23.062 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.5197ms
2025-08-10 16:28:23.062 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA - null null
2025-08-10 16:28:23.062 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:23.062 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA - 204 null null 0.2038ms
2025-08-10 16:28:23.068 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA - text/plain;charset=UTF-8 103
2025-08-10 16:28:23.069 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:23.069 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:23.069 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:23.069 +03:00 [INF] HTTP POST /chathub responded 200 in 0.6169 ms
2025-08-10 16:28:23.070 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA - 200 0 text/plain 1.5987ms
2025-08-10 16:28:23.072 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 16:28:23.072 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:23.072 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:28:23.073 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 16:28:23.081 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:23.081 +03:00 [INF] HTTP GET /chathub responded 200 in 1310.0585 ms
2025-08-10 16:28:23.081 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832501763 - 200 44 application/octet-stream 1310.4705ms
2025-08-10 16:28:23.088 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:28:23.089 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:28:23.089 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:23.090 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3036ms
2025-08-10 16:28:23.096 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:28:23.096 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:23.097 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:28:23.097 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:28:23.110 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832503107 - null null
2025-08-10 16:28:23.110 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:23.110 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832503107 - 204 null null 0.2704ms
2025-08-10 16:28:23.115 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832503107 - null null
2025-08-10 16:28:23.115 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:23.116 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:23.119 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:28:23.140 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:28:23.140 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:28:23.140 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 43.525ms
2025-08-10 16:28:23.140 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:28:23.141 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 44.2492 ms
2025-08-10 16:28:23.141 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 44.7751ms
2025-08-10 16:28:23.195 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 16:28:23.195 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:28:23.195 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 122.5475ms
2025-08-10 16:28:23.195 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:28:23.195 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 123.3190 ms
2025-08-10 16:28:23.196 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 123.9552ms
2025-08-10 16:28:34.405 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:34.405 +03:00 [INF] HTTP GET /chathub responded 200 in 11289.4567 ms
2025-08-10 16:28:34.405 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=GiySv5qJ-hP-ttTY_PcYjA&_=1754832503107 - 499 null null 11289.9877ms
2025-08-10 16:28:34.710 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:28:34.710 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.710 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2656ms
2025-08-10 16:28:34.720 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:28:34.721 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.721 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2833ms
2025-08-10 16:28:34.756 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:28:34.756 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.756 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:28:34.756 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:28:34.756 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.756 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:28:34.756 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:28:34.756 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5557 ms
2025-08-10 16:28:34.757 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.0422ms
2025-08-10 16:28:34.757 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 16:28:34.764 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=Ooa4PSAn6FOf5eW06ysUbQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:28:34.764 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.764 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:28:34.764 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:28:34.764 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1556 ms
2025-08-10 16:28:34.764 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=Ooa4PSAn6FOf5eW06ysUbQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.4106ms
2025-08-10 16:28:34.764 +03:00 [INF] Connection id "0HNEN4JCDLMSR", Request id "0HNEN4JCDLMSR:00000037": the application completed without reading the entire request body.
2025-08-10 16:28:34.765 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:28:34.768 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:28:34.768 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.769 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2014ms
2025-08-10 16:28:34.772 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:28:34.772 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.773 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:28:34.773 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:28:34.773 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4356 ms
2025-08-10 16:28:34.773 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8505ms
2025-08-10 16:28:34.778 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ZtCmcQIMqv8jPLvIB5MeiA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:28:34.782 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.783 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:28:34.783 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:28:34.783 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1644 ms
2025-08-10 16:28:34.783 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ZtCmcQIMqv8jPLvIB5MeiA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 4.5882ms
2025-08-10 16:28:34.787 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:28:34.787 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.787 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3719ms
2025-08-10 16:28:34.787 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 16:28:34.788 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:28:34.788 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 31.2223ms
2025-08-10 16:28:34.788 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:28:34.788 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 31.6804 ms
2025-08-10 16:28:34.788 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 32.0158ms
2025-08-10 16:28:34.791 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:28:34.791 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.792 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:28:34.792 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:28:34.792 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3473 ms
2025-08-10 16:28:34.792 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6375ms
2025-08-10 16:28:34.799 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832514797 - null null
2025-08-10 16:28:34.799 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.799 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832514797 - 204 null null 0.2822ms
2025-08-10 16:28:34.802 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832514797 - null null
2025-08-10 16:28:34.802 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.803 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:34.803 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:34.803 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4718 ms
2025-08-10 16:28:34.803 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832514797 - 200 0 application/octet-stream 0.7539ms
2025-08-10 16:28:34.810 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832514806 - null null
2025-08-10 16:28:34.810 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA - null null
2025-08-10 16:28:34.810 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.810 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.810 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA - 204 null null 0.513ms
2025-08-10 16:28:34.810 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832514806 - 204 null null 0.5034ms
2025-08-10 16:28:34.814 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA - text/plain;charset=UTF-8 32
2025-08-10 16:28:34.814 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832514806 - null null
2025-08-10 16:28:34.815 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.815 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.815 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:34.815 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:34.815 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:34.815 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3194 ms
2025-08-10 16:28:34.815 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA - 200 0 text/plain 0.6315ms
2025-08-10 16:28:34.815 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:34.815 +03:00 [INF] HTTP GET /chathub responded 200 in 0.5174 ms
2025-08-10 16:28:34.815 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832514806 - 200 3 application/octet-stream 0.8363ms
2025-08-10 16:28:34.821 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832514818 - null null
2025-08-10 16:28:34.821 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.821 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832514818 - 204 null null 0.3027ms
2025-08-10 16:28:34.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832514818 - null null
2025-08-10 16:28:34.826 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:34.826 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:35.875 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 16:28:35.875 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:35.875 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2882ms
2025-08-10 16:28:35.875 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA - null null
2025-08-10 16:28:35.875 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:35.875 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA - 204 null null 0.2235ms
2025-08-10 16:28:35.881 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA - text/plain;charset=UTF-8 103
2025-08-10 16:28:35.881 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:35.881 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:35.881 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:35.881 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3937 ms
2025-08-10 16:28:35.882 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA - 200 0 text/plain 0.8135ms
2025-08-10 16:28:35.882 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 16:28:35.882 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:35.882 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:35.883 +03:00 [INF] HTTP GET /chathub responded 200 in 1056.6011 ms
2025-08-10 16:28:35.883 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832514818 - 200 44 application/octet-stream 1057.1525ms
2025-08-10 16:28:35.883 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:28:35.883 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 16:28:35.888 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:28:35.888 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:35.889 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.9383ms
2025-08-10 16:28:35.893 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:28:35.894 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:28:35.895 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:35.895 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:28:35.895 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:28:35.902 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832515896 - null null
2025-08-10 16:28:35.903 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:35.904 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832515896 - 204 null null 1.5053ms
2025-08-10 16:28:35.909 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:28:35.918 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:28:35.918 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:28:35.919 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 22.8051ms
2025-08-10 16:28:35.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832515896 - null null
2025-08-10 16:28:35.919 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:28:35.919 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:35.919 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 24.2232 ms
2025-08-10 16:28:35.919 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 24.9603ms
2025-08-10 16:28:35.919 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:35.982 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 16:28:35.983 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:28:35.983 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 99.938ms
2025-08-10 16:28:35.983 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:28:35.983 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 100.3057 ms
2025-08-10 16:28:35.983 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 100.8211ms
2025-08-10 16:28:50.555 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:50.555 +03:00 [INF] HTTP GET /chathub responded 200 in 14636.2867 ms
2025-08-10 16:28:50.556 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=8W9r_ubR6KajX5ww3jQKjA&_=1754832515896 - 499 null null 14636.9968ms
2025-08-10 16:28:51.536 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:28:51.536 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.537 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.3802ms
2025-08-10 16:28:51.549 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:28:51.549 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.550 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3286ms
2025-08-10 16:28:51.576 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:28:51.577 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.577 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:28:51.577 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 16:28:51.578 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:28:51.578 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.579 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:28:51.579 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:28:51.579 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5147 ms
2025-08-10 16:28:51.579 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.9934ms
2025-08-10 16:28:51.590 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:28:51.594 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=ALPsEJJXJr9Y2wsKMZghLg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:28:51.595 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.595 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:28:51.595 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:28:51.595 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1868 ms
2025-08-10 16:28:51.595 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=ALPsEJJXJr9Y2wsKMZghLg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.5523ms
2025-08-10 16:28:51.595 +03:00 [INF] Connection id "0HNEN4JCDLMSR", Request id "0HNEN4JCDLMSR:0000004D": the application completed without reading the entire request body.
2025-08-10 16:28:51.609 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:28:51.609 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.609 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.342ms
2025-08-10 16:28:51.613 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 16:28:51.613 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:28:51.613 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 35.9819ms
2025-08-10 16:28:51.613 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:28:51.613 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 36.8009 ms
2025-08-10 16:28:51.614 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 37.2475ms
2025-08-10 16:28:51.615 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:28:51.615 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.616 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:28:51.616 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:28:51.616 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4137 ms
2025-08-10 16:28:51.616 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.9968ms
2025-08-10 16:28:51.642 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=Hp_hRFUR84dr5z9czltQtQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:28:51.642 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.642 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:28:51.642 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:28:51.642 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1483 ms
2025-08-10 16:28:51.642 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=Hp_hRFUR84dr5z9czltQtQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.4887ms
2025-08-10 16:28:51.654 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:28:51.654 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.655 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2891ms
2025-08-10 16:28:51.658 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:28:51.658 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.658 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:28:51.658 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:28:51.658 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4083 ms
2025-08-10 16:28:51.658 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6652ms
2025-08-10 16:28:51.668 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832531664 - null null
2025-08-10 16:28:51.668 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.669 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832531664 - 204 null null 0.2038ms
2025-08-10 16:28:51.673 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832531664 - null null
2025-08-10 16:28:51.673 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.674 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:51.674 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:51.674 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4384 ms
2025-08-10 16:28:51.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832531664 - 200 0 application/octet-stream 0.7555ms
2025-08-10 16:28:51.683 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832531679 - null null
2025-08-10 16:28:51.683 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.683 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832531679 - 204 null null 0.255ms
2025-08-10 16:28:51.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832531679 - null null
2025-08-10 16:28:51.691 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w - null null
2025-08-10 16:28:51.691 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.691 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.691 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w - 204 null null 0.1397ms
2025-08-10 16:28:51.691 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:51.694 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w - text/plain;charset=UTF-8 32
2025-08-10 16:28:51.694 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.694 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:51.694 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:51.695 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4087 ms
2025-08-10 16:28:51.695 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w - 200 0 text/plain 0.7123ms
2025-08-10 16:28:51.695 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:51.695 +03:00 [INF] HTTP GET /chathub responded 200 in 3.7209 ms
2025-08-10 16:28:51.695 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832531679 - 200 3 application/octet-stream 4.029ms
2025-08-10 16:28:51.711 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832531702 - null null
2025-08-10 16:28:51.711 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.711 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832531702 - 204 null null 0.2634ms
2025-08-10 16:28:51.714 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832531702 - null null
2025-08-10 16:28:51.714 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:51.714 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:52.231 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 16:28:52.231 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:52.231 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2791ms
2025-08-10 16:28:52.235 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w - null null
2025-08-10 16:28:52.236 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:52.236 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w - 204 null null 0.3373ms
2025-08-10 16:28:52.238 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 16:28:52.239 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:52.240 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:28:52.240 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 16:28:52.246 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w - text/plain;charset=UTF-8 103
2025-08-10 16:28:52.247 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:52.247 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:52.247 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:52.247 +03:00 [INF] HTTP POST /chathub responded 200 in 0.5448 ms
2025-08-10 16:28:52.247 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w - 200 0 text/plain 1.0866ms
2025-08-10 16:28:52.248 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:28:52.248 +03:00 [INF] HTTP GET /chathub responded 200 in 534.2118 ms
2025-08-10 16:28:52.248 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832531702 - 200 44 application/octet-stream 534.6507ms
2025-08-10 16:28:52.251 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:28:52.263 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:28:52.263 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:52.263 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.5833ms
2025-08-10 16:28:52.269 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:28:52.270 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:52.271 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:28:52.271 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:28:52.291 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:28:52.296 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832532290 - null null
2025-08-10 16:28:52.296 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:52.296 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832532290 - 204 null null 0.2476ms
2025-08-10 16:28:52.301 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832532290 - null null
2025-08-10 16:28:52.301 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:28:52.301 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:28:52.311 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:28:52.311 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:28:52.311 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 40.0679ms
2025-08-10 16:28:52.311 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:28:52.311 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 40.9809 ms
2025-08-10 16:28:52.311 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 42.0342ms
2025-08-10 16:28:52.364 +03:00 [INF] Executed DbCommand (107ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 16:28:52.364 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:28:52.364 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 124.537ms
2025-08-10 16:28:52.365 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:28:52.365 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 125.4752 ms
2025-08-10 16:28:52.365 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 126.2943ms
2025-08-10 16:29:04.854 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:29:04.855 +03:00 [INF] HTTP GET /chathub responded 200 in 12553.8221 ms
2025-08-10 16:29:04.855 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=aYOJm_SxnTb5tZpzmfJj7w&_=1754832532290 - 499 null null 12554.212ms
2025-08-10 16:29:05.587 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:29:05.587 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.587 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2501ms
2025-08-10 16:29:05.597 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:29:05.597 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.598 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.5792ms
2025-08-10 16:29:05.606 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:29:05.606 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.606 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:29:05.606 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:29:05.606 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 16:29:05.606 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.607 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:29:05.612 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:29:05.612 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 5.3526 ms
2025-08-10 16:29:05.612 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 5.612ms
2025-08-10 16:29:05.615 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:29:05.618 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=dyxqnVNCbN88fv0WOOPhKw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:29:05.618 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.619 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:29:05.619 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:29:05.619 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1903 ms
2025-08-10 16:29:05.619 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=dyxqnVNCbN88fv0WOOPhKw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.5214ms
2025-08-10 16:29:05.619 +03:00 [INF] Connection id "0HNEN4JCDLMSR", Request id "0HNEN4JCDLMSR:00000063": the application completed without reading the entire request body.
2025-08-10 16:29:05.627 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:29:05.627 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.627 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2335ms
2025-08-10 16:29:05.630 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:29:05.630 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.631 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:29:05.631 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:29:05.632 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 1.4774 ms
2025-08-10 16:29:05.632 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.7913ms
2025-08-10 16:29:05.635 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 16:29:05.635 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:29:05.636 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 29.1768ms
2025-08-10 16:29:05.637 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:29:05.637 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 30.7473 ms
2025-08-10 16:29:05.637 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 31.1333ms
2025-08-10 16:29:05.638 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=59G4ondOFeRpLUm5B7RdOg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:29:05.638 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.638 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:29:05.638 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:29:05.638 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1200 ms
2025-08-10 16:29:05.638 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=59G4ondOFeRpLUm5B7RdOg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.3316ms
2025-08-10 16:29:05.650 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:29:05.650 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.650 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2339ms
2025-08-10 16:29:05.652 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:29:05.653 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.653 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:29:05.653 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:29:05.653 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5330 ms
2025-08-10 16:29:05.653 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.9018ms
2025-08-10 16:29:05.662 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832545659 - null null
2025-08-10 16:29:05.662 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.662 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832545659 - 204 null null 0.2393ms
2025-08-10 16:29:05.667 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832545659 - null null
2025-08-10 16:29:05.667 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.667 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:29:05.668 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:29:05.668 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4437 ms
2025-08-10 16:29:05.668 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832545659 - 200 0 application/octet-stream 0.8841ms
2025-08-10 16:29:05.675 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832545671 - null null
2025-08-10 16:29:05.676 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.676 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832545671 - 204 null null 0.4395ms
2025-08-10 16:29:05.682 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ - null null
2025-08-10 16:29:05.682 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.682 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ - 204 null null 0.3468ms
2025-08-10 16:29:05.683 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832545671 - null null
2025-08-10 16:29:05.683 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.683 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:29:05.697 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ - text/plain;charset=UTF-8 32
2025-08-10 16:29:05.697 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.697 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:29:05.697 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:29:05.697 +03:00 [INF] HTTP POST /chathub responded 200 in 0.5096 ms
2025-08-10 16:29:05.697 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ - 200 0 text/plain 0.808ms
2025-08-10 16:29:05.697 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:29:05.698 +03:00 [INF] HTTP GET /chathub responded 200 in 14.4393 ms
2025-08-10 16:29:05.698 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832545671 - 200 3 application/octet-stream 14.7758ms
2025-08-10 16:29:05.713 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832545709 - null null
2025-08-10 16:29:05.714 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.714 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832545709 - 204 null null 0.3004ms
2025-08-10 16:29:05.718 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832545709 - null null
2025-08-10 16:29:05.718 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:05.719 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:29:07.771 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 16:29:07.771 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:07.772 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.6078ms
2025-08-10 16:29:07.773 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ - null null
2025-08-10 16:29:07.774 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:07.774 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ - 204 null null 0.9063ms
2025-08-10 16:29:07.778 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ - text/plain;charset=UTF-8 103
2025-08-10 16:29:07.778 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 16:29:07.778 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:07.778 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:07.778 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:29:07.779 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:29:07.779 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4390 ms
2025-08-10 16:29:07.779 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ - 200 0 text/plain 0.9604ms
2025-08-10 16:29:07.778 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:29:07.780 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 16:29:07.780 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:29:07.780 +03:00 [INF] HTTP GET /chathub responded 200 in 2061.6966 ms
2025-08-10 16:29:07.781 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832545709 - 200 44 application/octet-stream 2063.0981ms
2025-08-10 16:29:07.787 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:29:07.789 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:29:07.790 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:07.790 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.4495ms
2025-08-10 16:29:07.793 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:29:07.794 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:07.794 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:29:07.794 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:29:07.808 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832547802 - null null
2025-08-10 16:29:07.809 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:07.809 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:29:07.809 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832547802 - 204 null null 0.26ms
2025-08-10 16:29:07.813 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832547802 - null null
2025-08-10 16:29:07.813 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:29:07.813 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:29:07.829 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:29:07.829 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:29:07.830 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 35.4244ms
2025-08-10 16:29:07.830 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:29:07.830 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 36.1238 ms
2025-08-10 16:29:07.830 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 36.5023ms
2025-08-10 16:29:07.877 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 16:29:07.878 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:29:07.878 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 97.734ms
2025-08-10 16:29:07.878 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:29:07.878 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 99.5812 ms
2025-08-10 16:29:07.878 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 100.1371ms
2025-08-10 16:30:31.724 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:30:31.724 +03:00 [INF] HTTP GET /chathub responded 200 in 83910.6599 ms
2025-08-10 16:30:31.724 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=dRcLo-XHDKlXrN-kl59YdQ&_=1754832547802 - 499 null null 83911.1ms
2025-08-10 16:30:33.002 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:30:33.002 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.002 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2548ms
2025-08-10 16:30:33.016 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:30:33.016 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.016 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3049ms
2025-08-10 16:30:33.033 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:30:33.034 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.034 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:30:33.035 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 16:30:33.036 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:30:33.036 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.036 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:30:33.036 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:30:33.036 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5635 ms
2025-08-10 16:30:33.036 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8506ms
2025-08-10 16:30:33.046 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=u8QkuxTSX5io7u43CuK0TA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:30:33.046 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.047 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:30:33.047 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:30:33.047 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1323 ms
2025-08-10 16:30:33.047 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=u8QkuxTSX5io7u43CuK0TA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.3714ms
2025-08-10 16:30:33.047 +03:00 [INF] Connection id "0HNEN4JCDLMSR", Request id "0HNEN4JCDLMSR:00000079": the application completed without reading the entire request body.
2025-08-10 16:30:33.047 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:30:33.058 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:30:33.059 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.059 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3053ms
2025-08-10 16:30:33.062 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:30:33.062 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.062 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:30:33.062 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:30:33.062 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2874 ms
2025-08-10 16:30:33.062 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5383ms
2025-08-10 16:30:33.069 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 16:30:33.069 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=dc7lYKqH0pGwZqbN3TrsiQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:30:33.069 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:30:33.069 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.069 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 34.3437ms
2025-08-10 16:30:33.069 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:30:33.069 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:30:33.069 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:30:33.069 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 35.3188 ms
2025-08-10 16:30:33.069 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1412 ms
2025-08-10 16:30:33.069 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=dc7lYKqH0pGwZqbN3TrsiQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.4239ms
2025-08-10 16:30:33.069 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 35.8272ms
2025-08-10 16:30:33.080 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:30:33.080 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.080 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2145ms
2025-08-10 16:30:33.083 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:30:33.083 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.083 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:30:33.083 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:30:33.083 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2545 ms
2025-08-10 16:30:33.083 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5205ms
2025-08-10 16:30:33.096 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832633093 - null null
2025-08-10 16:30:33.096 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.096 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832633093 - 204 null null 0.1989ms
2025-08-10 16:30:33.099 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832633093 - null null
2025-08-10 16:30:33.099 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.099 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:30:33.099 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:30:33.099 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4094 ms
2025-08-10 16:30:33.099 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832633093 - 200 0 application/octet-stream 0.6194ms
2025-08-10 16:30:33.108 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832633103 - null null
2025-08-10 16:30:33.108 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.108 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832633103 - 204 null null 0.243ms
2025-08-10 16:30:33.111 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ - null null
2025-08-10 16:30:33.111 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.111 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ - 204 null null 0.2ms
2025-08-10 16:30:33.112 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832633103 - null null
2025-08-10 16:30:33.112 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.113 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:30:33.114 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ - text/plain;charset=UTF-8 32
2025-08-10 16:30:33.115 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.115 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:30:33.115 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:30:33.115 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3149 ms
2025-08-10 16:30:33.115 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ - 200 0 text/plain 0.5773ms
2025-08-10 16:30:33.115 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:30:33.115 +03:00 [INF] HTTP GET /chathub responded 200 in 2.6799 ms
2025-08-10 16:30:33.115 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832633103 - 200 3 application/octet-stream 2.962ms
2025-08-10 16:30:33.127 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832633121 - null null
2025-08-10 16:30:33.128 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.128 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832633121 - 204 null null 0.1807ms
2025-08-10 16:30:33.131 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832633121 - null null
2025-08-10 16:30:33.131 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:33.131 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:30:34.074 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 16:30:34.074 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:34.075 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.3253ms
2025-08-10 16:30:34.079 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ - null null
2025-08-10 16:30:34.080 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:34.080 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ - 204 null null 0.2896ms
2025-08-10 16:30:34.080 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 16:30:34.080 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:34.080 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:30:34.080 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 16:30:34.087 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ - text/plain;charset=UTF-8 103
2025-08-10 16:30:34.088 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:34.088 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:30:34.088 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:30:34.088 +03:00 [INF] HTTP POST /chathub responded 200 in 0.6039 ms
2025-08-10 16:30:34.088 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ - 200 0 text/plain 1.2743ms
2025-08-10 16:30:34.089 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:30:34.090 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:30:34.090 +03:00 [INF] HTTP GET /chathub responded 200 in 959.0760 ms
2025-08-10 16:30:34.090 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832633121 - 200 44 application/octet-stream 959.3812ms
2025-08-10 16:30:34.095 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:30:34.096 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:34.096 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.4942ms
2025-08-10 16:30:34.101 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:30:34.102 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:34.102 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:30:34.104 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:30:34.115 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:30:34.125 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832634117 - null null
2025-08-10 16:30:34.125 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:34.125 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832634117 - 204 null null 0.3978ms
2025-08-10 16:30:34.126 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:30:34.126 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:30:34.126 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 22.8115ms
2025-08-10 16:30:34.127 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:30:34.127 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 24.7622 ms
2025-08-10 16:30:34.127 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 25.293ms
2025-08-10 16:30:34.131 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832634117 - null null
2025-08-10 16:30:34.132 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:30:34.132 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:30:34.176 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 16:30:34.177 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:30:34.177 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 96.8866ms
2025-08-10 16:30:34.177 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:30:34.177 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 97.4901 ms
2025-08-10 16:30:34.178 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 97.7593ms
2025-08-10 16:31:07.461 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:31:07.461 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:31:07.461 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3051ms
2025-08-10 16:31:07.465 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:31:07.465 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:31:07.465 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:31:07.466 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:31:07.468 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:31:07.469 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:31:07.469 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:31:07.470 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 4.0086ms
2025-08-10 16:31:07.470 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:31:07.470 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 4.5932 ms
2025-08-10 16:31:07.470 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 5.1992ms
2025-08-10 16:32:04.137 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:32:04.137 +03:00 [INF] HTTP GET /chathub responded 200 in 90005.2273 ms
2025-08-10 16:32:04.137 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832634117 - 200 0 text/plain 90006.1607ms
2025-08-10 16:32:04.160 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832724153 - null null
2025-08-10 16:32:04.160 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:32:04.160 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832724153 - 204 null null 0.386ms
2025-08-10 16:32:04.169 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832724153 - null null
2025-08-10 16:32:04.186 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:32:04.186 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:33:34.188 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:33:34.188 +03:00 [INF] HTTP GET /chathub responded 200 in 90001.8744 ms
2025-08-10 16:33:34.188 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832724153 - 200 0 text/plain 90019.4998ms
2025-08-10 16:33:34.216 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832814206 - null null
2025-08-10 16:33:34.216 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:33:34.216 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832814206 - 204 null null 0.5309ms
2025-08-10 16:33:34.223 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832814206 - null null
2025-08-10 16:33:34.223 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:33:34.225 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:33:43.939 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:33:43.939 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:33:43.939 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2897ms
2025-08-10 16:33:43.944 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:33:43.944 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:33:43.945 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:33:43.945 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:33:43.959 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:33:43.969 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:33:43.971 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:33:43.971 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 25.6552ms
2025-08-10 16:33:43.971 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:33:43.971 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 26.2934 ms
2025-08-10 16:33:43.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 26.8222ms
2025-08-10 16:33:44.873 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:33:44.874 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:33:44.874 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:33:44.874 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:33:44.876 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:33:44.878 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:33:44.878 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:33:44.878 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 4.208ms
2025-08-10 16:33:44.878 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:33:44.878 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 4.6936 ms
2025-08-10 16:33:44.879 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 5.0946ms
2025-08-10 16:35:04.229 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:35:04.229 +03:00 [INF] HTTP GET /chathub responded 200 in 90006.1057 ms
2025-08-10 16:35:04.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832814206 - 200 0 text/plain 90006.7448ms
2025-08-10 16:35:04.244 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832904241 - null null
2025-08-10 16:35:04.244 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:04.244 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832904241 - 204 null null 0.2389ms
2025-08-10 16:35:04.247 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832904241 - null null
2025-08-10 16:35:04.247 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:04.269 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:35:55.278 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:35:55.278 +03:00 [INF] HTTP GET /chathub responded 200 in 51009.3797 ms
2025-08-10 16:35:55.278 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=HVgLQp8v59Hm_zdwRWMRGQ&_=1754832904241 - 499 null null 51031.6158ms
2025-08-10 16:35:55.774 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:35:55.774 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.774 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2625ms
2025-08-10 16:35:55.783 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:35:55.783 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.783 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3355ms
2025-08-10 16:35:55.793 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:35:55.793 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.794 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:35:55.794 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:35:55.794 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 16:35:55.794 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.794 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:35:55.795 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:35:55.795 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4301 ms
2025-08-10 16:35:55.795 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7515ms
2025-08-10 16:35:55.800 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=eslvXp32nskigCrGCZbzHw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:35:55.801 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.801 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:35:55.801 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:35:55.801 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.2794 ms
2025-08-10 16:35:55.801 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=eslvXp32nskigCrGCZbzHw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.6322ms
2025-08-10 16:35:55.802 +03:00 [INF] Connection id "0HNEN4JCDLMSR", Request id "0HNEN4JCDLMSR:00000095": the application completed without reading the entire request body.
2025-08-10 16:35:55.805 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:35:55.809 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:35:55.809 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.809 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.4279ms
2025-08-10 16:35:55.811 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:35:55.812 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.812 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:35:55.812 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:35:55.812 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4491 ms
2025-08-10 16:35:55.812 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7716ms
2025-08-10 16:35:55.817 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=0kED5z_hoUgf6cBUASWUWA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:35:55.817 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.817 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:35:55.817 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:35:55.817 +03:00 [INF] HTTP GET /chathub responded 401 in 0.2447 ms
2025-08-10 16:35:55.817 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=0kED5z_hoUgf6cBUASWUWA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.6484ms
2025-08-10 16:35:55.822 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:35:55.823 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.823 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.6422ms
2025-08-10 16:35:55.826 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:35:55.826 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.827 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:35:55.827 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:35:55.827 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5588 ms
2025-08-10 16:35:55.827 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.9627ms
2025-08-10 16:35:55.834 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 16:35:55.834 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:35:55.834 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 40.25ms
2025-08-10 16:35:55.834 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:35:55.834 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 41.2598 ms
2025-08-10 16:35:55.835 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 41.7128ms
2025-08-10 16:35:55.839 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832955830 - null null
2025-08-10 16:35:55.839 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.839 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832955830 - 204 null null 0.495ms
2025-08-10 16:35:55.847 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832955830 - null null
2025-08-10 16:35:55.847 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.847 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:35:55.848 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:35:55.848 +03:00 [INF] HTTP GET /chathub responded 200 in 0.6892 ms
2025-08-10 16:35:55.848 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832955830 - 200 0 application/octet-stream 1.3405ms
2025-08-10 16:35:55.863 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA - null null
2025-08-10 16:35:55.863 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832955852 - null null
2025-08-10 16:35:55.863 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.864 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.864 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA - 204 null null 0.2925ms
2025-08-10 16:35:55.864 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832955852 - 204 null null 0.2491ms
2025-08-10 16:35:55.871 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832955852 - null null
2025-08-10 16:35:55.871 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.871 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA - text/plain;charset=UTF-8 32
2025-08-10 16:35:55.871 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.871 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:35:55.871 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:35:55.871 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:35:55.871 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3753 ms
2025-08-10 16:35:55.871 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:35:55.871 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA - 200 0 text/plain 0.9032ms
2025-08-10 16:35:55.872 +03:00 [INF] HTTP GET /chathub responded 200 in 0.6392 ms
2025-08-10 16:35:55.872 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832955852 - 200 3 application/octet-stream 1.1678ms
2025-08-10 16:35:55.892 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832955885 - null null
2025-08-10 16:35:55.892 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.893 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832955885 - 204 null null 0.2397ms
2025-08-10 16:35:55.898 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832955885 - null null
2025-08-10 16:35:55.898 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:55.899 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:35:56.811 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 16:35:56.811 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:56.811 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2839ms
2025-08-10 16:35:56.811 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA - null null
2025-08-10 16:35:56.811 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:56.812 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA - 204 null null 0.1197ms
2025-08-10 16:35:56.815 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA - text/plain;charset=UTF-8 103
2025-08-10 16:35:56.815 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:56.816 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:35:56.816 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 16:35:56.816 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:35:56.816 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:56.816 +03:00 [INF] HTTP POST /chathub responded 200 in 0.8020 ms
2025-08-10 16:35:56.816 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA - 200 0 text/plain 1.3581ms
2025-08-10 16:35:56.817 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:35:56.817 +03:00 [INF] HTTP GET /chathub responded 200 in 918.6438 ms
2025-08-10 16:35:56.817 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832955885 - 200 44 application/octet-stream 919.1897ms
2025-08-10 16:35:56.816 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:35:56.818 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 16:35:56.826 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:35:56.830 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:35:56.830 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:56.830 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2769ms
2025-08-10 16:35:56.838 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:35:56.838 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:56.839 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:35:56.839 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:35:56.851 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832956847 - null null
2025-08-10 16:35:56.851 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:56.851 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832956847 - 204 null null 0.3514ms
2025-08-10 16:35:56.856 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832956847 - null null
2025-08-10 16:35:56.856 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:35:56.856 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:35:56.862 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:35:56.879 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:35:56.880 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:35:56.880 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 40.9729ms
2025-08-10 16:35:56.880 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:35:56.880 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 41.5405 ms
2025-08-10 16:35:56.880 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 42.0313ms
2025-08-10 16:35:56.896 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 16:35:56.896 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:35:56.896 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 78.5825ms
2025-08-10 16:35:56.896 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:35:56.897 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 80.4805 ms
2025-08-10 16:35:56.897 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 80.7784ms
2025-08-10 16:36:54.086 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:36:54.086 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:36:54.086 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.312ms
2025-08-10 16:36:54.091 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:36:54.091 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:36:54.092 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:36:54.092 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:36:54.106 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:36:54.121 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:36:54.122 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:36:54.123 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 30.7494ms
2025-08-10 16:36:54.123 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:36:54.123 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 31.4123 ms
2025-08-10 16:36:54.123 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 32.0163ms
2025-08-10 16:37:26.869 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:37:26.869 +03:00 [INF] HTTP GET /chathub responded 200 in 90013.2191 ms
2025-08-10 16:37:26.870 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754832956847 - 200 0 text/plain 90013.9074ms
2025-08-10 16:37:26.905 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833046881 - null null
2025-08-10 16:37:26.905 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:37:26.905 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833046881 - 204 null null 0.2345ms
2025-08-10 16:37:26.911 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833046881 - null null
2025-08-10 16:37:26.911 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:37:26.912 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:37:26.920 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:37:26.920 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:37:26.921 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2531ms
2025-08-10 16:37:26.927 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:37:26.927 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:37:26.927 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:37:26.928 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:37:26.941 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:37:26.949 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:37:26.950 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:37:26.951 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 22.8956ms
2025-08-10 16:37:26.951 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:37:26.951 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 23.4126 ms
2025-08-10 16:37:26.951 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 23.9287ms
2025-08-10 16:38:40.320 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:38:40.320 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:38:40.320 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3629ms
2025-08-10 16:38:40.326 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:38:40.326 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:38:40.326 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:38:40.326 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:38:40.337 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:38:40.342 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:38:40.343 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:38:40.343 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 16.2755ms
2025-08-10 16:38:40.343 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:38:40.343 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 16.8983 ms
2025-08-10 16:38:40.343 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 17.2815ms
2025-08-10 16:38:56.921 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:38:56.921 +03:00 [INF] HTTP GET /chathub responded 200 in 90009.7074 ms
2025-08-10 16:38:56.921 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833046881 - 200 0 text/plain 90010.3293ms
2025-08-10 16:38:56.930 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833136926 - null null
2025-08-10 16:38:56.930 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:38:56.930 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833136926 - 204 null null 0.2575ms
2025-08-10 16:38:56.933 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833136926 - null null
2025-08-10 16:38:56.933 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:38:56.934 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:39:03.244 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/Delete - null null
2025-08-10 16:39:03.244 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:39:03.244 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/Delete - 204 null null 0.4431ms
2025-08-10 16:39:03.249 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7003/api/Messages/Delete - application/json 158
2025-08-10 16:39:03.250 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:39:03.250 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.DeleteMessageAsync (ChatSystem.UI)'
2025-08-10 16:39:03.250 +03:00 [INF] Route matched with {action = "DeleteMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteMessageAsync(Application.Commands.Messages.DeleteMessage.DeleteMessageRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 16:39:03.332 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_RoomMemberId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Id] = @__request_RoomMemberId_0
2025-08-10 16:39:03.362 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 16:39:03.380 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_MessageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[FilePath], [c].[IsDeleted], [c].[IsRead], [c].[LastActionDate], [c].[Message], [c].[Metadata], [c].[RoomMemberId]
FROM [ChatMessages] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_MessageId_0
2025-08-10 16:39:03.489 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTimeOffset), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p10='?' (DbType = Guid), @p9='?' (DbType = DateTimeOffset), @p12='?' (DbType = Guid), @p11='?' (DbType = DateTimeOffset), @p14='?' (DbType = Guid), @p13='?' (DbType = DateTimeOffset), @p16='?' (DbType = Guid), @p15='?' (DbType = DateTimeOffset), @p18='?' (DbType = Guid), @p17='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [ChatMessages] SET [ActionBy] = @p0, [FilePath] = @p1, [IsDeleted] = @p2, [IsRead] = @p3, [LastActionDate] = @p4, [Message] = @p5, [Metadata] = @p6, [RoomMemberId] = @p7
OUTPUT 1
WHERE [Id] = @p8;
UPDATE [ChatRooms] SET [LastActionDate] = @p9
OUTPUT 1
WHERE [Id] = @p10;
UPDATE [RoomMembers] SET [LastActionDate] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [RoomMembers] SET [LastActionDate] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [RoomMembers] SET [LastActionDate] = @p15
OUTPUT 1
WHERE [Id] = @p16;
UPDATE [Users] SET [LastActionDate] = @p17
OUTPUT 1
WHERE [Id] = @p18;
2025-08-10 16:39:03.496 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:39:03.496 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.DeleteMessageAsync (ChatSystem.UI) in 245.7946ms
2025-08-10 16:39:03.496 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.DeleteMessageAsync (ChatSystem.UI)'
2025-08-10 16:39:03.496 +03:00 [INF] HTTP DELETE /api/Messages/Delete responded 200 in 246.5305 ms
2025-08-10 16:39:03.497 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7003/api/Messages/Delete - 200 null application/json; charset=utf-8 247.1973ms
2025-08-10 16:39:08.410 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/Delete - null null
2025-08-10 16:39:08.411 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:39:08.411 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/Delete - 204 null null 0.2517ms
2025-08-10 16:39:08.414 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7003/api/Messages/Delete - application/json 158
2025-08-10 16:39:08.414 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:39:08.415 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.DeleteMessageAsync (ChatSystem.UI)'
2025-08-10 16:39:08.415 +03:00 [INF] Route matched with {action = "DeleteMessage", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteMessageAsync(Application.Commands.Messages.DeleteMessage.DeleteMessageRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 16:39:08.437 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_RoomMemberId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Id] = @__request_RoomMemberId_0
2025-08-10 16:39:08.447 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActionBy], [t].[Description], [t].[IsDeleted], [t].[LastActionDate], [t].[Metadata], [t].[Title], [t].[WorkspaceId], [t0].[Id], [t0].[ActionBy], [t0].[ChatRoomId], [t0].[IsAdmin], [t0].[IsDeleted], [t0].[LastActionDate], [t0].[Metadata], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[Description], [c].[IsDeleted], [c].[LastActionDate], [c].[Metadata], [c].[Title], [c].[WorkspaceId]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0
) AS [t]
LEFT JOIN (
    SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId]
    FROM [RoomMembers] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [t0] ON [t].[Id] = [t0].[ChatRoomId]
ORDER BY [t].[Id]
2025-08-10 16:39:08.455 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_MessageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[ActionBy], [c].[FilePath], [c].[IsDeleted], [c].[IsRead], [c].[LastActionDate], [c].[Message], [c].[Metadata], [c].[RoomMemberId]
FROM [ChatMessages] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_MessageId_0
2025-08-10 16:39:08.489 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTimeOffset), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Guid), @p10='?' (DbType = Guid), @p9='?' (DbType = DateTimeOffset), @p12='?' (DbType = Guid), @p11='?' (DbType = DateTimeOffset), @p14='?' (DbType = Guid), @p13='?' (DbType = DateTimeOffset), @p16='?' (DbType = Guid), @p15='?' (DbType = DateTimeOffset), @p18='?' (DbType = Guid), @p17='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [ChatMessages] SET [ActionBy] = @p0, [FilePath] = @p1, [IsDeleted] = @p2, [IsRead] = @p3, [LastActionDate] = @p4, [Message] = @p5, [Metadata] = @p6, [RoomMemberId] = @p7
OUTPUT 1
WHERE [Id] = @p8;
UPDATE [ChatRooms] SET [LastActionDate] = @p9
OUTPUT 1
WHERE [Id] = @p10;
UPDATE [RoomMembers] SET [LastActionDate] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [RoomMembers] SET [LastActionDate] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [RoomMembers] SET [LastActionDate] = @p15
OUTPUT 1
WHERE [Id] = @p16;
UPDATE [Users] SET [LastActionDate] = @p17
OUTPUT 1
WHERE [Id] = @p18;
2025-08-10 16:39:08.491 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:39:08.491 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.DeleteMessageAsync (ChatSystem.UI) in 75.9895ms
2025-08-10 16:39:08.491 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.DeleteMessageAsync (ChatSystem.UI)'
2025-08-10 16:39:08.491 +03:00 [INF] HTTP DELETE /api/Messages/Delete responded 200 in 77.0490 ms
2025-08-10 16:39:08.491 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7003/api/Messages/Delete - 200 null application/json; charset=utf-8 77.3885ms
2025-08-10 16:40:26.936 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:40:26.936 +03:00 [INF] HTTP GET /chathub responded 200 in 90002.3230 ms
2025-08-10 16:40:26.936 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833136926 - 200 0 text/plain 90002.673ms
2025-08-10 16:40:26.962 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833226954 - null null
2025-08-10 16:40:26.962 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:40:26.963 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833226954 - 204 null null 0.4907ms
2025-08-10 16:40:26.970 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833226954 - null null
2025-08-10 16:40:26.970 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:40:26.970 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:41:56.979 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:41:56.979 +03:00 [INF] HTTP GET /chathub responded 200 in 90009.1087 ms
2025-08-10 16:41:56.979 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833226954 - 200 0 text/plain 90009.6024ms
2025-08-10 16:41:57.001 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833316993 - null null
2025-08-10 16:41:57.001 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:41:57.001 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833316993 - 204 null null 0.3934ms
2025-08-10 16:41:57.007 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833316993 - null null
2025-08-10 16:41:57.007 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:41:57.008 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:43:27.012 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:43:27.012 +03:00 [INF] HTTP GET /chathub responded 200 in 90004.6613 ms
2025-08-10 16:43:27.012 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833316993 - 200 0 text/plain 90005.1329ms
2025-08-10 16:43:27.042 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833407035 - null null
2025-08-10 16:43:27.042 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:43:27.042 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833407035 - 204 null null 0.5622ms
2025-08-10 16:43:27.047 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833407035 - null null
2025-08-10 16:43:27.047 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:43:27.048 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:44:57.056 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:44:57.056 +03:00 [INF] HTTP GET /chathub responded 200 in 90009.0100 ms
2025-08-10 16:44:57.057 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833407035 - 200 0 text/plain 90009.4693ms
2025-08-10 16:44:57.120 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833497075 - null null
2025-08-10 16:44:57.120 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:44:57.121 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833497075 - 204 null null 0.883ms
2025-08-10 16:44:57.140 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833497075 - null null
2025-08-10 16:44:57.140 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:44:57.140 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:46:27.148 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:46:27.149 +03:00 [INF] HTTP GET /chathub responded 200 in 90008.5943 ms
2025-08-10 16:46:27.149 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833497075 - 200 0 text/plain 90009.0587ms
2025-08-10 16:46:27.168 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833587162 - null null
2025-08-10 16:46:27.168 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:46:27.169 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833587162 - 204 null null 0.4569ms
2025-08-10 16:46:27.171 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833587162 - null null
2025-08-10 16:46:27.171 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:46:27.172 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:47:57.177 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:47:57.178 +03:00 [INF] HTTP GET /chathub responded 200 in 90006.0456 ms
2025-08-10 16:47:57.178 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833587162 - 200 0 text/plain 90006.5064ms
2025-08-10 16:47:57.204 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833677196 - null null
2025-08-10 16:47:57.205 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:47:57.205 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833677196 - 204 null null 0.2975ms
2025-08-10 16:47:57.233 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833677196 - null null
2025-08-10 16:47:57.233 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:47:57.234 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:48:08.695 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:48:08.695 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:08.695 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.5101ms
2025-08-10 16:48:08.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:48:08.703 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:08.704 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:48:08.704 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:48:08.718 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:48:08.729 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:48:08.730 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:48:08.731 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 26.7161ms
2025-08-10 16:48:08.731 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:48:08.731 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 27.3804 ms
2025-08-10 16:48:08.731 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 28.1257ms
2025-08-10 16:48:15.947 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:48:15.947 +03:00 [INF] HTTP GET /chathub responded 200 in 18713.5706 ms
2025-08-10 16:48:15.947 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=6sjT3fLPeINNKgtoUptIEA&_=1754833677196 - 499 null null 18714.254ms
2025-08-10 16:48:16.655 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:48:16.655 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.655 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2606ms
2025-08-10 16:48:16.667 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:48:16.667 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.667 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3856ms
2025-08-10 16:48:16.678 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:48:16.678 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.678 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:48:16.678 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:48:16.678 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5215 ms
2025-08-10 16:48:16.678 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8648ms
2025-08-10 16:48:16.679 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:48:16.679 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.680 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:48:16.680 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 16:48:16.689 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:48:16.692 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=7lyaMLS6JYionHzwNbmqQw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:48:16.692 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.692 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:48:16.692 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:48:16.692 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1719 ms
2025-08-10 16:48:16.692 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=7lyaMLS6JYionHzwNbmqQw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.5909ms
2025-08-10 16:48:16.692 +03:00 [INF] Connection id "0HNEN4JCDLMST", Request id "0HNEN4JCDLMST:00000009": the application completed without reading the entire request body.
2025-08-10 16:48:16.704 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:48:16.704 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.704 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2322ms
2025-08-10 16:48:16.708 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:48:16.708 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.708 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:48:16.709 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:48:16.709 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.6579 ms
2025-08-10 16:48:16.709 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.2271ms
2025-08-10 16:48:16.711 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 16:48:16.711 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:48:16.712 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 31.973ms
2025-08-10 16:48:16.712 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 16:48:16.712 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 32.4689 ms
2025-08-10 16:48:16.712 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 32.8539ms
2025-08-10 16:48:16.715 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=k20RLkE5bjkwlFremGxDIA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - null null
2025-08-10 16:48:16.715 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.716 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 16:48:16.716 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 16:48:16.716 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1527 ms
2025-08-10 16:48:16.716 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=k20RLkE5bjkwlFremGxDIA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4MzU3MjAsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.Clpxg6hzeJUcG1tWaHTbyGR1DWC6Yq5RvT1h1K80Al4 - 401 0 null 0.4335ms
2025-08-10 16:48:16.731 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 16:48:16.731 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.731 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2856ms
2025-08-10 16:48:16.734 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 16:48:16.734 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.735 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 16:48:16.735 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 16:48:16.735 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.6180 ms
2025-08-10 16:48:16.735 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.9405ms
2025-08-10 16:48:16.742 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833696739 - null null
2025-08-10 16:48:16.742 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.742 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833696739 - 204 null null 0.2386ms
2025-08-10 16:48:16.744 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833696739 - null null
2025-08-10 16:48:16.744 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.744 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:48:16.744 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:48:16.744 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4870 ms
2025-08-10 16:48:16.744 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833696739 - 200 0 application/octet-stream 0.7423ms
2025-08-10 16:48:16.752 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833696749 - null null
2025-08-10 16:48:16.753 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.753 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833696749 - 204 null null 0.3655ms
2025-08-10 16:48:16.757 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg - null null
2025-08-10 16:48:16.757 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.757 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg - 204 null null 0.2833ms
2025-08-10 16:48:16.758 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833696749 - null null
2025-08-10 16:48:16.758 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.758 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:48:16.759 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg - text/plain;charset=UTF-8 32
2025-08-10 16:48:16.759 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.760 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:48:16.760 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:48:16.760 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3516 ms
2025-08-10 16:48:16.760 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg - 200 0 text/plain 0.6384ms
2025-08-10 16:48:16.760 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:48:16.760 +03:00 [INF] HTTP GET /chathub responded 200 in 2.1489 ms
2025-08-10 16:48:16.760 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833696749 - 200 3 application/octet-stream 2.3861ms
2025-08-10 16:48:16.770 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833696766 - null null
2025-08-10 16:48:16.770 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.771 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833696766 - 204 null null 0.1865ms
2025-08-10 16:48:16.773 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833696766 - null null
2025-08-10 16:48:16.773 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:16.773 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:48:17.925 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 16:48:17.925 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:17.925 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.5215ms
2025-08-10 16:48:17.930 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg - null null
2025-08-10 16:48:17.930 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:17.931 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg - 204 null null 0.3079ms
2025-08-10 16:48:17.951 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg - text/plain;charset=UTF-8 103
2025-08-10 16:48:17.951 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:17.952 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:48:17.952 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:48:17.952 +03:00 [INF] HTTP POST /chathub responded 200 in 0.7003 ms
2025-08-10 16:48:17.953 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg - 200 0 text/plain 17.4634ms
2025-08-10 16:48:17.954 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:48:17.955 +03:00 [INF] HTTP GET /chathub responded 200 in 1181.3184 ms
2025-08-10 16:48:17.956 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 16:48:17.956 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833696766 - 200 44 application/octet-stream 1182.2985ms
2025-08-10 16:48:17.956 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:17.958 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:48:17.959 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 16:48:17.961 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:48:17.962 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:17.962 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 1.3045ms
2025-08-10 16:48:17.972 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:48:17.972 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:17.973 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:48:17.973 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:48:17.990 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:48:17.999 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:48:18.011 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:48:18.012 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:48:18.013 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 39.7059ms
2025-08-10 16:48:18.013 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:48:18.013 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 40.6235 ms
2025-08-10 16:48:18.013 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 41.553ms
2025-08-10 16:48:18.014 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833698004 - null null
2025-08-10 16:48:18.014 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:18.014 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833698004 - 204 null null 0.2715ms
2025-08-10 16:48:18.020 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833698004 - null null
2025-08-10 16:48:18.020 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:48:18.021 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:48:18.081 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 16:48:18.083 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:48:18.083 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 123.9829ms
2025-08-10 16:48:18.083 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 16:48:18.083 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 125.9742 ms
2025-08-10 16:48:18.083 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 127.3208ms
2025-08-10 16:49:48.034 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:49:48.035 +03:00 [INF] HTTP GET /chathub responded 200 in 90015.1223 ms
2025-08-10 16:49:48.036 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833698004 - 200 0 text/plain 90015.8302ms
2025-08-10 16:49:48.077 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833788067 - null null
2025-08-10 16:49:48.077 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:49:48.077 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833788067 - 204 null null 0.504ms
2025-08-10 16:49:48.084 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833788067 - null null
2025-08-10 16:49:48.084 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:49:48.084 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:49:53.757 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 16:49:53.757 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:49:53.757 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3216ms
2025-08-10 16:49:53.795 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 16:49:53.796 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:49:53.796 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:49:53.796 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:49:53.809 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:49:53.819 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 16:49:53.820 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:49:53.821 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 24.534ms
2025-08-10 16:49:53.821 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 16:49:53.821 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 25.0390 ms
2025-08-10 16:49:53.821 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 25.579ms
2025-08-10 16:50:30.880 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - null null
2025-08-10 16:50:30.881 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:50:30.881 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - 204 null null 0.7747ms
2025-08-10 16:50:30.890 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - application/json null
2025-08-10 16:50:30.890 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:50:30.890 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 16:50:30.891 +03:00 [INF] Route matched with {action = "GetUsersByChatRoom", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByChatRoom(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:50:30.899 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:50:30.913 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[ChatRoomId] = @__request_ChatRoomId_0
2025-08-10 16:50:30.914 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:50:30.915 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI) in 24.5032ms
2025-08-10 16:50:30.915 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 16:50:30.915 +03:00 [INF] HTTP GET /api/Users/GetUsersByChatRoom responded 200 in 25.0717 ms
2025-08-10 16:50:30.915 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 25.4633ms
2025-08-10 16:50:34.625 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - application/json null
2025-08-10 16:50:34.625 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:50:34.627 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 16:50:34.627 +03:00 [INF] Route matched with {action = "GetUsersByChatRoom", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByChatRoom(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 16:50:34.631 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 16:50:34.632 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ActionBy], [r].[ChatRoomId], [r].[IsAdmin], [r].[IsDeleted], [r].[LastActionDate], [r].[Metadata], [r].[UserId], [t].[Id], [t].[ActionBy], [t].[ConnectId], [t].[Email], [t].[FirstName], [t].[IsAdmin], [t].[IsDeleted], [t].[LastActionDate], [t].[LastName], [t].[Metadata], [t].[Password], [t].[ProfileImageUrl], [t].[Username], [t].[WorkspaceId]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[UserId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[ChatRoomId] = @__request_ChatRoomId_0
2025-08-10 16:50:34.633 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 16:50:34.633 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI) in 5.6716ms
2025-08-10 16:50:34.633 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByChatRoom (ChatSystem.UI)'
2025-08-10 16:50:34.633 +03:00 [INF] HTTP GET /api/Users/GetUsersByChatRoom responded 200 in 7.6549 ms
2025-08-10 16:50:34.633 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByChatRoom?chatRoomId=fbb1c98f-0649-4048-b82c-6c3df60d916d&pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 8.2492ms
2025-08-10 16:51:18.089 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:51:18.090 +03:00 [INF] HTTP GET /chathub responded 200 in 90006.0578 ms
2025-08-10 16:51:18.090 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833788067 - 200 0 text/plain 90006.7374ms
2025-08-10 16:51:18.102 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833878099 - null null
2025-08-10 16:51:18.102 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:51:18.102 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833878099 - 204 null null 0.1873ms
2025-08-10 16:51:18.105 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833878099 - null null
2025-08-10 16:51:18.105 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:51:18.106 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:52:48.113 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:52:48.113 +03:00 [INF] HTTP GET /chathub responded 200 in 90007.4287 ms
2025-08-10 16:52:48.113 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833878099 - 200 0 text/plain 90007.8901ms
2025-08-10 16:52:48.145 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833968118 - null null
2025-08-10 16:52:48.146 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:52:48.146 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833968118 - 204 null null 0.5609ms
2025-08-10 16:52:48.150 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833968118 - null null
2025-08-10 16:52:48.150 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:52:48.150 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:54:18.156 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:54:18.156 +03:00 [INF] HTTP GET /chathub responded 200 in 90006.0847 ms
2025-08-10 16:54:18.156 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754833968118 - 200 0 text/plain 90006.5056ms
2025-08-10 16:54:18.164 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834058161 - null null
2025-08-10 16:54:18.164 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:54:18.164 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834058161 - 204 null null 0.1683ms
2025-08-10 16:54:18.166 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834058161 - null null
2025-08-10 16:54:18.166 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:54:18.166 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:55:48.174 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:55:48.174 +03:00 [INF] HTTP GET /chathub responded 200 in 90008.0967 ms
2025-08-10 16:55:48.174 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834058161 - 200 0 text/plain 90008.3227ms
2025-08-10 16:55:48.211 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834148205 - null null
2025-08-10 16:55:48.211 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:55:48.211 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834148205 - 204 null null 0.3184ms
2025-08-10 16:55:48.218 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834148205 - null null
2025-08-10 16:55:48.218 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:55:48.218 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:57:18.233 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:57:18.233 +03:00 [INF] HTTP GET /chathub responded 200 in 90015.3667 ms
2025-08-10 16:57:18.234 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834148205 - 200 0 text/plain 90015.7233ms
2025-08-10 16:57:18.266 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834238240 - null null
2025-08-10 16:57:18.266 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:57:18.266 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834238240 - 204 null null 0.3777ms
2025-08-10 16:57:18.271 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834238240 - null null
2025-08-10 16:57:18.271 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:57:18.271 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 16:58:48.281 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 16:58:48.281 +03:00 [INF] HTTP GET /chathub responded 200 in 90009.7762 ms
2025-08-10 16:58:48.281 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834238240 - 200 0 text/plain 90010.2206ms
2025-08-10 16:58:48.317 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834328288 - null null
2025-08-10 16:58:48.317 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:58:48.317 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834328288 - 204 null null 0.4483ms
2025-08-10 16:58:48.322 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834328288 - null null
2025-08-10 16:58:48.322 +03:00 [INF] CORS policy execution successful.
2025-08-10 16:58:48.322 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 17:00:18.338 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 17:00:18.338 +03:00 [INF] HTTP GET /chathub responded 200 in 90016.3581 ms
2025-08-10 17:00:18.338 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834328288 - 200 0 text/plain 90016.6866ms
2025-08-10 17:00:18.350 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834418345 - null null
2025-08-10 17:00:18.350 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:00:18.350 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834418345 - 204 null null 0.309ms
2025-08-10 17:00:18.353 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834418345 - null null
2025-08-10 17:00:18.353 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:00:18.354 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 17:01:48.388 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 17:01:48.388 +03:00 [INF] HTTP GET /chathub responded 200 in 90034.4629 ms
2025-08-10 17:01:48.388 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834418345 - 200 0 text/plain 90034.8943ms
2025-08-10 17:01:48.400 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834508396 - null null
2025-08-10 17:01:48.400 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:01:48.400 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834508396 - 204 null null 0.2184ms
2025-08-10 17:01:48.404 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834508396 - null null
2025-08-10 17:01:48.404 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:01:48.404 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 17:03:18.413 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 17:03:18.414 +03:00 [INF] HTTP GET /chathub responded 200 in 90009.6309 ms
2025-08-10 17:03:18.414 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834508396 - 200 0 text/plain 90010.1513ms
2025-08-10 17:03:18.425 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834598422 - null null
2025-08-10 17:03:18.426 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:03:18.426 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834598422 - 204 null null 0.2551ms
2025-08-10 17:03:18.429 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834598422 - null null
2025-08-10 17:03:18.430 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:03:18.430 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 17:04:48.439 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 17:04:48.441 +03:00 [INF] HTTP GET /chathub responded 200 in 90011.0049 ms
2025-08-10 17:04:48.441 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834598422 - 200 0 text/plain 90011.4009ms
2025-08-10 17:04:48.451 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834688447 - null null
2025-08-10 17:04:48.452 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:04:48.452 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834688447 - 204 null null 0.4175ms
2025-08-10 17:04:48.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834688447 - null null
2025-08-10 17:04:48.458 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:04:48.458 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 17:06:18.471 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 17:06:18.471 +03:00 [INF] HTTP GET /chathub responded 200 in 90013.7601 ms
2025-08-10 17:06:18.472 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834688447 - 200 0 text/plain 90014.1413ms
2025-08-10 17:06:18.503 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834778478 - null null
2025-08-10 17:06:18.503 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:06:18.503 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834778478 - 204 null null 0.3728ms
2025-08-10 17:06:18.507 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834778478 - null null
2025-08-10 17:06:18.507 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:06:18.507 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 17:07:48.513 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 17:07:48.513 +03:00 [INF] HTTP GET /chathub responded 200 in 90006.3149 ms
2025-08-10 17:07:48.513 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834778478 - 200 0 text/plain 90006.6931ms
2025-08-10 17:07:48.523 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834868519 - null null
2025-08-10 17:07:48.523 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:07:48.523 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834868519 - 204 null null 0.3492ms
2025-08-10 17:07:48.526 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834868519 - null null
2025-08-10 17:07:48.548 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:07:48.549 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 17:09:18.558 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 17:09:18.558 +03:00 [INF] HTTP GET /chathub responded 200 in 90009.6558 ms
2025-08-10 17:09:18.558 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834868519 - 200 0 text/plain 90032.2615ms
2025-08-10 17:09:18.569 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834958564 - null null
2025-08-10 17:09:18.569 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:09:18.569 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834958564 - 204 null null 0.2827ms
2025-08-10 17:09:18.573 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834958564 - null null
2025-08-10 17:09:18.595 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:09:18.596 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 17:10:48.602 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 17:10:48.602 +03:00 [INF] HTTP GET /chathub responded 200 in 90006.0976 ms
2025-08-10 17:10:48.602 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754834958564 - 200 0 text/plain 90029.0972ms
2025-08-10 17:10:48.618 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754835048612 - null null
2025-08-10 17:10:48.618 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:10:48.618 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754835048612 - 204 null null 0.2359ms
2025-08-10 17:10:48.621 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754835048612 - null null
2025-08-10 17:10:48.622 +03:00 [INF] CORS policy execution successful.
2025-08-10 17:10:48.622 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 17:11:05.788 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 17:11:05.788 +03:00 [INF] HTTP GET /chathub responded 200 in 17166.6270 ms
2025-08-10 17:11:05.789 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=RVd5EtSQufiwz4QA36vSxg&_=1754835048612 - 499 null null 17167.181ms
2025-08-10 22:05:02.068 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - null null
2025-08-10 22:05:02.072 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:02.074 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/Login - 204 null null 7.6197ms
2025-08-10 22:05:02.078 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/api/Users/Login - application/json 35
2025-08-10 22:05:02.082 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:02.085 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 22:05:02.089 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Commands.Users.LoginUser.LoginUserRequest, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 22:05:02.197 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__request_UserName_0='?' (Size = 4000), @__request_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Username] = @__request_UserName_0 AND [u].[Password] = @__request_Password_1
2025-08-10 22:05:02.230 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[Application.Commands.Users.LoginUser.GetLoggedUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 22:05:02.231 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI) in 141.2251ms
2025-08-10 22:05:02.231 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.Login (ChatSystem.UI)'
2025-08-10 22:05:02.232 +03:00 [INF] HTTP POST /api/Users/Login responded 200 in 148.3833 ms
2025-08-10 22:05:02.232 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/api/Users/Login - 200 null application/json; charset=utf-8 154.0589ms
2025-08-10 22:05:02.366 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - null null
2025-08-10 22:05:02.367 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:02.367 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Workspaces - 204 null null 0.3415ms
2025-08-10 22:05:02.398 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users - null null
2025-08-10 22:05:02.398 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:02.398 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users - 204 null null 0.3578ms
2025-08-10 22:05:02.408 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 22:05:02.408 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:02.408 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.4786ms
2025-08-10 22:05:02.414 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Workspaces - application/json null
2025-08-10 22:05:02.414 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:02.416 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 22:05:02.416 +03:00 [INF] Route matched with {action = "GetWorkspaces", controller = "Workspaces"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkspaces(System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.WorkspacesController (ChatSystem.UI).
2025-08-10 22:05:02.420 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:05:02.420 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users - application/json null
2025-08-10 22:05:02.420 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:02.420 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:02.424 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:05:02.424 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 22:05:02.426 +03:00 [INF] HTTP GET /api/Users responded 404 in 2.8895 ms
2025-08-10 22:05:02.426 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users - 404 0 null 5.8328ms
2025-08-10 22:05:02.429 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7003/api/Users, Response status code: 404
2025-08-10 22:05:02.432 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ActionBy], [w].[Email], [w].[IsDeleted], [w].[LastActionDate], [w].[Metadata], [w].[Name]
FROM [Workspaces] AS [w]
WHERE [w].[IsDeleted] = CAST(0 AS bit)
2025-08-10 22:05:02.433 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Workspaces.GetWorkspaceDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:05:02.433 +03:00 [INF] Executed action ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI) in 16.6289ms
2025-08-10 22:05:02.433 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.WorkspacesController.GetWorkspaces (ChatSystem.UI)'
2025-08-10 22:05:02.433 +03:00 [INF] HTTP GET /api/Workspaces responded 200 in 18.4623 ms
2025-08-10 22:05:02.433 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Workspaces - 200 null application/json; charset=utf-8 19.0987ms
2025-08-10 22:05:02.435 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:05:02.478 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 22:05:02.478 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:05:02.485 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 61.334ms
2025-08-10 22:05:02.485 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:05:02.485 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 62.6138 ms
2025-08-10 22:05:02.486 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 499 null application/json; charset=utf-8 65.6261ms
2025-08-10 22:05:06.279 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:05:06.280 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.280 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:05:06.280 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 22:05:06.282 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:05:06.283 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:05:06.283 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.283 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2616ms
2025-08-10 22:05:06.285 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 22:05:06.285 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:05:06.286 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 5.787ms
2025-08-10 22:05:06.286 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:05:06.286 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 6.0981 ms
2025-08-10 22:05:06.286 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 6.3919ms
2025-08-10 22:05:06.330 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:05:06.330 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.331 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:05:06.333 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:05:06.333 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 2.7222 ms
2025-08-10 22:05:06.333 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 3.1178ms
2025-08-10 22:05:06.343 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=Ckv-HP3ElaslJHwpXPhMIg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - null null
2025-08-10 22:05:06.343 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.343 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 22:05:06.343 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 22:05:06.343 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.4978 ms
2025-08-10 22:05:06.344 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=Ckv-HP3ElaslJHwpXPhMIg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - 401 0 null 0.8115ms
2025-08-10 22:05:06.344 +03:00 [INF] Connection id "0HNEN4JCDLMSV", Request id "0HNEN4JCDLMSV:00000003": the application completed without reading the entire request body.
2025-08-10 22:05:06.349 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:05:06.350 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.350 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2705ms
2025-08-10 22:05:06.354 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:05:06.354 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.354 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:05:06.354 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:05:06.354 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4302 ms
2025-08-10 22:05:06.355 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7352ms
2025-08-10 22:05:06.359 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=vnBlC4oWSR9blGWtch-taw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - null null
2025-08-10 22:05:06.359 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.360 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 22:05:06.360 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 22:05:06.360 +03:00 [INF] HTTP GET /chathub responded 401 in 0.2007 ms
2025-08-10 22:05:06.360 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=vnBlC4oWSR9blGWtch-taw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - 401 0 null 0.5925ms
2025-08-10 22:05:06.364 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:05:06.364 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.364 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3374ms
2025-08-10 22:05:06.366 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:05:06.366 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.367 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:05:06.367 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:05:06.367 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3636 ms
2025-08-10 22:05:06.367 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6537ms
2025-08-10 22:05:06.372 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852706370 - null null
2025-08-10 22:05:06.372 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.373 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852706370 - 204 null null 0.194ms
2025-08-10 22:05:06.374 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852706370 - null null
2025-08-10 22:05:06.374 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.375 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:05:06.376 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:05:06.376 +03:00 [INF] HTTP GET /chathub responded 200 in 1.4693 ms
2025-08-10 22:05:06.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852706370 - 200 0 application/octet-stream 1.7458ms
2025-08-10 22:05:06.382 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg - null null
2025-08-10 22:05:06.382 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852706378 - null null
2025-08-10 22:05:06.382 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.382 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.382 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852706378 - 204 null null 0.3997ms
2025-08-10 22:05:06.382 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg - 204 null null 0.4375ms
2025-08-10 22:05:06.387 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg - text/plain;charset=UTF-8 32
2025-08-10 22:05:06.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852706378 - null null
2025-08-10 22:05:06.387 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.387 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.387 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:05:06.387 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:05:06.388 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:05:06.388 +03:00 [INF] HTTP POST /chathub responded 200 in 0.7017 ms
2025-08-10 22:05:06.388 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg - 200 0 text/plain 1.1344ms
2025-08-10 22:05:06.388 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:05:06.389 +03:00 [INF] HTTP GET /chathub responded 200 in 1.3327 ms
2025-08-10 22:05:06.389 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852706378 - 200 3 application/octet-stream 1.8134ms
2025-08-10 22:05:06.395 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852706393 - null null
2025-08-10 22:05:06.395 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.395 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852706393 - 204 null null 0.266ms
2025-08-10 22:05:06.398 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852706393 - null null
2025-08-10 22:05:06.398 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:06.398 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:05:08.195 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 22:05:08.195 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:08.195 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.3972ms
2025-08-10 22:05:08.195 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg - null null
2025-08-10 22:05:08.195 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:08.195 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg - 204 null null 0.1318ms
2025-08-10 22:05:08.199 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg - text/plain;charset=UTF-8 103
2025-08-10 22:05:08.199 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:08.199 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:05:08.199 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:05:08.199 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2761 ms
2025-08-10 22:05:08.199 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg - 200 0 text/plain 0.5736ms
2025-08-10 22:05:08.209 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 22:05:08.209 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:08.209 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3536ms
2025-08-10 22:05:08.223 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 22:05:08.223 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:08.223 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 22:05:08.223 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 22:05:08.224 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:05:08.224 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:08.225 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:05:08.225 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 22:05:08.226 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:05:08.227 +03:00 [INF] HTTP GET /chathub responded 200 in 1828.6215 ms
2025-08-10 22:05:08.227 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852706393 - 200 44 application/octet-stream 1828.9571ms
2025-08-10 22:05:08.231 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:05:08.232 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:05:08.233 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852708230 - null null
2025-08-10 22:05:08.233 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:08.234 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852708230 - 204 null null 0.5038ms
2025-08-10 22:05:08.238 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852708230 - null null
2025-08-10 22:05:08.238 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:05:08.238 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:05:08.240 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 22:05:08.241 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:05:08.241 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 15.891ms
2025-08-10 22:05:08.241 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:05:08.241 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 17.5388 ms
2025-08-10 22:05:08.242 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 17.8696ms
2025-08-10 22:05:08.319 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 22:05:08.320 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:05:08.320 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 96.7122ms
2025-08-10 22:05:08.320 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 22:05:08.320 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 97.1865 ms
2025-08-10 22:05:08.320 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 97.7496ms
2025-08-10 22:06:38.242 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:06:38.243 +03:00 [INF] HTTP GET /chathub responded 200 in 90004.8521 ms
2025-08-10 22:06:38.245 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852708230 - 200 0 text/plain 90005.7362ms
2025-08-10 22:06:38.262 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852798254 - null null
2025-08-10 22:06:38.262 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:06:38.262 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852798254 - 204 null null 1.0152ms
2025-08-10 22:06:38.268 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852798254 - null null
2025-08-10 22:06:38.268 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:06:38.269 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:08:08.275 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:08:08.275 +03:00 [INF] HTTP GET /chathub responded 200 in 90006.5742 ms
2025-08-10 22:08:08.275 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852798254 - 200 0 text/plain 90007.0556ms
2025-08-10 22:08:08.289 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852888285 - null null
2025-08-10 22:08:08.289 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:08:08.289 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852888285 - 204 null null 0.2179ms
2025-08-10 22:08:08.293 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852888285 - null null
2025-08-10 22:08:08.293 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:08:08.293 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:09:38.307 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:09:38.307 +03:00 [INF] HTTP GET /chathub responded 200 in 90014.1944 ms
2025-08-10 22:09:38.307 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852888285 - 200 0 text/plain 90014.5898ms
2025-08-10 22:09:38.321 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852978315 - null null
2025-08-10 22:09:38.322 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:09:38.322 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852978315 - 204 null null 0.5267ms
2025-08-10 22:09:38.325 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852978315 - null null
2025-08-10 22:09:38.326 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:09:38.326 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:11:08.338 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:11:08.338 +03:00 [INF] HTTP GET /chathub responded 200 in 90012.0744 ms
2025-08-10 22:11:08.338 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754852978315 - 200 0 text/plain 90012.4318ms
2025-08-10 22:11:08.350 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853068346 - null null
2025-08-10 22:11:08.350 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:11:08.350 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853068346 - 204 null null 0.3588ms
2025-08-10 22:11:08.355 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853068346 - null null
2025-08-10 22:11:08.355 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:11:08.355 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:12:38.364 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:12:38.364 +03:00 [INF] HTTP GET /chathub responded 200 in 90008.7795 ms
2025-08-10 22:12:38.364 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853068346 - 200 0 text/plain 90009.5278ms
2025-08-10 22:12:38.382 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853158377 - null null
2025-08-10 22:12:38.382 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:12:38.382 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853158377 - 204 null null 0.3863ms
2025-08-10 22:12:38.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853158377 - null null
2025-08-10 22:12:38.387 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:12:38.387 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:14:08.396 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:14:08.397 +03:00 [INF] HTTP GET /chathub responded 200 in 90009.6762 ms
2025-08-10 22:14:08.397 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853158377 - 200 0 text/plain 90010.1951ms
2025-08-10 22:14:08.431 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853248415 - null null
2025-08-10 22:14:08.431 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:14:08.432 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853248415 - 204 null null 0.3665ms
2025-08-10 22:14:08.458 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853248415 - null null
2025-08-10 22:14:08.458 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:14:08.459 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:15:38.465 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:15:38.487 +03:00 [INF] HTTP GET /chathub responded 200 in 90028.2633 ms
2025-08-10 22:15:38.487 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853248415 - 200 0 text/plain 90028.8605ms
2025-08-10 22:15:38.498 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853338493 - null null
2025-08-10 22:15:38.499 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:15:38.499 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853338493 - 204 null null 0.3093ms
2025-08-10 22:15:38.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853338493 - null null
2025-08-10 22:15:38.502 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:15:38.503 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:17:08.508 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:17:08.509 +03:00 [INF] HTTP GET /chathub responded 200 in 90006.3072 ms
2025-08-10 22:17:08.509 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853338493 - 200 0 text/plain 90006.751ms
2025-08-10 22:17:08.519 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853428516 - null null
2025-08-10 22:17:08.519 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:17:08.519 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853428516 - 204 null null 0.2592ms
2025-08-10 22:17:08.522 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853428516 - null null
2025-08-10 22:17:08.522 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:17:08.523 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:18:26.852 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:18:26.852 +03:00 [INF] HTTP GET /chathub responded 200 in 78329.5365 ms
2025-08-10 22:18:26.852 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=wFWgf9sT3n0s8lzd-ez0hg&_=1754853428516 - 499 null null 78329.8319ms
2025-08-10 22:18:27.700 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 22:18:27.700 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.700 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.4396ms
2025-08-10 22:18:27.711 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:18:27.711 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.711 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3519ms
2025-08-10 22:18:27.746 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:18:27.746 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.747 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:18:27.747 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 22:18:27.758 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:18:27.764 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:18:27.764 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.765 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:18:27.765 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:18:27.765 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4728 ms
2025-08-10 22:18:27.765 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7912ms
2025-08-10 22:18:27.789 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 22:18:27.789 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:18:27.789 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 42.6036ms
2025-08-10 22:18:27.790 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:18:27.790 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 43.1758 ms
2025-08-10 22:18:27.790 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 43.5678ms
2025-08-10 22:18:27.846 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=jE0QR1RDw-El2S6GfzAB5Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - null null
2025-08-10 22:18:27.846 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.846 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 22:18:27.846 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 22:18:27.846 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.2189 ms
2025-08-10 22:18:27.846 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=jE0QR1RDw-El2S6GfzAB5Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - 401 0 null 0.5806ms
2025-08-10 22:18:27.846 +03:00 [INF] Connection id "0HNEN4JCDLMSV", Request id "0HNEN4JCDLMSV:00000029": the application completed without reading the entire request body.
2025-08-10 22:18:27.874 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:18:27.874 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.874 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.4202ms
2025-08-10 22:18:27.878 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:18:27.878 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.879 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:18:27.879 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:18:27.879 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5580 ms
2025-08-10 22:18:27.879 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8545ms
2025-08-10 22:18:27.890 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=YgeaHB1s8X46SQY69FFtXA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - null null
2025-08-10 22:18:27.891 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.891 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 22:18:27.891 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 22:18:27.891 +03:00 [INF] HTTP GET /chathub responded 401 in 0.2875 ms
2025-08-10 22:18:27.891 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=YgeaHB1s8X46SQY69FFtXA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - 401 0 null 0.6366ms
2025-08-10 22:18:27.897 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:18:27.897 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.897 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.231ms
2025-08-10 22:18:27.903 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:18:27.903 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.904 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:18:27.904 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:18:27.904 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3671 ms
2025-08-10 22:18:27.904 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6521ms
2025-08-10 22:18:27.910 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853507907 - null null
2025-08-10 22:18:27.910 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.910 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853507907 - 204 null null 0.2566ms
2025-08-10 22:18:27.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853507907 - null null
2025-08-10 22:18:27.913 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.913 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:18:27.913 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:18:27.913 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4012 ms
2025-08-10 22:18:27.913 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853507907 - 200 0 application/octet-stream 0.6644ms
2025-08-10 22:18:27.923 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853507920 - null null
2025-08-10 22:18:27.924 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.924 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853507920 - 204 null null 0.2074ms
2025-08-10 22:18:27.924 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ - null null
2025-08-10 22:18:27.924 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.924 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ - 204 null null 0.1226ms
2025-08-10 22:18:27.927 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853507920 - null null
2025-08-10 22:18:27.927 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ - text/plain;charset=UTF-8 32
2025-08-10 22:18:27.927 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.927 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.927 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:18:27.927 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:18:27.927 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:18:27.927 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3280 ms
2025-08-10 22:18:27.928 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ - 200 0 text/plain 0.6142ms
2025-08-10 22:18:27.928 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:18:27.928 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4856 ms
2025-08-10 22:18:27.928 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853507920 - 200 3 application/octet-stream 0.7485ms
2025-08-10 22:18:27.937 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853507933 - null null
2025-08-10 22:18:27.937 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.938 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853507933 - 204 null null 0.2596ms
2025-08-10 22:18:27.940 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853507933 - null null
2025-08-10 22:18:27.940 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:27.941 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:18:29.144 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 22:18:29.144 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:29.144 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.2878ms
2025-08-10 22:18:29.144 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ - null null
2025-08-10 22:18:29.145 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:29.145 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ - 204 null null 0.1718ms
2025-08-10 22:18:29.149 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ - text/plain;charset=UTF-8 103
2025-08-10 22:18:29.149 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:29.149 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:18:29.150 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:18:29.150 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4182 ms
2025-08-10 22:18:29.150 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ - 200 0 text/plain 0.8041ms
2025-08-10 22:18:29.150 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:18:29.151 +03:00 [INF] HTTP GET /chathub responded 200 in 1210.2748 ms
2025-08-10 22:18:29.151 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853507933 - 200 44 application/octet-stream 1211.1379ms
2025-08-10 22:18:29.151 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 22:18:29.152 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:29.152 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 22:18:29.152 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 22:18:29.161 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 22:18:29.161 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:29.161 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3158ms
2025-08-10 22:18:29.163 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:18:29.166 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:18:29.166 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:29.167 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:18:29.167 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 22:18:29.176 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:18:29.176 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853509173 - null null
2025-08-10 22:18:29.176 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:29.177 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853509173 - 204 null null 0.3533ms
2025-08-10 22:18:29.180 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853509173 - null null
2025-08-10 22:18:29.181 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:18:29.181 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:18:29.185 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 22:18:29.185 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:18:29.185 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 18.4354ms
2025-08-10 22:18:29.185 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:18:29.185 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 18.9071 ms
2025-08-10 22:18:29.186 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 19.4195ms
2025-08-10 22:18:29.259 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 22:18:29.259 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:18:29.259 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 107.1881ms
2025-08-10 22:18:29.259 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 22:18:29.259 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 107.7681 ms
2025-08-10 22:18:29.260 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 108.1161ms
2025-08-10 22:19:59.194 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:19:59.194 +03:00 [INF] HTTP GET /chathub responded 200 in 90013.0771 ms
2025-08-10 22:19:59.194 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853509173 - 200 0 text/plain 90013.496ms
2025-08-10 22:19:59.204 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853599201 - null null
2025-08-10 22:19:59.204 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:19:59.204 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853599201 - 204 null null 0.1871ms
2025-08-10 22:19:59.210 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853599201 - null null
2025-08-10 22:19:59.210 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:19:59.211 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:20:33.733 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:20:33.733 +03:00 [INF] HTTP GET /chathub responded 200 in 34522.5794 ms
2025-08-10 22:20:33.733 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=1pOOf-lc7rIe2dYmBTJPJQ&_=1754853599201 - 499 null null 34523.7102ms
2025-08-10 22:20:34.790 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 22:20:34.790 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.791 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.3621ms
2025-08-10 22:20:34.791 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:20:34.791 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.792 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2989ms
2025-08-10 22:20:34.808 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:20:34.809 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.809 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:20:34.809 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 22:20:34.810 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:20:34.810 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.810 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:20:34.810 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:20:34.810 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.2717 ms
2025-08-10 22:20:34.810 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5197ms
2025-08-10 22:20:34.817 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=vHUGYC_EMXqGuynZqgb26Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - null null
2025-08-10 22:20:34.817 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.817 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 22:20:34.817 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 22:20:34.817 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.2310 ms
2025-08-10 22:20:34.818 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=vHUGYC_EMXqGuynZqgb26Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - 401 0 null 0.5856ms
2025-08-10 22:20:34.818 +03:00 [INF] Connection id "0HNEN4JCDLMSV", Request id "0HNEN4JCDLMSV:00000041": the application completed without reading the entire request body.
2025-08-10 22:20:34.821 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:20:34.825 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:20:34.825 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.825 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3558ms
2025-08-10 22:20:34.832 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:20:34.832 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.832 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:20:34.832 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:20:34.832 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4520 ms
2025-08-10 22:20:34.832 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8855ms
2025-08-10 22:20:34.838 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=nVv8Ex18ia3FqAnnScqZTg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - null null
2025-08-10 22:20:34.838 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.838 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 22:20:34.838 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 22:20:34.838 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1795 ms
2025-08-10 22:20:34.838 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=nVv8Ex18ia3FqAnnScqZTg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - 401 0 null 0.5281ms
2025-08-10 22:20:34.844 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:20:34.845 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.845 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3814ms
2025-08-10 22:20:34.847 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 22:20:34.847 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:20:34.847 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 37.5662ms
2025-08-10 22:20:34.847 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:20:34.847 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 38.4083 ms
2025-08-10 22:20:34.847 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 38.965ms
2025-08-10 22:20:34.848 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:20:34.848 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.849 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:20:34.849 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:20:34.849 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.9061 ms
2025-08-10 22:20:34.850 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.1455ms
2025-08-10 22:20:34.866 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853634857 - null null
2025-08-10 22:20:34.867 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.867 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853634857 - 204 null null 0.2272ms
2025-08-10 22:20:34.869 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853634857 - null null
2025-08-10 22:20:34.870 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.870 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:20:34.870 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:20:34.870 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3906 ms
2025-08-10 22:20:34.870 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853634857 - 200 0 application/octet-stream 0.6577ms
2025-08-10 22:20:34.881 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853634876 - null null
2025-08-10 22:20:34.881 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.882 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853634876 - 204 null null 0.2827ms
2025-08-10 22:20:34.882 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg - null null
2025-08-10 22:20:34.882 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.882 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg - 204 null null 0.1758ms
2025-08-10 22:20:34.886 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg - text/plain;charset=UTF-8 32
2025-08-10 22:20:34.887 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.886 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853634876 - null null
2025-08-10 22:20:34.887 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.887 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:20:34.887 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:20:34.887 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3816 ms
2025-08-10 22:20:34.887 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:20:34.887 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg - 200 0 text/plain 0.7396ms
2025-08-10 22:20:34.887 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:20:34.887 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4611 ms
2025-08-10 22:20:34.887 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853634876 - 200 3 application/octet-stream 0.9745ms
2025-08-10 22:20:34.902 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853634894 - null null
2025-08-10 22:20:34.902 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.902 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853634894 - 204 null null 0.3944ms
2025-08-10 22:20:34.907 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853634894 - null null
2025-08-10 22:20:34.908 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:34.908 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:20:36.215 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 22:20:36.215 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg - null null
2025-08-10 22:20:36.216 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:36.216 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg - 204 null null 0.2348ms
2025-08-10 22:20:36.216 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:36.216 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.3318ms
2025-08-10 22:20:36.219 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg - text/plain;charset=UTF-8 103
2025-08-10 22:20:36.219 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:36.219 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 22:20:36.219 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:20:36.219 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:20:36.219 +03:00 [INF] HTTP POST /chathub responded 200 in 0.2456 ms
2025-08-10 22:20:36.219 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:36.219 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg - 200 0 text/plain 0.5829ms
2025-08-10 22:20:36.219 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 22:20:36.219 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 22:20:36.221 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:20:36.221 +03:00 [INF] HTTP GET /chathub responded 200 in 1312.9428 ms
2025-08-10 22:20:36.221 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853634894 - 200 44 application/octet-stream 1313.4499ms
2025-08-10 22:20:36.225 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 22:20:36.225 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:36.225 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2064ms
2025-08-10 22:20:36.227 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:20:36.228 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:20:36.228 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:36.229 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:20:36.229 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 22:20:36.235 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853636231 - null null
2025-08-10 22:20:36.235 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:36.235 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853636231 - 204 null null 0.2468ms
2025-08-10 22:20:36.238 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853636231 - null null
2025-08-10 22:20:36.238 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:20:36.238 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:20:36.238 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:20:36.248 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 22:20:36.248 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:20:36.248 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 19.4868ms
2025-08-10 22:20:36.248 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:20:36.248 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 19.9581 ms
2025-08-10 22:20:36.248 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 20.5278ms
2025-08-10 22:20:36.293 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 22:20:36.294 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:20:36.294 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 74.3984ms
2025-08-10 22:20:36.294 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 22:20:36.294 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 74.6996 ms
2025-08-10 22:20:36.294 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 75.0398ms
2025-08-10 22:21:32.563 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 22:21:32.564 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:32.564 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.3381ms
2025-08-10 22:21:32.570 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:21:32.571 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:32.571 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:21:32.571 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 22:21:32.585 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:21:32.594 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 22:21:32.594 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:21:32.594 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 22.7965ms
2025-08-10 22:21:32.594 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:21:32.594 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 23.4224 ms
2025-08-10 22:21:32.594 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 23.8981ms
2025-08-10 22:21:42.768 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:21:42.768 +03:00 [INF] HTTP GET /chathub responded 200 in 66530.2793 ms
2025-08-10 22:21:42.768 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=kL7BB7mBqyJkpQpXQFJxXg&_=1754853636231 - 499 null null 66530.6362ms
2025-08-10 22:21:43.013 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 22:21:43.013 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.013 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2579ms
2025-08-10 22:21:43.018 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:21:43.019 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.019 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2439ms
2025-08-10 22:21:43.040 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:21:43.040 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.041 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:21:43.041 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 22:21:43.047 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:21:43.048 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.048 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:21:43.049 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:21:43.049 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.6219 ms
2025-08-10 22:21:43.049 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.8236ms
2025-08-10 22:21:43.051 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:21:43.074 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 22:21:43.074 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:21:43.074 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 33.3589ms
2025-08-10 22:21:43.075 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:21:43.075 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 33.9215 ms
2025-08-10 22:21:43.075 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 34.5047ms
2025-08-10 22:21:43.079 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=0TgoVWJU76uSURb8QyLT5A&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - null null
2025-08-10 22:21:43.079 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.080 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 22:21:43.080 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 22:21:43.080 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1533 ms
2025-08-10 22:21:43.080 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=0TgoVWJU76uSURb8QyLT5A&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - 401 0 null 0.4346ms
2025-08-10 22:21:43.080 +03:00 [INF] Connection id "0HNEN4JCDLMSV", Request id "0HNEN4JCDLMSV:00000057": the application completed without reading the entire request body.
2025-08-10 22:21:43.086 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:21:43.086 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.086 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2445ms
2025-08-10 22:21:43.088 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:21:43.088 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.088 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:21:43.088 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:21:43.088 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4137 ms
2025-08-10 22:21:43.088 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7162ms
2025-08-10 22:21:43.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=CXEj_cfCeGBYuQStQjcsCQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - null null
2025-08-10 22:21:43.093 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.093 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 22:21:43.093 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 22:21:43.093 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1694 ms
2025-08-10 22:21:43.093 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=CXEj_cfCeGBYuQStQjcsCQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - 401 0 null 0.5398ms
2025-08-10 22:21:43.096 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:21:43.096 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.096 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2189ms
2025-08-10 22:21:43.098 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:21:43.098 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.098 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:21:43.098 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:21:43.098 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3196 ms
2025-08-10 22:21:43.098 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.5849ms
2025-08-10 22:21:43.101 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853703100 - null null
2025-08-10 22:21:43.101 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.102 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853703100 - 204 null null 0.2096ms
2025-08-10 22:21:43.104 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853703100 - null null
2025-08-10 22:21:43.104 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.104 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:21:43.105 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:21:43.105 +03:00 [INF] HTTP GET /chathub responded 200 in 0.5009 ms
2025-08-10 22:21:43.105 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853703100 - 200 0 application/octet-stream 0.7533ms
2025-08-10 22:21:43.110 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853703106 - null null
2025-08-10 22:21:43.110 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg - null null
2025-08-10 22:21:43.111 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.111 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.111 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg - 204 null null 0.2271ms
2025-08-10 22:21:43.111 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853703106 - 204 null null 0.262ms
2025-08-10 22:21:43.114 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg - text/plain;charset=UTF-8 32
2025-08-10 22:21:43.114 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853703106 - null null
2025-08-10 22:21:43.114 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.114 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.114 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:21:43.114 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:21:43.114 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:21:43.114 +03:00 [INF] HTTP POST /chathub responded 200 in 0.4673 ms
2025-08-10 22:21:43.115 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg - 200 0 text/plain 1.0356ms
2025-08-10 22:21:43.115 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:21:43.115 +03:00 [INF] HTTP GET /chathub responded 200 in 0.6358 ms
2025-08-10 22:21:43.115 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853703106 - 200 3 application/octet-stream 1.2237ms
2025-08-10 22:21:43.122 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853703120 - null null
2025-08-10 22:21:43.123 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.123 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853703120 - 204 null null 1.2842ms
2025-08-10 22:21:43.126 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853703120 - null null
2025-08-10 22:21:43.126 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.126 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:21:43.994 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg - null null
2025-08-10 22:21:43.994 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - null null
2025-08-10 22:21:43.994 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.994 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 204 null null 0.3123ms
2025-08-10 22:21:43.994 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.994 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg - 204 null null 0.631ms
2025-08-10 22:21:43.997 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg - text/plain;charset=UTF-8 103
2025-08-10 22:21:43.997 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - application/json null
2025-08-10 22:21:43.997 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.997 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.997 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 22:21:43.997 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:21:43.997 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:21:43.997 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3420 ms
2025-08-10 22:21:43.997 +03:00 [INF] Route matched with {action = "GetMessages", controller = "Messages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessagesAsync(System.Guid, Int32, Int32, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.MessagesController (ChatSystem.UI).
2025-08-10 22:21:43.997 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg - 200 0 text/plain 0.6526ms
2025-08-10 22:21:43.998 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:21:43.998 +03:00 [INF] HTTP GET /chathub responded 200 in 871.7628 ms
2025-08-10 22:21:43.998 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853703120 - 200 44 application/octet-stream 872.1444ms
2025-08-10 22:21:43.998 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 22:21:43.998 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:43.998 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2528ms
2025-08-10 22:21:44.002 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:21:44.002 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:44.003 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:21:44.003 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 22:21:44.007 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ChatRooms] AS [c]
        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__request_ChatRoomId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:21:44.009 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853704005 - null null
2025-08-10 22:21:44.009 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:44.009 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853704005 - 204 null null 0.2232ms
2025-08-10 22:21:44.011 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:21:44.012 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853704005 - null null
2025-08-10 22:21:44.012 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:44.012 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:21:44.018 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 22:21:44.018 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:21:44.018 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 15.5186ms
2025-08-10 22:21:44.018 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:21:44.018 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 16.0525 ms
2025-08-10 22:21:44.018 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 16.585ms
2025-08-10 22:21:44.072 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__request_ChatRoomId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[RoomMemberId], [c].[Message], [c].[FilePath], [c].[IsRead], [c].[LastActionDate], COALESCE([u].[FirstName], N'') + N' ' + COALESCE([u].[LastName], N''), [u].[ProfileImageUrl], [r0].[Id], [u].[Id], [t].[Id], [t].[RoomMemberId], [t].[Message], [t].[FilePath], [t].[Timestamp], [t].[SenderName], [t].[SenderProfileImage], [t].[Id0], [t].[Id1]
FROM [ChatMessages] AS [c]
INNER JOIN [RoomMembers] AS [r0] ON [c].[RoomMemberId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[RoomMemberId], [c0].[Message], [c0].[FilePath], [c0].[LastActionDate] AS [Timestamp], COALESCE([u0].[FirstName], N'') + N' ' + COALESCE([u0].[LastName], N'') AS [SenderName], [u0].[ProfileImageUrl] AS [SenderProfileImage], [r1].[Id] AS [Id0], [u0].[Id] AS [Id1], [c0].[ChatMessageId]
    FROM [ChatMessageReplies] AS [c0]
    INNER JOIN [RoomMembers] AS [r1] ON [c0].[RoomMemberId] = [r1].[Id]
    INNER JOIN [Users] AS [u0] ON [r1].[UserId] = [u0].[Id]
) AS [t] ON [c].[Id] = [t].[ChatMessageId]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [RoomMembers] AS [r]
    WHERE [r].[Id] = [c].[RoomMemberId] AND [r].[ChatRoomId] = @__request_ChatRoomId_0)
ORDER BY [c].[LastActionDate] DESC, [c].[Id], [r0].[Id], [u].[Id], [t].[Timestamp], [t].[Id], [t].[Id0]
2025-08-10 22:21:44.073 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Messages.GetMessages.MessageDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:21:44.073 +03:00 [INF] Executed action ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI) in 75.5831ms
2025-08-10 22:21:44.073 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.MessagesController.GetMessagesAsync (ChatSystem.UI)'
2025-08-10 22:21:44.073 +03:00 [INF] HTTP GET /api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d responded 200 in 75.9671 ms
2025-08-10 22:21:44.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Messages/RoomMessages/fbb1c98f-0649-4048-b82c-6c3df60d916d?page=1&pageSize=50 - 200 null application/json; charset=utf-8 76.2495ms
2025-08-10 22:21:56.808 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 22:21:56.809 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:56.809 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2472ms
2025-08-10 22:21:56.818 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:21:56.819 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:21:56.819 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:21:56.819 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 22:21:56.825 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:21:56.833 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 22:21:56.833 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:21:56.833 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 13.9501ms
2025-08-10 22:21:56.833 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:21:56.833 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 14.3848 ms
2025-08-10 22:21:56.833 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 14.8027ms
2025-08-10 22:22:13.754 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - null null
2025-08-10 22:22:13.754 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:22:13.754 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 204 null null 0.2396ms
2025-08-10 22:22:13.758 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:22:13.758 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:22:13.758 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:22:13.758 +03:00 [INF] Route matched with {action = "GetUsersByWorkspace", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByWorkspace(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.UsersController (ChatSystem.UI).
2025-08-10 22:22:13.766 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Workspaces] AS [w]
        WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[Id] = @__request_WorkSpaceId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:22:13.775 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_WorkSpaceId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ActionBy], [u].[ConnectId], [u].[Email], [u].[FirstName], [u].[IsAdmin], [u].[IsDeleted], [u].[LastActionDate], [u].[LastName], [u].[Metadata], [u].[Password], [u].[ProfileImageUrl], [u].[Username], [u].[WorkspaceId]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[WorkspaceId] = @__request_WorkSpaceId_0
2025-08-10 22:22:13.775 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.Users.GetUserDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:22:13.775 +03:00 [INF] Executed action ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI) in 16.9057ms
2025-08-10 22:22:13.775 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.UsersController.GetUsersByWorkspace (ChatSystem.UI)'
2025-08-10 22:22:13.775 +03:00 [INF] HTTP GET /api/Users/GetUsersByWorkspace responded 200 in 17.3042 ms
2025-08-10 22:22:13.776 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/Users/GetUsersByWorkspace?workspaceId=988cd920-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 17.7044ms
2025-08-10 22:23:03.785 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:23:03.785 +03:00 [INF] HTTP GET /chathub responded 200 in 79773.1429 ms
2025-08-10 22:23:03.785 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=-wVNYalfqQh5aCn-YOPYxg&_=1754853704005 - 499 null null 79773.4726ms
2025-08-10 22:24:21.538 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:24:21.539 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:21.539 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2677ms
2025-08-10 22:24:22.210 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 22:24:22.210 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.210 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:24:22.210 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2722ms
2025-08-10 22:24:22.210 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.210 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.281ms
2025-08-10 22:24:22.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:24:22.217 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.217 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:24:22.217 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 22:24:22.221 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:24:22.221 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.221 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:24:22.221 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:24:22.221 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3594 ms
2025-08-10 22:24:22.221 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.6494ms
2025-08-10 22:24:22.230 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=-dJ8L-Ga0FwbRp9kVi97nA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - null null
2025-08-10 22:24:22.231 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.231 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 22:24:22.231 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 22:24:22.231 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1705 ms
2025-08-10 22:24:22.231 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=-dJ8L-Ga0FwbRp9kVi97nA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - 401 0 null 0.4921ms
2025-08-10 22:24:22.231 +03:00 [INF] Connection id "0HNEN4JCDLMT1", Request id "0HNEN4JCDLMT1:00000003": the application completed without reading the entire request body.
2025-08-10 22:24:22.233 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:24:22.237 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:24:22.237 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.237 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2455ms
2025-08-10 22:24:22.240 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:24:22.241 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.241 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:24:22.241 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:24:22.241 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5034 ms
2025-08-10 22:24:22.241 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.8226ms
2025-08-10 22:24:22.250 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=cRoLEFJnXHShMj6kfLIbUQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - null null
2025-08-10 22:24:22.250 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.250 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 22:24:22.250 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 22:24:22.250 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1962 ms
2025-08-10 22:24:22.251 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=cRoLEFJnXHShMj6kfLIbUQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - 401 0 null 0.5785ms
2025-08-10 22:24:22.257 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 22:24:22.257 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:24:22.257 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.257 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2103ms
2025-08-10 22:24:22.257 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:24:22.258 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 40.2237ms
2025-08-10 22:24:22.258 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:24:22.258 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 40.9046 ms
2025-08-10 22:24:22.258 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 41.3222ms
2025-08-10 22:24:22.262 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:24:22.262 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.263 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:24:22.263 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:24:22.263 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4529 ms
2025-08-10 22:24:22.263 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7479ms
2025-08-10 22:24:22.287 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw&_=1754853862284 - null null
2025-08-10 22:24:22.287 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.287 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw&_=1754853862284 - 204 null null 0.214ms
2025-08-10 22:24:22.290 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw&_=1754853862284 - null null
2025-08-10 22:24:22.290 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.291 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:24:22.291 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:24:22.291 +03:00 [INF] HTTP GET /chathub responded 200 in 0.3947 ms
2025-08-10 22:24:22.291 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw&_=1754853862284 - 200 0 application/octet-stream 0.6632ms
2025-08-10 22:24:22.299 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw&_=1754853862296 - null null
2025-08-10 22:24:22.299 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.299 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw&_=1754853862296 - 204 null null 0.2759ms
2025-08-10 22:24:22.302 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw - null null
2025-08-10 22:24:22.302 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.302 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw - 204 null null 0.2536ms
2025-08-10 22:24:22.303 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw&_=1754853862296 - null null
2025-08-10 22:24:22.303 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.304 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:24:22.305 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw - text/plain;charset=UTF-8 32
2025-08-10 22:24:22.305 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.306 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:24:22.306 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:24:22.306 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3348 ms
2025-08-10 22:24:22.306 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw - 200 0 text/plain 0.6254ms
2025-08-10 22:24:22.306 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:24:22.306 +03:00 [INF] HTTP GET /chathub responded 200 in 2.5528 ms
2025-08-10 22:24:22.306 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw&_=1754853862296 - 200 3 application/octet-stream 2.8564ms
2025-08-10 22:24:22.317 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw&_=1754853862314 - null null
2025-08-10 22:24:22.318 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.318 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw&_=1754853862314 - 204 null null 0.2557ms
2025-08-10 22:24:22.321 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw&_=1754853862314 - null null
2025-08-10 22:24:22.321 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:22.321 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:24:42.437 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:24:42.438 +03:00 [INF] HTTP GET /chathub responded 200 in 20116.7676 ms
2025-08-10 22:24:42.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=XwruSuojgh1dhPCe2DJIOw&_=1754853862314 - 499 null null 20117.1548ms
2025-08-10 22:24:44.532 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:24:44.532 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:44.532 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.2836ms
2025-08-10 22:24:44.559 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:24:44.559 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:44.560 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:24:44.560 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:24:44.560 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.7871 ms
2025-08-10 22:24:44.560 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 1.3139ms
2025-08-10 22:24:45.202 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - null null
2025-08-10 22:24:45.202 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.202 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 204 null null 0.2621ms
2025-08-10 22:24:45.202 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:24:45.202 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.202 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.1876ms
2025-08-10 22:24:45.207 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:24:45.207 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.208 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:24:45.208 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:24:45.208 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.4085 ms
2025-08-10 22:24:45.208 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7062ms
2025-08-10 22:24:45.208 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - application/json null
2025-08-10 22:24:45.208 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.208 +03:00 [INF] Executing endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:24:45.208 +03:00 [INF] Route matched with {action = "GetChatRoomsByUser", controller = "ChatRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChatRoomsByUser(System.Guid, System.Threading.CancellationToken) on controller ChatSystem.UI.Controllers.ChatRoomsController (ChatSystem.UI).
2025-08-10 22:24:45.216 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7003/chathub?id=gMkYPuhagUc7DPGKFePjgg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - null null
2025-08-10 22:24:45.216 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__request_UserId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-10 22:24:45.216 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.216 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 22:24:45.216 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 22:24:45.216 +03:00 [INF] HTTP CONNECT /chathub responded 401 in 0.1888 ms
2025-08-10 22:24:45.216 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7003/chathub?id=gMkYPuhagUc7DPGKFePjgg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - 401 0 null 0.662ms
2025-08-10 22:24:45.216 +03:00 [INF] Connection id "0HNEN4JCDLMT3", Request id "0HNEN4JCDLMT3:00000005": the application completed without reading the entire request body.
2025-08-10 22:24:45.224 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:24:45.224 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.224 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.3196ms
2025-08-10 22:24:45.229 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:24:45.229 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.229 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:24:45.229 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:24:45.229 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.3980 ms
2025-08-10 22:24:45.229 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.7403ms
2025-08-10 22:24:45.238 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=ZYkSVIw-8lV9m80ZgPsPgQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - null null
2025-08-10 22:24:45.239 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.239 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-10 22:24:45.239 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-10 22:24:45.239 +03:00 [INF] HTTP GET /chathub responded 401 in 0.1938 ms
2025-08-10 22:24:45.239 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=ZYkSVIw-8lV9m80ZgPsPgQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZmQ0ZTQ0My0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoieXpuIiwiV29ya3NwYWNlSWQiOiI5ODhjZDkyMC0yMjVjLWYwMTEtOTJiMC0xMDY4Mzg1NmZiOTYiLCJleHAiOjE3NTQ4NTYzMDIsImlzcyI6IkFtYW5haENoYXQiLCJhdWQiOiJBbWFuYWhDaGF0QW5ndWxhciJ9.MV3kUwulzX7bqiUCRij0oSmdUquIVk-p_AbvhgIH8dc - 401 0 null 0.7607ms
2025-08-10 22:24:45.240 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RoomMemberId], [t].[Id] AS [ChatRoomId], [t].[Title], [t].[Description], (
    SELECT COUNT(*)
    FROM [RoomMembers] AS [r0]
    WHERE [r0].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = [r0].[ChatRoomId]) AS [TotalMembers], -1 AS [TotalMessages], [r].[LastActionDate], [r].[IsAdmin]
FROM [RoomMembers] AS [r]
INNER JOIN (
    SELECT [c].[Id], [c].[Description], [c].[Title]
    FROM [ChatRooms] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [t] ON [r].[ChatRoomId] = [t].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[UserId] = @__request_UserId_0
ORDER BY [r].[LastActionDate] DESC
2025-08-10 22:24:45.240 +03:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Common.ApiResult`1[[System.Collections.Generic.List`1[[Application.Queries.ChatRooms.GetChatRoomDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 22:24:45.240 +03:00 [INF] Executed action ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI) in 31.5373ms
2025-08-10 22:24:45.240 +03:00 [INF] Executed endpoint 'ChatSystem.UI.Controllers.ChatRoomsController.GetChatRoomsByUser (ChatSystem.UI)'
2025-08-10 22:24:45.240 +03:00 [INF] HTTP GET /api/ChatRooms/GetChatRoomsByUser responded 200 in 31.9611 ms
2025-08-10 22:24:45.240 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/api/ChatRooms/GetChatRoomsByUser?userId=afd4e443-225c-f011-92b0-10683856fb96 - 200 null application/json; charset=utf-8 32.272ms
2025-08-10 22:24:45.246 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null null
2025-08-10 22:24:45.246 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.246 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 204 null null 0.297ms
2025-08-10 22:24:45.250 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - null 0
2025-08-10 22:24:45.250 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.250 +03:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-08-10 22:24:45.251 +03:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-08-10 22:24:45.251 +03:00 [INF] HTTP POST /chathub/negotiate responded 200 in 0.5925 ms
2025-08-10 22:24:45.251 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub/negotiate?negotiateVersion=1 - 200 316 application/json 0.9628ms
2025-08-10 22:24:45.262 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA&_=1754853885258 - null null
2025-08-10 22:24:45.262 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.262 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA&_=1754853885258 - 204 null null 0.2301ms
2025-08-10 22:24:45.265 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA&_=1754853885258 - null null
2025-08-10 22:24:45.265 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.266 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:24:45.266 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:24:45.266 +03:00 [INF] HTTP GET /chathub responded 200 in 0.5344 ms
2025-08-10 22:24:45.266 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA&_=1754853885258 - 200 0 application/octet-stream 0.7943ms
2025-08-10 22:24:45.274 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA&_=1754853885270 - null null
2025-08-10 22:24:45.274 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA - null null
2025-08-10 22:24:45.274 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.274 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.274 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA - 204 null null 0.1328ms
2025-08-10 22:24:45.274 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA&_=1754853885270 - 204 null null 0.2097ms
2025-08-10 22:24:45.277 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA - text/plain;charset=UTF-8 32
2025-08-10 22:24:45.278 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA&_=1754853885270 - null null
2025-08-10 22:24:45.278 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.278 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.278 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:24:45.278 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:24:45.278 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:24:45.278 +03:00 [INF] HTTP POST /chathub responded 200 in 0.3487 ms
2025-08-10 22:24:45.278 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA - 200 0 text/plain 0.6562ms
2025-08-10 22:24:45.278 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:24:45.278 +03:00 [INF] HTTP GET /chathub responded 200 in 0.4763 ms
2025-08-10 22:24:45.278 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA&_=1754853885270 - 200 3 application/octet-stream 0.7536ms
2025-08-10 22:24:45.287 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA&_=1754853885285 - null null
2025-08-10 22:24:45.288 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.288 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA&_=1754853885285 - 204 null null 0.2582ms
2025-08-10 22:24:45.291 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA&_=1754853885285 - null null
2025-08-10 22:24:45.291 +03:00 [INF] CORS policy execution successful.
2025-08-10 22:24:45.291 +03:00 [INF] Executing endpoint '/chatHub'
2025-08-10 22:24:47.291 +03:00 [INF] Executed endpoint '/chatHub'
2025-08-10 22:24:47.291 +03:00 [INF] HTTP GET /chathub responded 200 in 2000.1796 ms
2025-08-10 22:24:47.291 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7003/chathub?id=KTHEmuwcYOzq2tDXLgjeGA&_=1754853885285 - 499 null null 2000.4929ms
